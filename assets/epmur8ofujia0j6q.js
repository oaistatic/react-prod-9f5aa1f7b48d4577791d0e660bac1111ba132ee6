var R=Object.defineProperty;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var h=(o,s,t)=>s in o?R(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,C=(o,s)=>{for(var t in s||(s={}))D.call(s,t)&&h(o,t,s[t]);if(v)for(var t of v(s))P.call(s,t)&&h(o,t,s[t]);return o};import{j as a,r as S,M as N,d as k}from"./i8clt0mfz495j7ii.js";import{ba as L,u as z,a as w,cE as $,aW as I,aV as O,gV as q}from"./ghewn7l2ynbm32fm.js";import{g as F,f as H,C as y,A as W,a as _,b as T}from"./lo4w8zafp8iqjpvk.js";import{a as G,b as U,T as Y}from"./o564tkn3ln8nzryq.js";import{c as Q,f8 as B,f9 as J,fa as K,fb as j,fc as V,fd as X,bq as Z}from"./j0yo6uv6652vva62.js";const de=({size:o="large",position:s="bottom"})=>{const t=L(),n=o==="large"?"4em":"50px",i="".concat(t?"rgba(0,0,0,0)":"rgba(255,255,255,0)",", ").concat(t?"#2f2f2f":"#ffffff");return s==="bottom"?a.jsx("div",{className:"absolute bottom-0 z-20 h-24 w-full transition-colors",style:{height:n,background:"linear-gradient(".concat(i,")")}}):a.jsx("div",{className:"absolute end-0 top-0 bottom-0 z-20 transition-colors",style:{width:n,background:"linear-gradient(to right, ".concat(i,")")}})},ee=()=>a.jsxs(O.div,{role:"button",className:"border-token-border-default bg-token-main-surface-primary absolute start-0 end-0 bottom-3 z-50 mx-auto flex w-fit items-baseline gap-1 rounded-full border px-3 py-1",initial:!1,animate:{opacity:1},exit:{opacity:0,scale:.9},children:[a.jsx("span",{className:"loading-shimmer-pure-text",children:a.jsx(N,C({},k({id:"qmLYih",defaultMessage:"Typing"})))}),a.jsx(Y,{gap:1,padding:0})]}),te=({onScroll:o,textdocId:s,disableScroll:t=!1})=>{const n=z(),i=w(q),c=Q(s),M=w(()=>Z(n).width),l=B(n);if(!c)return null;const{versions:r}=c,e=$(r);if(!e)return null;const d=r.length>1?r[r.length-2]:null,m=J(e),f=K(e),A=j(e),g=G({isReadonlyFromQueryParam:!0}),{content:x,currentlyStreamingLineIndex:E}=F(e,d),b=l?H(e.comments):[],p=l?y.ALL_HIDDEN:y.COMMENTS_READONLY;let u=null;switch(e==null?void 0:e.type){case X.DOCUMENT:u=a.jsx(_,{value:x.trimEnd(),previousValue:d==null?void 0:d.content,comments:b,isRequestActive:m,isRewriting:f,isPreview:!0,isDisabled:!0,hideAccelerators:!0,commentsMode:p,readonlyReason:g,hideToolbar:!0,hideEditOverlay:!0,width:M,modelCursor:A||m&&!f?e==null?void 0:e.modelCursor:void 0,metadata:c.metadata});break;default:e&&V(e.type)&&(u=a.jsx(W,{id:"codemirror",currentlyStreamingLineIndex:E,language:U(e.type),value:x,commentsMode:p,hideToolbar:!0,hideAccelerators:!0,isPreview:!0,readonlyReason:g,comments:b,isRequestActive:m}))}return a.jsxs(T,{children:[a.jsx(T.Content,{disableScroll:t||!i,onScroll:o,children:u}),a.jsx(I,{children:j(e)&&!l&&a.jsx(ee,{})})]})},ce=S.memo(te);export{de as C,ce as T};
//# sourceMappingURL=epmur8ofujia0j6q.js.map
