var C=Object.defineProperty,l=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&p(e,r,t[r]);if(i)for(var r of i(t))h.call(t,r)&&p(e,r,t[r]);return e},d=(e,t)=>l(e,_(t));var u=(e,t)=>{var r={};for(var o in e)c.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&i)for(var o of i(e))t.indexOf(o)<0&&h.call(e,o)&&(r[o]=e[o]);return r};import{A as I,a4 as E,j as s,b as j,r as n}from"./i8clt0mfz495j7ii.js";import{C as y}from"./jjnmzijnee6e9nx1.js";import{u as T,mN as N,f0 as A,f1 as R,cN as P,b0 as g,R as w}from"./ghewn7l2ynbm32fm.js";import{S as F}from"./j0yo6uv6652vva62.js";import"./fgm9uzc3b50cz4e0.js";import"./d30gyor263984jzn.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./o108mlelkx5ejfzn.js";import"./fv135gy2k0pewip3.js";import"./kj8h59p17s2tn6gp.js";import"./hlon4mihnqp86jji.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./f6ek1vdaohim72xh.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./mh1u90j45tiq86ol.js";import"./hht3m8p9e0s4tqnx.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";import"./fn0h0oidnzmutllx.js";import"./fb2095ktsebx1zzy.js";import"./eyao241335injypy.js";import"./bc51ukj7a2qfpnc3.js";import"./hhl3vz1yrrpnwu4u.js";function O(e){const t=e.sharedConversationId,{data:r,isError:o}=j({queryKey:["shared-conversation/".concat(t)],queryFn:()=>w.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=T(),[S]=n.useState(()=>N(f,{sharedConversationId:t})),a=S.id,[v,x]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=A(R.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{r&&a&&(P.updateThreadFromServer(a,r,{skipIfExisting:!0,continuingFromSharedConversationId:t}),x(!0))},[r,t,a]),v&&r?s.jsx(F.Provider,{value:{serverSharedThreadId:e.sharedConversationId},children:s.jsx(y,d(m({},e.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(g,{className:"text-token-text-tertiary"})})}const nt=I(function(){const o=E(),{sharedConversationId:t}=o,r=u(o,["sharedConversationId"]);return s.jsx(O,d(m({},r),{sharedConversationId:t}))});export{nt as default};
//# sourceMappingURL=hdix6f6a9nnc9u47.js.map
