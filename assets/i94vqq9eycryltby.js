const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gr73ffwzttzymtep.js","assets/i8clt0mfz495j7ii.js","assets/fqz8sozslskhjbvs.js"])))=>i.map(i=>d[i]);
var M=Object.defineProperty;var u=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var k=(n,t,i)=>t in n?M(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i,d=(n,t)=>{for(var i in t||(t={}))R.call(t,i)&&k(n,i,t[i]);if(u)for(var i of u(t))j.call(t,i)&&k(n,i,t[i]);return n};import{_ as v,j as _,e as D,r as E,M as w,L as T}from"./i8clt0mfz495j7ii.js";import{o as b,L as C,ed as W,T as m,d as O,bb as F,bc as N,P as A}from"./ghewn7l2ynbm32fm.js";import{n as U,l as V}from"./g5lgy1otfli5p2x7.js";function g(n){var t;return(t=n==null?void 0:n.rate_limit)!=null?t:null}function f(n){var t;return(t=n==null?void 0:n.credits)!=null?t:null}function B(n){const t=g(n),i=[];return t!=null&&t.primary_window&&i.push(t.primary_window),t!=null&&t.secondary_window&&i.push(t.secondary_window),i}function x(n){const t=B(n);return t.length===0?null:t.reduce((i,a)=>i?a.used_percent>i.used_percent?a:i:a)}function I(n){var t,i;return(i=(t=x(n))==null?void 0:t.reset_after_seconds)!=null?i:null}function G(n){var t,i;return(i=(t=x(n))==null?void 0:t.used_percent)!=null?i:null}function y(n){var s;const t=g(n),i=f(n),a=!(i!=null&&i.unlimited)&&Number((s=i==null?void 0:i.balance)!=null?s:0)<20;return((t==null?void 0:t.limit_reached)===!0||(t==null?void 0:t.allowed)===!1)&&a}function S(n,t=80,i=100){var l,o;if(!g(n))return!1;if(y(n))return!0;if(Number((o=(l=f(n))==null?void 0:l.balance)!=null?o:0)>i)return!1;const s=G(n);return typeof s=="number"?s>=t:!1}function H(n){try{const{hourCycle:t,hour12:i}=new Intl.DateTimeFormat(n,{hour:"numeric"}).resolvedOptions(),a={h23:!0,h24:!0,h11:!1,h12:!1};if(t&&t in a)return a[t];if(typeof i=="boolean")return!i}catch(t){}return null}function z(n,t){const i=Math.max(t,0),a=new Date,c=new Date(a.getTime()+i*1e3),s=c.getFullYear()===a.getFullYear()&&c.getMonth()===a.getMonth()&&c.getDate()===a.getDate(),l=H(n.locale),o={hour:"numeric",minute:"2-digit"};l!=null&&(o.hour12=!l);const r=n.formatTime(c,o),h=n.formatDate(c,{dateStyle:"medium"});return s?r:"".concat(h," ").concat(r)}const X=b(()=>v(()=>import("./gr73ffwzttzymtep.js").then(n=>n._),__vite__mapDeps([0,1])),{loading:n=>C(n)}),Y=b(()=>v(()=>import("./fqz8sozslskhjbvs.js").then(n=>n._),__vite__mapDeps([2,1])),{loading:n=>C(n)});function K(){var c;const{data:n}=U(s=>({staleTime:0,refetchInterval:S(s)?6e4:void 0,refetchOnWindowFocus:!0})),t=V(s=>!!s._forcedRateLimit),i=(c=n==null?void 0:n.rate_limit)!=null?c:null,a=S(n);return!i||!a?null:_.jsx($,{resetAfterSeconds:I(n),limitReached:y(n),hasForcedRateLimit:t})}function $({resetAfterSeconds:n,limitReached:t=!1,hasForcedRateLimit:i=!1}){const a=D(),c=W(),[s,l]=E.useState(!1),o=n!=null?a.formatMessage({id:"Vdw3Zf",defaultMessage:"Resets {time}"},{time:z(a,n)}):null;return _.jsx(m,{open:c?s:void 0,onOpenChange:l,label:o!=null?o:a.formatMessage({id:"z90MsD",defaultMessage:"Usage resets soon"}),children:_.jsxs("div",{className:O("inline-flex items-center gap-1.5 rounded-full py-2 ps-3 pe-3.5 text-sm font-medium",t?"bg-token-text-status-error/15 text-token-text-status-error":"bg-token-text-status-warning/15 text-token-text-status-warning"),onClick:c?()=>l(r=>!r):void 0,children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(X,{className:"icon"}),t?_.jsx(w,{id:"JH4ShQ",defaultMessage:"Usage limit reached"}):_.jsx(w,{id:"k4kW93",defaultMessage:"Usage nearing limit"})]}),location.pathname!=="/codex/settings/usage"&&_.jsx(m,{label:a.formatMessage({id:"jqcjgs",defaultMessage:"Open usage settings"}),children:_.jsx(T,{to:"/codex/settings/usage","aria-label":a.formatMessage({id:"Xo2nko",defaultMessage:"Open usage settings"}),children:_.jsx(Y,{className:"icon-sm"})})}),!1]})})}class e{static countEventWithStatsC(t,i=[],a=1){F.count(N.CODEX,t,Object.fromEntries(Object.entries(i).map(([c,s])=>[c,String(s)])),a)}static logEventWithStatsig(t,i,a){A.logEventWithStatsig(t,i,a)}static recordGitAction(t,i,a,c,s,l="regular",o,r){const h=d(d({action:t,mode:l,task_id:c,turn_id:s},o?{message_id:o}:{}),r?{conversation_id:r}:{});e.logEventWithStatsig("chatgpt_wham_git_action","chatgpt_wham_git_action",h);const p=[{key:"action",value:t}];e.countEventWithStatsC("chatgpt_wham_git_action",p,a),e.countEventWithStatsC("chatgpt_wham_git_action",p,i)}static recordWhamTileAction(t){const i={action:t};e.logEventWithStatsig("chatgpt_wham_tile_action","chatgpt_wham_tile_action",i),e.countEventWithStatsC("chatgpt_wham_tile_action",[{key:"action",value:t}])}static recordWhamSystemHintAction(t,i){const a=d({action:t},i?{conversation_id:i}:{});e.logEventWithStatsig("chatgpt_wham_system_hint_action","chatgpt_wham_system_hint_action",a),e.countEventWithStatsC("chatgpt_wham_system_hint_action",[{key:"action",value:t}])}static recordConnectionsClickSetupMfa(){e.logEventWithStatsig("onboarding.connections.click_setup_mfa","onboarding.connections.click_setup_mfa",{}),e.countEventWithStatsC("onboarding.connections.click_setup_mfa")}static recordConnectionsClickConnectGithub(){e.logEventWithStatsig("onboarding.connections.click_connect_github","onboarding.connections.click_connect_github",{}),e.countEventWithStatsC("onboarding.connections.click_connect_github")}static recordClickUseEnvironment(){e.logEventWithStatsig("chatgpt_wham_click_use_environment","chatgpt_wham_click_use_environment",{}),e.countEventWithStatsC("chatgpt_wham_click_use_environment")}static recordConnectionsView(){e.logEventWithStatsig("onboarding.connections.view","onboarding.connections.view",{}),e.countEventWithStatsC("onboarding.connections.view")}static recordClickEnv(){e.logEventWithStatsig("onboarding.click_go_to_environment","onboarding.click_go_to_environment",{}),e.countEventWithStatsC("onboarding.click_go_to_environment")}static recordDataCheckGoBack(){e.logEventWithStatsig("onboarding.data_check.click_go_back","onboarding.data_check.click_go_back",{}),e.countEventWithStatsC("onboarding.data_check.click_go_back")}static recordDataCheckContinue(){e.logEventWithStatsig("onboarding.data_check.click_continue","onboarding.data_check.click_continue",{}),e.countEventWithStatsC("onboarding.data_check.click_continue")}static recordDataCheckView(){e.logEventWithStatsig("onboarding.data_check.view","onboarding.data_check.view",{}),e.countEventWithStatsC("onboarding.data_check.view")}static recordCreateEnvSuccess(){e.logEventWithStatsig("onboarding.environments.create_success","onboarding.environments.create_success",{}),e.countEventWithStatsC("onboarding.environments.create_success")}static recordEnvironmentsView(){e.logEventWithStatsig("onboarding.environments.view","onboarding.environments.view",{}),e.countEventWithStatsC("onboarding.environments.view")}static recordEnvironmentsSubmit(){e.logEventWithStatsig("onboarding.environments.submit","onboarding.environments.submit",{}),e.countEventWithStatsC("onboarding.environments.submit")}static recordStarterTasksView(){e.logEventWithStatsig("onboarding.starter_tasks.view","onboarding.starter_tasks.view",{}),e.countEventWithStatsC("onboarding.starter_tasks.view")}static recordStarterTasksClickComplete(t){e.logEventWithStatsig("onboarding.starter_tasks.click_complete","onboarding.starter_tasks.click_complete",{with_starter_tasks:String(t)}),e.countEventWithStatsC("onboarding.starter_tasks.click_complete",[{key:"with_starter_tasks",value:String(t)}])}static recordOnboardingView(){e.logEventWithStatsig("onboarding.view","onboarding.view",{}),e.countEventWithStatsC("onboarding.view")}static recordClickGetStarted(){e.logEventWithStatsig("onboarding.click_get_started","onboarding.click_get_started",{}),e.countEventWithStatsC("onboarding.click_get_started")}static recordDataCheckToggle(t){e.logEventWithStatsig("onboarding.data_check.toggle_value","onboarding.data_check.toggle_value",{enabled:String(t)}),e.countEventWithStatsC("onboarding.data_check.toggle_value",[{key:"enabled",value:String(t)}])}static recordProposedTaskClicked(t){e.logEventWithStatsig("chatgpt_wham_proposed_task_clicked","chatgpt_wham_proposed_task_clicked",{action:t}),e.countEventWithStatsC("chatgpt_wham_proposed_task_clicked",[{key:"action",value:t}])}static recordLandingPageShown(){e.logEventWithStatsig("chatgpt_wham_landing_page_shown","chatgpt_wham_landing_page_shown",{}),e.countEventWithStatsC("chatgpt_wham_landing_page_shown")}static recordCodexCodeReviewLandingPageShown(){e.logEventWithStatsig("chatgpt_codex_code_review_landing_page_shown","chatgpt_codex_code_review_landing_page_shown",{}),e.countEventWithStatsC("chatgpt_codex_code_review_landing_page_shown")}static recordComposerAction(t){e.logEventWithStatsig("chatgpt_wham_composer_action","chatgpt_wham_composer_action",{action:t}),e.countEventWithStatsC("chatgpt_wham_composer_action",[{key:"action",value:t}])}static recordCancel(t){e.logEventWithStatsig("chatgpt_wham_composer_action","chatgpt_wham_composer_action",{location:t}),e.countEventWithStatsC("chatgpt_wham_composer_action",[{key:"location",value:t}])}static recordUpgradeToTryItButtonClicked(){e.logEventWithStatsig("chatgpt_wham_upgrade_to_try_it_button_clicked","chatgpt_wham_upgrade_to_try_it_button_clicked",{}),e.countEventWithStatsC("chatgpt_wham_upgrade_to_try_it_button_clicked")}static recordLogInButtonClicked(){e.logEventWithStatsig("chatgpt_wham_log_in_button_clicked","chatgpt_wham_log_in_button_clicked",{}),e.countEventWithStatsC("chatgpt_wham_log_in_button_clicked")}static recordLearnMoreLinkClicked(){e.logEventWithStatsig("chatgpt_wham_learn_more_link_clicked","chatgpt_wham_learn_more_link_clicked",{}),e.countEventWithStatsC("chatgpt_wham_learn_more_link_clicked")}static recordFollowUpsSeen(t,i,a){e.logEventWithStatsig("chatgpt_wham_follow_ups_seen","chatgpt_wham_follow_ups_seen",{count:String(a),task_id:t,turn_id:i}),e.countEventWithStatsC("chatgpt_wham_follow_ups_seen")}static recordFollowUpsExpanded(t,i){e.logEventWithStatsig("chatgpt_wham_follow_ups_expanded","chatgpt_wham_follow_ups_expanded",{task_id:t,turn_id:i}),e.countEventWithStatsC("chatgpt_wham_follow_ups_expanded")}static recordFollowUpsClicked(t,i,a,c){e.logEventWithStatsig("chatgpt_wham_follow_ups_clicked","chatgpt_wham_follow_ups_clicked",{task_id:t,turn_id:i,index:String(a),severity:c}),e.countEventWithStatsC("chatgpt_wham_follow_ups_clicked")}static recordSlackLinkClicked(){e.logEventWithStatsig("chatgpt_wham_slack_link_clicked","chatgpt_wham_slack_link_clicked",{}),e.countEventWithStatsC("chatgpt_wham_slack_link_clicked")}static recordSpeculativeSuggestionAccepted(t,i,a){const c={task_id:t,turn_id:i,index:a.toString()};e.logEventWithStatsig("chatgpt_wham_speculative_suggestion_accepted","chatgpt_wham_speculative_suggestion_accepted",c),e.countEventWithStatsC("chatgpt_wham_speculative_suggestion_accepted",[{key:"task_id",value:t},{key:"turn_id",value:i},{key:"index",value:a.toString()}])}static recordSpeculativeSuggestionRejected(t,i,a){const c={task_id:t,turn_id:i,index:a.toString()};e.logEventWithStatsig("chatgpt_wham_speculative_suggestion_rejected","chatgpt_wham_speculative_suggestion_rejected",c),e.countEventWithStatsC("chatgpt_wham_speculative_suggestion_rejected",[{key:"task_id",value:t},{key:"turn_id",value:i},{key:"index",value:a.toString()}])}static recordPreviewImagesCarouselNext(){e.countEventWithStatsC("wham.preview_images.click_next")}static recordPreviewImagesCarouselPrev(){e.countEventWithStatsC("wham.preview_images.click_prev")}}export{e as W,S as a,K as b,z as f,I as g,y as i};
//# sourceMappingURL=i94vqq9eycryltby.js.map
