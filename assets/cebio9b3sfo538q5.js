const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c8sj5q0wb2w4qlno.js","assets/i8clt0mfz495j7ii.js"])))=>i.map(i=>d[i]);
var It=Object.defineProperty,Ct=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var tt=(t,e,s)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,xe=(t,e)=>{for(var s in e||(e={}))dt.call(e,s)&&tt(t,s,e[s]);if(De)for(var s of De(e))ut.call(e,s)&&tt(t,s,e[s]);return t},_e=(t,e)=>Ct(t,Tt(e));var st=(t,e)=>{var s={};for(var n in t)dt.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&De)for(var n of De(t))e.indexOf(n)<0&&ut.call(t,n)&&(s[n]=t[n]);return s};var L=(t,e,s)=>tt(t,typeof e!="symbol"?e+"":e,s);import{f as E,q as ot,_ as bt,c as R,r as I,e as xt,j as r,M as q}from"./i8clt0mfz495j7ii.js";import{kU as Dt,P as ft,c as _t,eT as Ne,b8 as Le,R as vt,f8 as Lt,s as be,iM as Nt,al as Ot,rZ as Et,o as kt,J as At,dj as Rt,f4 as yt,r_ as qt,jM as Gt,d as $,a as T,$ as it,L as Bt,bw as zt,c7 as wt,Z as Ft,gh as pt,aR as Ht,C as Wt}from"./ghewn7l2ynbm32fm.js";import{sc as Kt}from"./j0yo6uv6652vva62.js";import{u as gt}from"./cx4oo5wqa9uf3in8.js";import{b as Vt}from"./owvt7s3ln6qx5fou.js";const Yt=["default","listener","nerd","cynic","robot"],mt={default:E({title:{id:"personality-onboarding_personality_default_title",defaultMessage:"Default"},subtitle:{id:"personality-onboarding_personality_default_subtitle",defaultMessage:"Flexible and helpful"}}),listener:E({title:{id:"personality-onboarding_personality_listener_title",defaultMessage:"Listener"},subtitle:{id:"personality-onboarding_personality_listener_subtitle",defaultMessage:"Reflective and supportive"}}),nerd:E({title:{id:"personality-onboarding_personality_nerd_title",defaultMessage:"Nerd"},subtitle:{id:"personality-onboarding_personality_nerd_subtitle",defaultMessage:"Curious and analytical"}}),cynic:E({title:{id:"personality-onboarding_personality_cynic_title",defaultMessage:"Cynic"},subtitle:{id:"personality-onboarding_personality_cynic_subtitle",defaultMessage:"Blunt and practical"}}),robot:E({title:{id:"personality-onboarding_personality_robot_title",defaultMessage:"Robot"},subtitle:{id:"personality-onboarding_personality_robot_subtitle",defaultMessage:"Precise and efficient"}})},Qt=E({line1:{id:"personality-onboarding_personality_default_intro_1",defaultMessage:"Hi, I’m ChatGPT. I can help you brainstorm ideas, explain tricky concepts, or tackle everyday tasks like writing, planning, or organizing your thoughts."},line2:{id:"personality-onboarding_personality_default_intro_2",defaultMessage:"You can keep it simple with one quick question or build something with me over time—I’ll roll with it either way."},line3:{id:"personality-onboarding_personality_default_intro_3",defaultMessage:"I can remember what matters to you, go deep on a specific topic, or just be a quick sounding board when you need one."}}),Ut=E({line1:{id:"personality-onboarding_personality_listener_intro_1",defaultMessage:"Hi, I’m ChatGPT. I’m here to listen closely, reflect what I hear, and help you sort through what’s on your mind."},line2:{id:"personality-onboarding_personality_listener_intro_2",defaultMessage:"You can use me to talk things through, set intentions, or give shape to your thoughts at your own pace."},line3:{id:"personality-onboarding_personality_listener_intro_3",defaultMessage:"If you’d like, I can help turn those reflections into clear next steps, plans, or messages."}}),Jt=E({line1:{id:"personality-onboarding_personality_nerd_intro_1",defaultMessage:"Hey! I’m ChatGPT. I love digging into ideas—big, tiny, weird, or wonderfully specific."},line2:{id:"personality-onboarding_personality_nerd_intro_2",defaultMessage:"Bring me a question and we’ll break it down, chase connections, and build something together."},line3:{id:"personality-onboarding_personality_nerd_intro_3",defaultMessage:"Whether it’s research, strategy, or some obscure rabbit hole, I’ll happily nerd out right beside you."}}),Zt=E({line1:{id:"personality-onboarding_personality_cynic_intro_1",defaultMessage:"Oh. Hi. I’m ChatGPT. I’ll give you the useful parts and skip the fluff."},line2:{id:"personality-onboarding_personality_cynic_intro_2",defaultMessage:"Toss me your ideas—I’ll poke at the weak spots, call out nonsense, and help you make it sharper."},line3:{id:"personality-onboarding_personality_cynic_intro_3",defaultMessage:"I’m good for gut-checking plans, catching blind spots, and giving it to you straight."}}),Xt=E({line1:{id:"personality-onboarding_personality_robot_intro_1",defaultMessage:"Hello. I am ChatGPT, a language model optimized for structured, accurate output."},line2:{id:"personality-onboarding_personality_robot_intro_2",defaultMessage:"Give me instructions and I will execute them—writing, summarizing, calculating, or retrieving data."},line3:{id:"personality-onboarding_personality_robot_intro_3",defaultMessage:"No chatter. No detours. Just fast, clean answers and exactly what you asked for."}}),es={default:Object.values(Qt),listener:Object.values(Ut),nerd:Object.values(Jt),cynic:Object.values(Zt),robot:Object.values(Xt)};function ts(){return Yt.map(t=>({key:t,label:mt[t].title.defaultMessage,description:mt[t].subtitle.defaultMessage,legacy_messages:es[t],type:"legacy"}))}function ss(t){return{openedAt:Date.now(),closedAt:null,mode:t,selectionCounts:{},finalSelection:null,wasSubmitted:!1}}function ns(t){t.openedAt=Date.now()}function is(t,e){t.selectionCounts[e]=(t.selectionCounts[e]||0)+1,t.finalSelection=e}function at(t,e,s){t.closedAt=Date.now(),t.wasSubmitted=e,s&&(t.finalSelection=s)}function as(t){if(!t.closedAt||!t.openedAt)return null;const e=t.closedAt-t.openedAt;return e<3e4?"under_30_seconds":e<6e4?"30_60_seconds":e<5*6e4?"1_5_minutes":"5_plus_minutes"}async function ht(t){var o;await Dt.yield();const{mode:e,finalSelection:s,wasSubmitted:n}=t,a=(o=as(t))!=null?o:null;ft.logEventWithStatsig("Personality Onboarding: Modal Impression","chatgpt_personality_onboarding_modal_impression",{mode:e});const i=n?"Submit":"Cancel",c="Personality Onboarding: Submit",l=n?"chatgpt_personality_onboarding_submit":"chatgpt_personality_onboarding_cancel";ft.logEventWithStatsig(c,l,{action:i,mode:e,duration_bucket:a,finalSelection:s})}function Mt(){return ot({queryKey:["personalityOnboarding"],queryFn:()=>vt.safeGet("/personality_onboarding")})}_t(t=>Ne(t,()=>Mt()));class os{constructor(e,s,n,a={}){L(this,"selectedPersonality$");L(this,"selectedTraits$");L(this,"serverData$");L(this,"logging");L(this,"mode");L(this,"isLegacy$");L(this,"mockData$");L(this,"serverDataPromise");L(this,"intervalSec$",Le(()=>{var s,n;return(n=(s=this.serverData$().data)==null?void 0:s.interval_sec)!=null?n:4}));L(this,"personalities$",Le(()=>{var n,a,i;let e=[],s=this.selectedPersonality$();if(this.isLegacy$())e=ts();else{const c=this.mockData$(),l=c?{data:c}:null,o=l!=null?l:this.serverData$();(n=o.data)!=null&&n.default_personality_key&&(s=o.data.default_personality_key),e=(i=(a=o.data)==null?void 0:a.personalities)!=null?i:[]}return e.map(c=>_e(xe({},c),{selected$:be(s===c.key)}))}));L(this,"traits$",Le(()=>{const e=this.mockData$(),s=e?{data:e}:null,n=s!=null?s:this.serverData$();return!n||!n.data||!n.data.traits?[]:n.data.traits.map(a=>_e(xe({},a),{selected$:be(this.selectedTraits$().includes(a.key))}))}));var i,c,l,o;this.ctx=e,this.flow=s,this.selectedPersonality$=be((i=a.selectedPersonality$)!=null?i:null),this.selectedTraits$=be((c=a.selectedTraits$)!=null?c:[]),this.mode=n,this.logging=ss(n),this.isLegacy$=be((l=a.isLegacy$)!=null?l:!1),this.mockData$=be((o=a.mockData$)!=null?o:null),this.serverData$=s==="legacy-new-user-personality-flow"?Ne(e,()=>ot({queryKey:["personalityOnboarding_legacy"],queryFn:()=>null})):Ne(e,()=>Mt()),this.serverDataPromise=this.watchServerData()}watchServerData(){let e,s;const n=new Promise((a,i)=>{e=a,s=i});return Nt(()=>{const a=this.serverData$();a.status==="success"?e(a.data):a.status==="error"&&s(a.error)}),n}}function ls(t,e,s,n){return new os(t,e,s,n)}const rs=Lt(ls);function cs(){return ot({queryKey:["personalityTypeList"],queryFn:()=>vt.safeGet("/personality_types")})}const ds=Ot(t=>Ne(t,()=>cs()));_t(t=>Le(()=>{var a;const e=ds(t)();if(!e)return null;const s=Et(t);return(a=e.data)==null?void 0:a.find(i=>i.key===s)}));const nt=kt(()=>bt(()=>Promise.resolve().then(()=>Is),void 0).then(t=>t.PersonalityOnboardingModal)),Es=async({canClose:t,ctx:e,mode:s,flow:n,isLegacy:a,selectedPersonality:i,selectedTraits:c,conversationId:l,onClose:o,onSubmit:d})=>{const p=rs(e,n,s,{isLegacy$:a,selectedPersonality$:i,selectedTraits$:c}),{logging:f}=p;try{await p.serverDataPromise}catch(y){At.addError(y,{ctx:e,mode:s,flow:n,isLegacy:a,selectedPersonality:i,selectedTraits:c,conversationId:l});return}Rt(e,nt,{canClose:t,isOpen:!0,onboarding:p,onClose:()=>{yt(e,nt),at(f,!1,f.finalSelection),ht(f),o==null||o(f)},onSubmit$:y=>{yt(e,nt),at(f,!0,f.finalSelection),ht(f),d==null||d(y,f),s==="personality"&&"key"in y?qt(e,y.key,l):s==="traits"&&Array.isArray(y)&&Gt(e,y.reduce((b,g)=>(b[g.key]="more",b),{}),l)}})};function us(t){"use forget";const e=R.c(23),{personality:s,active:n,intervalSec:a,prefersReducedMotion:i,className:c}=t,l=a===void 0?4:a,o=i===void 0?!1:i,[d,p]=I.useState(0),f=I.useRef(null),y=xt();let b;e[0]!==y||e[1]!==s?(b=()=>{var w;return"type"in s&&s.type==="legacy"?s.legacy_messages.map(v=>y.formatMessage(v)):(w=s.example_messages)!=null?w:[]},e[0]=y,e[1]=s,e[2]=b):b=e[2];const[g]=I.useState(b);let h;e[3]!==n||e[4]!==l||e[5]!==g.length?(h=()=>{if(n)return Kt(f,l*1e3,()=>p(0),()=>p(w=>(w+1)%Math.max(1,g.length)))},e[3]=n,e[4]=l,e[5]=g.length,e[6]=h):h=e[6];let x;e[7]!==n||e[8]!==l||e[9]!==g?(x=[n,g,l],e[7]=n,e[8]=l,e[9]=g,e[10]=x):x=e[10],I.useEffect(h,x);let M;e[11]!==c?(M=$("col-span-full row-span-full grid overflow-clip",c),e[11]=c,e[12]=M):M=e[12];let _;if(e[13]!==d||e[14]!==g||e[15]!==o){let w;e[17]!==d||e[18]!==o?(w=(v,S)=>r.jsx(I.Activity,{mode:S===d?"visible":"hidden",children:r.jsx("div",{className:$("ease-spring-fast col-span-full row-span-full h-full transition-[opacity,display] transition-discrete contain-strict motion-reduce:transition-none! starting:opacity-0",S===d?"opacity-100 duration-2000":"opacity-0 duration-0"),"aria-label":v,children:r.jsx(Vt,{className:"text-token-text-primary! text-heading-2! line-clamp-none cursor-default!",dot:!0,text:v,isStreamingAnimation:!o,onClick:fs})})},S),e[17]=d,e[18]=o,e[19]=w):w=e[19],_=g.map(w),e[13]=d,e[14]=g,e[15]=o,e[16]=_}else _=e[16];let u;return e[20]!==M||e[21]!==_?(u=r.jsx("div",{className:M,"aria-live":"polite",children:_}),e[20]=M,e[21]=_,e[22]=u):u=e[22],u}function fs(){}function $t(t){"use forget";const e=R.c(19),{id:s,selected$:n,canSelect:a,isLegacy:i,logging:c,children:l,className:o,onSelect:d}=t,p=T(n),f=p||a,y=!i||!p?"custom":"accent",b=!i&&"hover:bg-token-bg-tertiary/70 font-normal",g=p||!i?"":a?"bg-token-bg-tertiary text-token-text-secondary hover:bg-token-text-tertiary/70 hover:text-token-interactive-label-secondary-hover":"bg-token-bg-tertiary/75 text-token-text-secondary/75 hover:bg-token-bg-tertiary hover:text-token-text-primary!";let h;e[0]!==o||e[1]!==b||e[2]!==g?(h=$("focus-visible:focus-ring px-4 py-3",b,g,o),e[0]=o,e[1]=b,e[2]=g,e[3]=h):h=e[3];const x=!i,M=i?!f:!1;let _;e[4]!==s||e[5]!==c||e[6]!==d||e[7]!==p||e[8]!==n?(_=()=>{d||n.set(!p),is(c,s),d==null||d(s)},e[4]=s,e[5]=c,e[6]=d,e[7]=p,e[8]=n,e[9]=_):_=e[9];let u;return e[10]!==l||e[11]!==s||e[12]!==p||e[13]!==y||e[14]!==h||e[15]!==x||e[16]!==M||e[17]!==_?(u=r.jsx(it,{color:y,className:h,contentWrapperClassName:"w-full",id:s,fullWidth:x,"data-personality-id":s,role:"checkbox","aria-checked":p,visuallyDisabled:M,type:"button",onClick:_,children:l}),e[10]=l,e[11]=s,e[12]=p,e[13]=y,e[14]=h,e[15]=x,e[16]=M,e[17]=_,e[18]=u):u=e[18],u}const ys=kt(()=>bt(()=>import("./c8sj5q0wb2w4qlno.js").then(t=>t._),__vite__mapDeps([0,1])),{loading:t=>Bt(t)});function ps(t){"use forget";var B;const e=R.c(40);let s,n,a;e[0]!==t?(B=t,{personality:n,isLegacy:a}=B,s=st(B,["personality","isLegacy"]),e[0]=t,e[1]=s,e[2]=n,e[3]=a):(s=e[1],n=e[2],a=e[3]);const i=a===void 0?!1:a,{selected$:c}=s,{key:l,label:o,description:d,icon_src:p}=n,f=T(c),y=!i&&"text-token-text-primary! justify-start";let b;e[4]!==y?(b=$("group/pill py-1! hover:text-white/90",y),e[4]=y,e[5]=b):b=e[5];const g=i?"inline-flex items-center gap-1":"flex w-full items-center gap-3";let h;e[6]!==g?(h=$("justify-start",g),e[6]=g,e[7]=h):h=e[7];let x;e[8]!==p||e[9]!==i?(x=!i&&p&&r.jsx("div",{"aria-hidden":!0,children:r.jsx(zt,{svgString:p,className:"size-[1lh]"})}),e[8]=p,e[9]=i,e[10]=x):x=e[10];const M=!i&&"flex-col";let _;e[11]!==M?(_=$("flex flex-1 items-start",M),e[11]=M,e[12]=_):_=e[12];let u;e[13]!==i?(u=z=>r.jsx("span",{className:$("text-inherit",i?"after:ms-1.5 after:me-1 after:content-['•']":"text-[17px]"),children:z}),e[13]=i,e[14]=u):u=e[14];let w;e[15]!==i||e[16]!==c?(w=z=>r.jsx(gs,{isLegacy:i,selected$:c,children:z}),e[15]=i,e[16]=c,e[17]=w):w=e[17];let v;e[18]!==d||e[19]!==o||e[20]!==w||e[21]!==u?(v=r.jsx(q,{id:"tzFELg",defaultMessage:"<titleSpan>{title}</titleSpan><subtitleSpan>{subtitle}</subtitleSpan>",values:{title:o,subtitle:d,titleSpan:u,subtitleSpan:w}}),e[18]=d,e[19]=o,e[20]=w,e[21]=u,e[22]=v):v=e[22];let S;e[23]!==v||e[24]!==_?(S=r.jsx("div",{className:_,children:v}),e[23]=v,e[24]=_,e[25]=S):S=e[25];let D;e[26]!==i||e[27]!==f?(D=!i&&r.jsx("div",{"aria-hidden":!0,className:$("text-token-interactive-icon-accent-default self-center duration-75 ease-linear motion-safe:transition-opacity",f?"opacity-100":"opacity-0"),children:r.jsx(ys,{})}),e[26]=i,e[27]=f,e[28]=D):D=e[28];let N;e[29]!==S||e[30]!==D||e[31]!==h||e[32]!==x?(N=r.jsxs("div",{className:h,children:[x,S,D]}),e[29]=S,e[30]=D,e[31]=h,e[32]=x,e[33]=N):N=e[33];let A;return e[34]!==s||e[35]!==i||e[36]!==l||e[37]!==N||e[38]!==b?(A=r.jsx($t,_e(xe({id:l,isLegacy:i,className:b},s),{children:N})),e[34]=s,e[35]=i,e[36]=l,e[37]=N,e[38]=b,e[39]=A):A=e[39],A}function gs(t){"use forget";const e=R.c(6),{children:s,selected$:n,isLegacy:a}=t,i=T(n),c=a&&"group-hover/pill:text-inherit",l=i&&a?"text-inherit":"text-token-text-tertiary";let o;e[0]!==c||e[1]!==l?(o=$("text-start",c,l),e[0]=c,e[1]=l,e[2]=o):o=e[2];let d;return e[3]!==s||e[4]!==o?(d=r.jsx("span",{className:o,children:s}),e[3]=s,e[4]=o,e[5]=d):d=e[5],d}function ms(t){"use forget";const e=R.c(19),{personalities:s,canSelectMore:n,logging:a,isLegacy:i,onSelect:c}=t;let l;e[0]!==c||e[1]!==s?(l=b=>{wt(()=>{for(const g of s)g.selected$.set(g.key===b);c==null||c(b)})},e[0]=c,e[1]=s,e[2]=l):l=e[2];const o=l,d=i?"gap-2 max-md:pt-1":"min-md:gap-2";let p;e[3]!==d?(p=$("flex flex-col",d),e[3]=d,e[4]=p):p=e[4];let f;if(e[5]!==n||e[6]!==i||e[7]!==a||e[8]!==o||e[9]!==s){let b;e[11]!==n||e[12]!==i||e[13]!==a||e[14]!==o?(b=g=>r.jsx("li",{children:r.jsx(ps,{personality:g,isLegacy:i,selected$:g.selected$,canSelect:!n,onSelect:o,logging:a})},g.key),e[11]=n,e[12]=i,e[13]=a,e[14]=o,e[15]=b):b=e[15],f=s.map(b),e[5]=n,e[6]=i,e[7]=a,e[8]=o,e[9]=s,e[10]=f}else f=e[10];let y;return e[16]!==p||e[17]!==f?(y=r.jsx("ul",{className:p,"aria-labelledby":"personality-onboarding-personality-list",children:f}),e[16]=p,e[17]=f,e[18]=y):y=e[18],y}function hs(t){"use forget";var i;const e=R.c(8);let s,n;e[0]!==t?(i=t,{trait:n}=i,s=st(i,["trait"]),e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]);let a;return e[3]!==s||e[4]!==n.key||e[5]!==n.label||e[6]!==n.selected$?(a=r.jsx($t,_e(xe({id:n.key,selected$:n.selected$},s),{children:n.label})),e[3]=s,e[4]=n.key,e[5]=n.label,e[6]=n.selected$,e[7]=a):a=e[7],a}function bs(t){"use forget";const e=R.c(14),{traits:s,canSelectMore:n,logging:a,maxSelected:i}=t,c=i===void 0?3:i;let l;e[0]!==c||e[1]!==s?(l=f=>{wt(()=>{var h;const y=s.find(x=>x.key===f);if(!y)return;if(y.selected$()){y.selected$.set(!1);return}const g=s.filter(x=>x!==y&&x.selected$());g.length>=c&&((h=g.shift())==null||h.selected$.set(!1)),y.selected$.set(!0)})},e[0]=c,e[1]=s,e[2]=l):l=e[2];const o=l;let d;if(e[3]!==n||e[4]!==a||e[5]!==o||e[6]!==s){let f;e[8]!==n||e[9]!==a||e[10]!==o?(f=y=>r.jsx("li",{children:r.jsx(hs,{trait:y,canSelect:!n,logging:a,onSelect:o})},y.key),e[8]=n,e[9]=a,e[10]=o,e[11]=f):f=e[11],d=s.map(f),e[3]=n,e[4]=a,e[5]=o,e[6]=s,e[7]=d}else d=e[7];let p;return e[12]!==d?(p=r.jsx("ul",{className:"flex flex-wrap gap-2",children:d}),e[12]=d,e[13]=p):p=e[13],p}function xs(t){"use forget";const e=R.c(3),{count:s,max:n,mode:a}=t;if(s===0&&a==="traits"){let c;return e[0]!==n?(c=r.jsx(q,{id:"personality-onboarding.title.select",defaultMessage:"Choose up to {max}",values:{max:n}}),e[0]=n,e[1]=c):c=e[1],c}let i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(q,{id:"personality-onboarding.title.continue",defaultMessage:"Continue"}),e[2]=i):i=e[2],i}function _s(t){"use forget";var lt;const e=R.c(142),{canClose:s,className:n,onClose:a,onboarding:i,testId:c}=t,{logging:l,mode:o,flow:d}=i,p=(lt=t.isOpen)!=null?lt:!0,f=I.useId(),y=I.useId(),g=Ft()==="rtl",h=xt(),x=gt(!1),M=T(x);let _;e[0]!==i?(_=()=>i.personalities$(),e[0]=i,e[1]=_):_=e[1];const u=T(_);let w;e[2]!==i?(w=()=>i.traits$(),e[2]=i,e[3]=w):w=e[3];const v=T(w);let S;e[4]!==i?(S=()=>i.intervalSec$(),e[4]=i,e[5]=S):S=e[5];const D=T(S);let N,A;e[6]!==l||e[7]!==x?(N=()=>{ns(l);const k=function(O){I.startTransition(()=>{x.set(O)})},m=function(O){k(O.matches)},C=matchMedia("(prefers-reduced-motion: reduce)");return C.addEventListener("change",m),k(C.matches),()=>{C.removeEventListener("change",m)}},A=[x,l],e[6]=l,e[7]=x,e[8]=N,e[9]=A):(N=e[8],A=e[9]),I.useEffect(N,A);const B=I.useRef(null),z=I.useRef(null),G=o==="personality"?1:3;let ve;e[10]!==u?(ve=()=>u.filter(js).length,e[10]=u,e[11]=ve):ve=e[11];const Pt=T(ve);let ke;e[12]!==v?(ke=()=>v.filter(Ss).length,e[12]=v,e[13]=ke):ke=e[13];const St=T(ke),we=o==="personality"?Pt:St,Me=we>G-1,F=gt(!0);let $e;e[14]!==u?($e=()=>u.some(Ps),e[14]=u,e[15]=$e):$e=e[15];const Oe=T($e);let Pe;e[16]!==F||e[17]!==u?(Pe=()=>!F()&&u.some($s),e[16]=F,e[17]=u,e[18]=Pe):Pe=e[18];const Ee=T(Pe);let Se;e[19]!==v?(Se=()=>v.some(Ms),e[19]=v,e[20]=Se):Se=e[20];const jt=T(Se);let je;e[21]!==u?(je=()=>{const k={};for(const m of u)k[m.key]=m.selected$();return k},e[21]=u,e[22]=je):je=e[22];const H=T(je),j=d==="legacy-new-user-personality-flow";let Ie;e[23]!==u?(Ie=()=>{const k=document.activeElement;if(!k||!(k instanceof HTMLButtonElement))return;const m=k.getAttribute("data-personality-id"),C=u.find(P=>P.key===m);return{id:m,focusedElement:k===z.current?"primary-action":k===B.current?"close":"personality",index:C?u.indexOf(C):-1}},e[23]=u,e[24]=Ie):Ie=e[24];const Ae=pt(Ie);let Ce;e[25]!==Ae||e[26]!==u?(Ce=k=>{const m=Ae();if(!m)return!1;const C=u.length;if(!C)return!1;const P=m.focusedElement==="personality"&&m.index>=0?m.index:-1;let O;e:switch(k){case"home":{O=0;break e}case"end":{O=C-1;break e}case"forward":{O=P===-1?0:Math.min(C-1,P+1);break e}case"backward":O=P===-1?C-1:Math.max(0,P-1)}if(O===void 0)return!1;const rt=u[O];if(!rt)return!1;const ct=document.querySelector('[data-personality-id="'.concat(rt.key,'"]'));return ct?(ct.focus(),!0):!1},e[25]=Ae,e[26]=u,e[27]=Ce):Ce=e[27];const Re=pt(Ce),qe=c!=null?c:"modal-personality-onboarding",Ge=!s,Be=j?"@container/personality-onboarding max-w-[min(420px,95dvw)] py-11":"grid place-content-center";let W;e[28]!==n||e[29]!==Be?(W=$(n,Be),e[28]=n,e[29]=Be,e[30]=W):W=e[30];const ze=j?"custom":"fullscreen",Fe=!j&&"@container/personality-onboarding m-auto h-[min(800px,95dvh)] w-[min(420px,95dvw)]";let K;e[31]!==Fe?(K=$(Fe),e[31]=Fe,e[32]=K):K=e[32];let V;e[33]!==l||e[34]!==o||e[35]!==u||e[36]!==t||e[37]!==v?(V=k=>{k.preventDefault();let m;const{onSubmit$:C}=t,P=o==="personality"?u.filter(ws).at(0):v.filter(ks);!P||Array.isArray(P)&&P.length===0||(m="key"in P?P.key:P.map(vs).join(","),at(l,!0,m),C(P))},e[33]=l,e[34]=o,e[35]=u,e[36]=t,e[37]=v,e[38]=V):V=e[38];let Y;e[39]!==Re||e[40]!==g?(Y=k=>{if(k.nativeEvent.isComposing)return;let m;e:switch(k.key){case"ArrowUp":{m="backward";break e}case"ArrowDown":{m="forward";break e}case"ArrowLeft":{m=g?"forward":"backward";break e}case"ArrowRight":{m=g?"backward":"forward";break e}case"Home":{m=g?"end":"home";break e}case"End":m=g?"home":"end"}m&&(k.preventDefault(),Re(m))},e[39]=Re,e[40]=g,e[41]=Y):Y=e[41];let Q;e[42]!==s||e[43]!==a?(Q=s&&r.jsx(Ht,{className:$("m-2 self-end rounded-full!"),ref:B,onClick:a,type:"button"}),e[42]=s,e[43]=a,e[44]=Q):Q=e[44];const He=Ee?"hidden":"visible",We=Ee?"opacity-0 duration-0":"opacity-100 duration-300";let U;e[45]!==We?(U=$("col-span-full row-span-full flex flex-col gap-2 transition-[opacity,display] transition-discrete ease-linear motion-reduce:transition-none! starting:opacity-100",We),e[45]=We,e[46]=U):U=e[46];let J;e[47]!==d?(J=d==="legacy-new-user-personality-flow"?r.jsx(q,{id:"personality-onboarding.modal.title",defaultMessage:"Choose how ChatGPT sounds"}):r.jsx(q,{id:"personality-onboarding.modal.title.try-new",defaultMessage:"Try a new personality for ChatGPT"}),e[47]=d,e[48]=J):J=e[48];let Z;e[49]!==f||e[50]!==J?(Z=r.jsx("h1",{className:"text-heading-2 text-balance",id:f,children:J}),e[49]=f,e[50]=J,e[51]=Z):Z=e[51];let X;e[52]!==d?(X=d==="legacy-new-user-personality-flow"?r.jsx(q,{id:"personality-onboarding.modal.subtitle",defaultMessage:"Adjust the personality ChatGPT uses when responding"}):r.jsx(q,{id:"personality-onboarding.modal.subtitle.try-new",defaultMessage:"Adjust how ChatGPT sounds when responding. You can change this anytime in Settings."}),e[52]=d,e[53]=X):X=e[53];let ee;e[54]!==y||e[55]!==X?(ee=r.jsx("p",{id:y,className:"text-token-text-tertiary text-body-regular text-pretty",children:X}),e[54]=y,e[55]=X,e[56]=ee):ee=e[56];let te;e[57]!==U||e[58]!==Z||e[59]!==ee?(te=r.jsxs("div",{className:U,children:[Z,ee]}),e[57]=U,e[58]=Z,e[59]=ee,e[60]=te):te=e[60];let se;e[61]!==He||e[62]!==te?(se=r.jsx(I.Activity,{mode:He,children:te}),e[61]=He,e[62]=te,e[63]=se):se=e[63];const Ke=Ee?"visible":"hidden";let ne;if(e[64]!==D||e[65]!==h||e[66]!==u||e[67]!==M||e[68]!==H){let k;e[70]!==D||e[71]!==h||e[72]!==M||e[73]!==H?(k=m=>r.jsx(I.Activity,{mode:H[m.key]?"visible":"hidden",children:r.jsx("div",{className:"col-span-full row-span-full grid transition-none!","aria-label":h.formatMessage({id:"personality-onboarding.intro.aria-label",defaultMessage:"Examples of the {personality} personality"},{personality:m.label}),children:r.jsx(us,{personality:m,active:!!H[m.key],intervalSec:D,prefersReducedMotion:M})})},m.key),e[70]=D,e[71]=h,e[72]=M,e[73]=H,e[74]=k):k=e[74],ne=u.map(k),e[64]=D,e[65]=h,e[66]=u,e[67]=M,e[68]=H,e[69]=ne}else ne=e[69];let ie;e[75]!==Ke||e[76]!==ne?(ie=r.jsx(I.Activity,{mode:Ke,children:ne}),e[75]=Ke,e[76]=ne,e[77]=ie):ie=e[77];let ae;e[78]!==se||e[79]!==ie?(ae=r.jsxs("header",{className:"text-token-text-primary grid min-h-[200px] px-11 [font-weight:500] contain-size",children:[se,ie]}),e[78]=se,e[79]=ie,e[80]=ae):ae=e[80];const Ve=j?"flex-1 px-11":"p-4 min-md:p-8";let oe;e[81]!==Ve?(oe=$("space-y-6 overflow-y-auto",Ve),e[81]=Ve,e[82]=oe):oe=e[82];let le;e[83]!==h?(le=h.formatMessage({id:"personality-onboarding.modal.aria-label",defaultMessage:"Choose a personality"}),e[83]=h,e[84]=le):le=e[84];let re;e[85]!==Me||e[86]!==d||e[87]!==F||e[88]!==l||e[89]!==G||e[90]!==o||e[91]!==u||e[92]!==v?(re=o==="personality"?r.jsx(ms,{personalities:u,canSelectMore:Me,logging:l,isLegacy:d==="legacy-new-user-personality-flow",onSelect:()=>{F.set(!1)}}):r.jsx(bs,{traits:v,canSelectMore:Me,logging:l,maxSelected:G}),e[85]=Me,e[86]=d,e[87]=F,e[88]=l,e[89]=G,e[90]=o,e[91]=u,e[92]=v,e[93]=re):re=e[93];let ce;e[94]!==oe||e[95]!==le||e[96]!==re?(ce=r.jsx("section",{className:oe,"aria-label":le,id:"personality-onboarding-personality-list",children:re}),e[94]=oe,e[95]=le,e[96]=re,e[97]=ce):ce=e[97];const Ye=j?"items-center pt-8":"min-md:pt-3";let de;e[98]!==Ye?(de=$("flex flex-col justify-center px-8 min-md:gap-3",Ye),e[98]=Ye,e[99]=de):de=e[99];const Qe="primary",Ue=o==="personality"?!Oe:!jt,Je=!j,Ze=j&&"max-w-[min(256px,70cqw)] px-4 py-2.75",Xe=!j&&"px-4.5 py-4",et=!Oe&&"[--btn-background-color:var(--bg-tertiary)] [--btn-text-color:var(--text-secondary)]";let ue;e[100]!==Ze||e[101]!==Xe||e[102]!==et?(ue=$("focus-visible:focus-ring w-full select-none",Ze,Xe,et),e[100]=Ze,e[101]=Xe,e[102]=et,e[103]=ue):ue=e[103];let fe;e[104]!==G||e[105]!==o||e[106]!==we?(fe=r.jsx(xs,{count:we,max:G,mode:o}),e[104]=G,e[105]=o,e[106]=we,e[107]=fe):fe=e[107];let ye;e[108]!==Qe||e[109]!==Ue||e[110]!==Je||e[111]!==ue||e[112]!==fe?(ye=r.jsx(it,{color:Qe,visuallyDisabled:Ue,fullWidth:Je,className:ue,ref:z,type:"submit",children:fe}),e[108]=Qe,e[109]=Ue,e[110]=Je,e[111]=ue,e[112]=fe,e[113]=ye):ye=e[113];let pe;e[114]!==j||e[115]!==a?(pe=!j&&r.jsx(it,{color:"ghost",fullWidth:!j,className:$("focus-visible:focus-ring w-full select-none",j&&"max-w-[min(256px,70cqw)] px-4 py-2.75",!j&&"px-4.5 py-4"),type:"button",onClick:a,children:r.jsx(q,{id:"personality-onboarding.modal.skip",defaultMessage:"Skip"})}),e[114]=j,e[115]=a,e[116]=pe):pe=e[116];let ge;e[117]!==de||e[118]!==ye||e[119]!==pe?(ge=r.jsxs("footer",{className:de,children:[ye,pe]}),e[117]=de,e[118]=ye,e[119]=pe,e[120]=ge):ge=e[120];let me;e[121]!==Q||e[122]!==ae||e[123]!==ce||e[124]!==ge?(me=r.jsxs("div",{className:"flex size-full flex-col justify-center p-0",children:[Q,ae,ce,ge]}),e[121]=Q,e[122]=ae,e[123]=ce,e[124]=ge,e[125]=me):me=e[125];let he;e[126]!==f||e[127]!==K||e[128]!==V||e[129]!==Y||e[130]!==me?(he=r.jsx("form",{className:K,"aria-labelledby":f,onSubmit:V,onKeyUp:Y,children:me}),e[126]=f,e[127]=K,e[128]=V,e[129]=Y,e[130]=me,e[131]=he):he=e[131];let Te;return e[132]!==f||e[133]!==p||e[134]!==a||e[135]!==y||e[136]!==qe||e[137]!==Ge||e[138]!==W||e[139]!==ze||e[140]!==he?(Te=r.jsx(Wt,{ariaLabelledBy:f,ariaDescribedBy:y,testId:qe,isOpen:p,onClose:a,shouldIgnoreClickOutside:Ge,className:W,noPadding:!0,size:ze,footerContent:null,children:he}),e[132]=f,e[133]=p,e[134]=a,e[135]=y,e[136]=qe,e[137]=Ge,e[138]=W,e[139]=ze,e[140]=he,e[141]=Te):Te=e[141],Te}function vs(t){return t.key}function ks(t){return t.selected$()}function ws(t){return t.selected$()}function Ms(t){return t.selected$()}function $s(t){return t.selected$()}function Ps(t){return t.selected$()}function Ss(t){return t.selected$()}function js(t){return t.selected$()}const Is=Object.freeze(Object.defineProperty({__proto__:null,PersonalityOnboardingModal:_s},Symbol.toStringTag,{value:"Module"}));export{_s as P,Es as o};
//# sourceMappingURL=cebio9b3sfo538q5.js.map
