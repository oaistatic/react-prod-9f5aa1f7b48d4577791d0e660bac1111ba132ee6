const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdp94tw1ktf1pj0a.js","assets/i8clt0mfz495j7ii.js","assets/j2tk9qhizy0n5zaq.js"])))=>i.map(i=>d[i]);
var ie=Object.freeze,de=Object.defineProperty,ke=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var ae=(t,e,n)=>e in t?de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||(e={}))Me.call(e,n)&&ae(t,n,e[n]);if(ce)for(var n of ce(e))Te.call(e,n)&&ae(t,n,e[n]);return t},q=(t,e)=>ke(t,Pe(e));var ne=(t,e)=>ie(de(t,"raw",{value:ie(e||t.slice())}));import{_ as he,c as _,j as s,M,r as E,f as _e,e as Le,u as De,ai as Ie,A as Ee}from"./i8clt0mfz495j7ii.js";import{o as Ce,L as je,u as D,$ as W,F as ve,d as le,b7 as K,aC as $e,bd as Ae,hr as Fe,eK as Oe,hD as Re,aL as We,aT as Ue,h7 as Ge,de as Ye,mN as He,bQ as Qe,mo as Ve,cN as Be,cJ as ze,c5 as fe,fa as qe,bT as Ke,d6 as Je,dK as Xe,a as J,f5 as Ze,bb as et,bc as tt,h as st,bN as nt,ki as ot}from"./ghewn7l2ynbm32fm.js";import{C as lt}from"./fn0h0oidnzmutllx.js";import{N as rt}from"./mpzbsmypy64alaao.js";import{hd as F,f_ as it,lW as ct,iM as ye,oM as at,oN as dt,iO as be,bo as ft,oO as ut,L as I,iQ as Se,g as mt,oP as ue,d5 as gt,oQ as pt,oR as xt,oS as ht,iP as _t,hf as Ct,oT as jt,iN as vt,oU as yt}from"./j0yo6uv6652vva62.js";import{H as oe}from"./ipjqlhzf62msbem0.js";import"./fb2095ktsebx1zzy.js";import"./eyao241335injypy.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";import"./hht3m8p9e0s4tqnx.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./fvjpw0lui4wq7vv3.js";import"./bc51ukj7a2qfpnc3.js";import"./hhl3vz1yrrpnwu4u.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./kj8h59p17s2tn6gp.js";import"./hlon4mihnqp86jji.js";import"./f6ek1vdaohim72xh.js";import"./mh1u90j45tiq86ol.js";const bt=Ce(()=>he(()=>import("./pdp94tw1ktf1pj0a.js").then(t=>t._),__vite__mapDeps([0,1])),{loading:t=>je(t)}),we=t=>{F(t).logEventWithStatsig("(Web) FYP Personalize Tapped","chatgpt_web_fyp_personalize_tapped")},St=t=>{"use forget";const e=_.c(6),{onClick:n}=t,l=D();let r;e[0]!==l||e[1]!==n?(r=()=>{n(),we(l)},e[0]=l,e[1]=n,e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(M,{id:"sZVLRv",defaultMessage:"Curate"}),e[3]=o):o=e[3];let i;return e[4]!==r?(i=s.jsx(W,{icon:bt,onClick:r,children:o}),e[4]=r,e[5]=i):i=e[5],i},wt=t=>{"use forget";const e=_.c(6),{onClick:n}=t,l=D();let r;e[0]!==l||e[1]!==n?(r=()=>{n(),we(l)},e[0]=l,e[1]=n,e[2]=r):r=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(M,{id:"PYkj8c",defaultMessage:"Curate for tomorrow"}),e[3]=o):o=e[3];let i;return e[4]!==r?(i=s.jsx(W,{onClick:r,size:"large",className:"w-full max-w-80",children:o}),e[4]=r,e[5]=i):i=e[5],i},X=t=>{"use forget";const e=_.c(7);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={threshold:.8,onlyOnce:!0},e[0]=n):n=e[0];const[l,r]=it(n);let o,i;e[1]!==l||e[2]!==t?(o=()=>{l&&t()},i=[l,t],e[1]=l,e[2]=t,e[3]=o,e[4]=i):(o=e[3],i=e[4]),E.useEffect(o,i);let c;return e[5]!==r?(c={ref:r},e[5]=r,e[6]=c):c=e[6],c},Nt=Ce(()=>he(()=>import("./j2tk9qhizy0n5zaq.js").then(t=>t._),__vite__mapDeps([2,1])),{loading:t=>je(t)}),me=_e({dislikedCardTitle:{id:"pulse.dislikedCardTitle",defaultMessage:"You'll see less like this."},dislikedCardDescription:{id:"pulse.dislikedCardDescription",defaultMessage:"Sorry this didn't hit the mark. Mind sharing a bit more about why you didn't like it? Every bit of feedback helps shape what shows up next."}});var pe;const Z=ve.div(pe||(pe=ne(["border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors"])));function kt(t){"use forget";const e=_.c(31),{cardId:n,title:l,description:r,image:o,onClick:i,onImpression:c}=t;let a;e[0]!==c?(a=()=>c(),e[0]=c,e[1]=a):a=e[1];const{ref:d}=X(a),{data:u}=ct(n),f=(u==null?void 0:u.reaction)==="dislike",m=o==null?void 0:o.url,g=o==null?void 0:o.fallback_url,p=f&&"grayscale";let b;e[2]!==p?(b=le("h-32 w-32 rounded-2xl",p),e[2]=p,e[3]=b):b=e[3];let C;e[4]!==m||e[5]!==g||e[6]!==b?(C=s.jsx("div",{className:"flex flex-shrink-0 items-center justify-center",children:s.jsx(ye,{src:m,fallbackSrc:g,className:b})}),e[4]=m,e[5]=g,e[6]=b,e[7]=C):C=e[7];let x;e[8]!==f||e[9]!==l?(x=f?s.jsx(M,L({},me.dislikedCardTitle)):l,e[8]=f,e[9]=l,e[10]=x):x=e[10];let j;e[11]!==x?(j=s.jsx("div",{className:"text-xl font-medium",children:x}),e[11]=x,e[12]=j):j=e[12];let k;e[13]!==r||e[14]!==f?(k=f?s.jsx(M,L({},me.dislikedCardDescription)):r,e[13]=r,e[14]=f,e[15]=k):k=e[15];let h;e[16]!==k?(h=s.jsx("div",{children:k}),e[16]=k,e[17]=h):h=e[17];let v;e[18]!==h||e[19]!==j?(v=s.jsxs("div",{className:"flex flex-col gap-1",children:[j,h]}),e[18]=h,e[19]=j,e[20]=v):v=e[20];let S;e[21]!==n?(S=s.jsx(at,{cardId:n}),e[21]=n,e[22]=S):S=e[22];let y;e[23]!==v||e[24]!==S?(y=s.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[v,S]}),e[23]=v,e[24]=S,e[25]=y):y=e[25];let w;return e[26]!==i||e[27]!==d||e[28]!==y||e[29]!==C?(w=s.jsxs(Z,{className:"hover:bg-token-bg-tertiary cursor-pointer",onClick:i,ref:d,children:[C,y]}),e[26]=i,e[27]=d,e[28]=y,e[29]=C,e[30]=w):w=e[30],w}function Pt(t){"use forget";const e=_.c(12),{body:n,dateTs:l,className:r}=t;let o;e[0]!==l?(o=new Date(l*1e3).toLocaleDateString(void 0,{month:"long",day:"numeric"}),e[0]=l,e[1]=o):o=e[1];const i=o;let c;e[2]!==r?(c=le("text-token-text-primary text-4xl",r),e[2]=r,e[3]=c):c=e[3];let a;e[4]!==i||e[5]!==c?(a=s.jsx("div",{className:c,children:i}),e[4]=i,e[5]=c,e[6]=a):a=e[6];let d;e[7]!==n?(d=s.jsx(Ne,{children:n}),e[7]=n,e[8]=d):d=e[8];let u;return e[9]!==a||e[10]!==d?(u=s.jsxs(s.Fragment,{children:[a,d]}),e[9]=a,e[10]=d,e[11]=u):u=e[11],u}function Ne(t){"use forget";const e=_.c(10),{children:n,includeDivider:l}=t,r=l===void 0?!1:l;let o;e[0]!==r?(o=r&&s.jsx(re,{}),e[0]=r,e[1]=o):o=e[1];const i=r&&"pt-8";let c;e[2]!==i?(c=le("text-token-text-primary py-2 text-xl font-medium",i),e[2]=i,e[3]=c):c=e[3];let a;e[4]!==n||e[5]!==c?(a=s.jsx("div",{className:c,children:n}),e[4]=n,e[5]=c,e[6]=a):a=e[6];let d;return e[7]!==o||e[8]!==a?(d=s.jsxs(s.Fragment,{children:[o,a]}),e[7]=o,e[8]=a,e[9]=d):d=e[9],d}function Mt(t){"use forget";const e=_.c(15),{title:n,suggestions:l,onImpression:r}=t;let o;e[0]!==r?(o=()=>r(),e[0]=r,e[1]=o):o=e[1];const{ref:i}=X(o);let c;e[2]!==i?(c=s.jsx(re,{ref:i}),e[2]=i,e[3]=c):c=e[3];let a;e[4]!==n?(a=s.jsx("div",{className:"text-token-text-primary text-start text-xl font-medium",children:n}),e[4]=n,e[5]=a):a=e[5];let d;e[6]!==l||e[7]!==n?(d=s.jsx("div",{className:"flex w-full flex-col gap-2",children:s.jsx(dt,{suggestions:l,question:n})}),e[6]=l,e[7]=n,e[8]=d):d=e[8];let u;e[9]!==a||e[10]!==d?(u=s.jsxs("div",{className:"flex flex-col gap-6 pt-6",children:[a,d]}),e[9]=a,e[10]=d,e[11]=u):u=e[11];let f;return e[12]!==c||e[13]!==u?(f=s.jsxs(s.Fragment,{children:[c,u]}),e[12]=c,e[13]=u,e[14]=f):f=e[14],f}function Tt(t){"use forget";const e=_.c(17),{title:n,body:l,onImpression:r}=t;let o;e[0]!==r?(o=()=>r(),e[0]=r,e[1]=o):o=e[1];const{ref:i}=X(o),c=D();let a;e[2]!==i?(a=s.jsx(re,{ref:i}),e[2]=i,e[3]=a):a=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{className:"bg-token-text-primary flex h-12 w-12 items-center justify-center rounded-full",children:s.jsx(Nt,{className:"text-token-bg-primary"})}),e[4]=d):d=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("br",{}),e[5]=u):u=e[5];let f;e[6]!==l||e[7]!==n?(f=s.jsxs("div",{className:"text-token-text-primary text-center text-xl font-medium",children:[n," ",u," ",l]}),e[6]=l,e[7]=n,e[8]=f):f=e[8];let m;e[9]!==c?(m=s.jsx(wt,{onClick:()=>be(c)}),e[9]=c,e[10]=m):m=e[10];let g;e[11]!==f||e[12]!==m?(g=s.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[d,f,m]}),e[11]=f,e[12]=m,e[13]=g):g=e[13];let p;return e[14]!==a||e[15]!==g?(p=s.jsxs(s.Fragment,{children:[a,g]}),e[14]=a,e[15]=g,e[16]=p):p=e[16],p}var xe;const re=ve.div(xe||(xe=ne(["border-token-border-medium border-b pb-8"]))),Lt=[K.H17180rGmail,K.H17180rGoogleCalendar],T=_e({emailConnectorDescription:{id:"pulse.emailConnectorDescription",defaultMessage:"emails"},calendarConnectorDescription:{id:"pulse.calendarConnectorDescription",defaultMessage:"calendar"},upsellCardTitle:{id:"pulse.upsellCardTitle",defaultMessage:"Get insights from your {connectorDescriptions}"},upsellCardDescription:{id:"pulse.upsellCardDescription",defaultMessage:"Let ChatGPT proactively read {connectorNames} and give you helpful info. {LearnMoreLink}"},connectorsAcceptedText:{id:"pulse.connectorsAcceptedText",defaultMessage:"I'll start showing helpful insights from your {connectorDescriptions} here. You can adjust this anytime in Settings."},connectorsDeclinedText:{id:"pulse.connectorsDeclinedText",defaultMessage:"I won't show anything related to your {connectorDescriptions} here. You can adjust this anytime in Settings."},manageConnectorsCta:{id:"pulse.manageConnectorsCta",defaultMessage:"Manage settings"},connectorsDeclineCta:{id:"pulse.connectorsDeclineCta",defaultMessage:"Don't allow"},connectorsAllowCta:{id:"pulse.connectorsAllowCta",defaultMessage:"Allow"},gmail:{id:"pulse.gmail",defaultMessage:"Gmail"},googleCalendar:{id:"pulse.googleCalendar",defaultMessage:"Google Calendar"}});function Dt(t,e){const l=t.map(i=>oe[i]).filter(i=>Lt.includes(i)).map(i=>i===K.H17180rGmail?{name:e.formatMessage(T.gmail),description:e.formatMessage(T.emailConnectorDescription)}:i===K.H17180rGoogleCalendar?{name:e.formatMessage(T.googleCalendar),description:e.formatMessage(T.calendarConnectorDescription)}:null).filter(i=>i!=null),r=l.map(i=>i.name),o=l.map(i=>i.description);return{connectorNames:e.formatList(r),connectorDescriptions:e.formatList(o)}}const It=t=>{"use forget";const e=_.c(39),{itemId:n,learnMoreUrl:l,image:r,connectorIds:o,onImpression:i}=t,c=D(),a=Le();let d;e[0]!==c?(d=$e(c),e[0]=c,e[1]=d):d=e[1];const{country:u}=d,{openSettings:f}=ft(),{mutate:m,isPending:g}=Ae(!0),{mutate:p}=ut(o,n),[b,C]=E.useState(null);let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={fetchValidLinksOnly:!0,productSku:Fe.CONNECTOR_SETTING},e[2]=x):x=e[2];const{connectorLinks:j,isLoading:k}=Oe(x);let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[3]=h):h=e[3];const[v,S]=E.useState(h),y=Re();let w;e[4]!==j?(w=P=>j.has(P),e[4]=j,e[5]=w):w=e[5];const N=w;let U;e[6]!==m?(U=P=>{m({setting:oe[P],value:!0})},e[6]=m,e[7]=U):U=e[7];const $=U;let G;e[8]!==o||e[9]!==$||e[10]!==N||e[11]!==y?(G=()=>{const P=o.filter(N),O=o.filter(A=>!N(A));P.forEach(A=>$(A)),O.forEach(A=>{y({referrer:Ue.PulseConnectorsProactiveToggle,connectorId:A,showSettingsBehindConnectorLink:!1,noRedirect:!0}),S(O)}),O.length===0&&C("accepted")},e[8]=o,e[9]=$,e[10]=N,e[11]=y,e[12]=G):G=e[12];const ee=G;let Y,H;e[13]!==$||e[14]!==N||e[15]!==v?(Y=()=>{const P=v.filter(N);if(!P.length)return;P.forEach($),C("accepted");const O=v.filter(A=>!P.includes(A));S(O)},H=[v,N,$],e[13]=$,e[14]=N,e[15]=v,e[16]=Y,e[17]=H):(Y=e[16],H=e[17]),E.useEffect(Y,H);let Q;e[18]!==o||e[19]!==N||e[20]!==m||e[21]!==p?(Q=()=>{o.forEach(P=>{N(P)&&m({setting:oe[P],value:!1})}),p(),C("declined")},e[18]=o,e[19]=N,e[20]=m,e[21]=p,e[22]=Q):Q=e[22];const te=Q;let V;e[23]!==o||e[24]!==a?(V=Dt(o,a),e[23]=o,e[24]=a,e[25]=V):V=e[25];const{connectorNames:se,connectorDescriptions:B}=V;let z;return e[26]!==ee||e[27]!==b||e[28]!==B||e[29]!==se||e[30]!==u||e[31]!==te||e[32]!==r||e[33]!==k||e[34]!==g||e[35]!==l||e[36]!==i||e[37]!==f?(z=b?s.jsx($t,{content:s.jsx(M,q(L({},b==="accepted"?T.connectorsAcceptedText:T.connectorsDeclinedText),{values:{connectorDescriptions:B}})),onClick:()=>f(We.Connectors)}):s.jsx(Et,{image:r,connectorNames:se,connectorDescriptions:B,learnMoreUrl:l,declineConnectors:te,acceptConnectors:ee,acceptButtonColor:u==="EU"?"ghost":"primary",isLoading:k||g,onImpression:i}),e[26]=ee,e[27]=b,e[28]=B,e[29]=se,e[30]=u,e[31]=te,e[32]=r,e[33]=k,e[34]=g,e[35]=l,e[36]=i,e[37]=f,e[38]=z):z=e[38],z},Et=t=>{"use forget";const e=_.c(35),{image:n,connectorNames:l,connectorDescriptions:r,learnMoreUrl:o,declineConnectors:i,acceptConnectors:c,acceptButtonColor:a,isLoading:d,onImpression:u}=t;let f;e[0]!==u?(f=()=>u(),e[0]=u,e[1]=f):f=e[1];const{ref:m}=X(f);let g;e[2]!==l||e[3]!==n?(g=s.jsx("div",{className:"flex flex-shrink-0 items-center justify-center",children:s.jsx(ye,{alt:l,src:n,fallbackSrc:null,className:"h-32 w-32 rounded-2xl object-cover"})}),e[2]=l,e[3]=n,e[4]=g):g=e[4];let p;e[5]!==r?(p=s.jsx("div",{className:"text-xl font-medium",children:s.jsx(M,q(L({},T.upsellCardTitle),{values:{connectorDescriptions:r}}))}),e[5]=r,e[6]=p):p=e[6];let b;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(M,{id:"CJ28fH",defaultMessage:"Learn more"}),e[7]=b):b=e[7];let C;e[8]!==o?(C=s.jsx(Ge,{href:o,className:"underline",children:b}),e[8]=o,e[9]=C):C=e[9];let x;e[10]!==l||e[11]!==C?(x=s.jsx("div",{children:s.jsx(M,q(L({},T.upsellCardDescription),{values:{connectorNames:l,LearnMoreLink:C}}))}),e[10]=l,e[11]=C,e[12]=x):x=e[12];let j;e[13]!==p||e[14]!==x?(j=s.jsxs("div",{className:"flex flex-col gap-1",children:[p,x]}),e[13]=p,e[14]=x,e[15]=j):j=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(M,L({},T.connectorsDeclineCta)),e[16]=k):k=e[16];let h;e[17]!==i||e[18]!==d?(h=s.jsx(W,{color:"ghost",className:"border-token-border-light",onClick:i,loading:d,children:k}),e[17]=i,e[18]=d,e[19]=h):h=e[19];let v;e[20]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(M,L({},T.connectorsAllowCta)),e[20]=v):v=e[20];let S;e[21]!==a||e[22]!==c||e[23]!==d?(S=s.jsx(W,{color:a,onClick:c,loading:d,children:v}),e[21]=a,e[22]=c,e[23]=d,e[24]=S):S=e[24];let y;e[25]!==S||e[26]!==h?(y=s.jsxs("div",{className:"flex justify-end gap-2",children:[h,S]}),e[25]=S,e[26]=h,e[27]=y):y=e[27];let w;e[28]!==y||e[29]!==j?(w=s.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[j,y]}),e[28]=y,e[29]=j,e[30]=w):w=e[30];let N;return e[31]!==m||e[32]!==w||e[33]!==g?(N=s.jsxs(Z,{ref:m,children:[g,w]}),e[31]=m,e[32]=w,e[33]=g,e[34]=N):N=e[34],N},$t=t=>{"use forget";const e=_.c(8),{content:n,onClick:l}=t;let r;e[0]!==n?(r=s.jsx("div",{className:"flex-1 text-sm",children:n}),e[0]=n,e[1]=r):r=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(M,L({},T.manageConnectorsCta)),e[2]=o):o=e[2];let i;e[3]!==l?(i=s.jsx(W,{className:"flex-shrink-0",color:"secondary",onClick:l,children:o}),e[3]=l,e[4]=i):i=e[4];let c;return e[5]!==r||e[6]!==i?(c=s.jsxs(Z,{className:"justify-between",children:[r,i]}),e[5]=r,e[6]=i,e[7]=c):c=e[7],c};function At(){"use forget";const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(I,{className:"mb-6 h-12 w-46 rounded-full"}),s.jsx(I,{className:"h-4 w-full max-w-xl rounded-full"}),s.jsx(I,{className:"h-4 w-full max-w-[28rem] rounded-full"})]}),s.jsx(R,{}),s.jsx(R,{withSecondaryAction:!0}),s.jsx(R,{}),s.jsx(R,{}),s.jsx(R,{})]}),t[0]=e):e=t[0],e}function R(t){"use forget";const e=_.c(4),{withSecondaryAction:n}=t,l=n===void 0?!1:n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"flex flex-shrink-0 items-center justify-center",children:s.jsx(I,{className:"h-32 w-32 rounded-2xl"})}),e[0]=r):r=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(I,{className:"h-6 w-3/4 rounded-lg"}),s.jsx(I,{className:"h-4 w-11/12 rounded-lg"}),s.jsx(I,{className:"h-4 w-2/3 rounded-lg"})]}),e[1]=o):o=e[1];let i;return e[2]!==l?(i=s.jsxs(Z,{className:"pointer-events-none",children:[r,s.jsxs("div",{className:"flex flex-1 flex-col justify-between gap-4",children:[o,l?s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx(ge,{}),s.jsx(I,{className:"h-10 w-40 rounded-full"})]}):s.jsx(ge,{})]})]}),e[2]=l,e[3]=i):i=e[3],i}function ge(){"use forget";const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"flex items-center gap-3",children:Array.from({length:4}).map(Ft)}),t[0]=e):e=t[0],e}function Ft(t,e){return s.jsx(I,{className:"h-6 w-6 rounded-full"},e)}function Ot(t,e){"use forget";var a;const n=_.c(7);let l;if(n[0]!==e||n[1]!==t){const d=(a=t.filter(Se).map(Ut).filter(Wt))!=null?a:[];e&&d.push(e),l=d.filter(Rt),n[0]=e,n[1]=t,n[2]=l}else l=n[2];const r=l,o=De();let i,c;n[3]!==r||n[4]!==o?(i=()=>{r.forEach(d=>{o.prefetchQuery(L({},mt({clientThreadId:d})))})},c=[r,o],n[3]=r,n[4]=o,n[5]=i,n[6]=c):(i=n[5],c=n[6]),E.useEffect(i,c)}function Rt(t){return!Ye(t)}function Wt(t){return t!=null}function Ut(t){return t.conversation_id}function Gt(t){"use forget";const e=_.c(6),n=D();let l;e[0]!==t?(l=t.filter(Se).filter(Yt),e[0]=t,e[1]=l):l=e[1];const r=l;let o,i;e[2]!==r||e[3]!==n?(o=()=>{r.forEach(c=>{Ht(n,c.id)})},i=[r,n],e[2]=r,e[3]=n,e[4]=o,e[5]=i):(o=e[4],i=e[5]),E.useEffect(o,i)}function Yt(t){return t.conversation_id==null}const Ht=async(t,e)=>{var o,i;const n=He(t),l=Qe(n.id),r=Ve(t);l||(Be.initThread({clientThreadId:n.id,conversationMode:{kind:ze.PrimaryAssistant},userId:(o=r==null?void 0:r.user)==null?void 0:o.id,accountId:(i=r==null?void 0:r.account)==null?void 0:i.id,disableConversationNavigation:!0,pulseCardId:e}),ue(fe(t),e,n.id)),qe(()=>n.serverId$()!==void 0,()=>{const c=n.serverId$();c&&(Ke(c,a=>(a.disableConversationNavigation=!0,a)),ue(fe(t),e,c))}),await gt({conversation:n,sourceEvent:new Event("pulse-card-stream"),promptMessage:Xe(""),completionType:Je.Next,extraStreamParams:{pulseCompletionParams:{type:"card",card_id:e}}})};function Qt(){"use forget";const t=_.c(15),e=D();let n;t[0]!==e?(n=()=>!pt(e),t[0]=e,t[1]=n):n=t[1];const l=J(n);let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(rt,{hideNewChat:!0}),t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h1",{className:"text-lg font-normal",children:s.jsx(M,{id:"I1hXU9",defaultMessage:"Pulse"})}),t[3]=o):o=t[3];let i;t[4]!==e||t[5]!==l?(i=!l&&s.jsx(St,{onClick:()=>be(e)}),t[4]=e,t[5]=l,t[6]=i):i=t[6];let c;t[7]!==i?(c=s.jsx("div",{className:"h-header-height sticky top-0 z-10 flex shrink-0 items-center ps-6 pe-3",children:s.jsxs("div",{className:"flex grow items-center gap-2",children:[r,s.jsxs("div",{className:"flex w-full items-center justify-between",children:[o,i]})]})}),t[7]=i,t[8]=c):c=t[8];let a;t[9]!==l?(a=s.jsx(Ze,{children:l?s.jsx(xt,{}):s.jsx(Vt,{})}),t[9]=l,t[10]=a):a=t[10];let d;t[11]===Symbol.for("react.memo_cache_sentinel")?(d=!1,t[11]=d):d=t[11];let u;return t[12]!==c||t[13]!==a?(u=s.jsxs("div",{className:"flex min-h-screen flex-col",children:[c,a,d]}),t[12]=c,t[13]=a,t[14]=u):u=t[14],u}function Vt(){"use forget";var f;const t=_.c(10),e=D();let n;t[0]!==e?(n=()=>_t(e),t[0]=e,t[1]=n):n=t[1];const{data:l,isLoading:r}=J(n);let o;t[2]!==(l==null?void 0:l.items)?(o=(f=l==null?void 0:l.items)!=null?f:[],t[2]=l==null?void 0:l.items,t[3]=o):o=t[3];const i=o;let c;t[4]!==e?(c=()=>Ct(e),t[4]=e,t[5]=c):c=t[5];const a=J(c);ht(l==null?void 0:l.id),Ot(i,a),Gt(i);let d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[6]=d):d=t[6],E.useEffect(Bt,d);let u;return t[7]!==r||t[8]!==i?(u=s.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col gap-6 px-4 py-12",children:r?s.jsx(At,{}):s.jsx(zt,{pulseItems:i})}),t[7]=r,t[8]=i,t[9]=u):u=t[9],u}function Bt(){et.count(tt.PULSE,"chatgpt_web_fyp_feed_shown")}const zt=t=>{"use forget";const e=_.c(14),{pulseItems:n}=t,l=D(),{trackCardImpression:r}=jt(),{openModal:o}=vt();let i,c;e[0]!==l?(i=()=>(F(l).logEventWithStatsig("(Web) FYP Feed Shown","chatgpt_web_fyp_feed_shown"),()=>{F(l).logEventWithStatsig("(Web) FYP Feed Hidden","chatgpt_web_fyp_feed_hidden")}),c=[l],e[0]=l,e[1]=i,e[2]=c):(i=e[1],c=e[2]),E.useEffect(i,c);let a;if(e[3]!==l||e[4]!==o||e[5]!==n||e[6]!==r){let u;e[8]!==l||e[9]!==o||e[10]!==r?(u=(f,m)=>{var g,p,b,C,x,j,k,h,v,S,y,w,N;switch(f.content_type){case"header_with_date":return s.jsx(Pt,{body:f.body,dateTs:(g=f.date)!=null?g:0},m);case"commentary":return s.jsx(Ne,{includeDivider:m>0,children:f.title},m);case"card":return s.jsx(kt,{cardId:f.id,image:f.image,title:f.title,description:(p=f.preview_markdown_text)!=null?p:"",onImpression:()=>r(f.id),onClick:()=>{f.conversation_id&&o(f.id)}},m);case"footer":return s.jsx(Tt,{title:(b=f.title)!=null?b:"",body:(C=f.body)!=null?C:"",onImpression:()=>F(l).logEventWithStatsig("(Web) FYP Feed Footer Viewed","chatgpt_web_fyp_feed_footer_viewed")},m);case"survey":return s.jsx(Mt,{suggestions:(j=(x=f.survey_config)==null?void 0:x.prompt.suggestions)!=null?j:[],title:(v=(h=(k=f.survey_config)==null?void 0:k.content)==null?void 0:h.title)!=null?v:"",onImpression:()=>F(l).logEventWithStatsig("(Web) FYP Feed Survey Viewed","chatgpt_web_fyp_feed_survey_viewed")},m);case"connector_proactive_toggle":return st(l,"3304830717")&&((S=f.connector_ids)==null?void 0:S.length)>0&&s.jsx(It,{itemId:f.id,learnMoreUrl:(y=f.learn_more_url)!=null?y:"",image:(N=(w=f.connectors_image)==null?void 0:w.url)!=null?N:"",connectorIds:f.connector_ids,onImpression:()=>F(l).logEventWithStatsig("(Web) FYP Proactive Connector Toggle Shown","chatgpt_web_fyp_proactive_connector_toggle_shown",{connector_ids:f.connector_ids})},m);default:return null}},e[8]=l,e[9]=o,e[10]=r,e[11]=u):u=e[11],a=n.map(u),e[3]=l,e[4]=o,e[5]=n,e[6]=r,e[7]=a}else a=e[7];let d;return e[12]!==a?(d=s.jsx(s.Fragment,{children:a}),e[12]=a,e[13]=d):d=e[13],d};function qt(){"use forget";const t=_.c(4),e=D();let n;t[0]!==e?(n=()=>yt(e),t[0]=e,t[1]=n):n=t[1];const l=J(n);if(l===void 0)return null;if(!l){let o;return t[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Ie,{to:"/",replace:!0}),t[2]=o):o=t[2],o}let r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(Kt,{}),t[3]=r):r=t[3],r}function Kt(){return s.jsx(Jt,{children:s.jsx(Qt,{})})}function Jt(t){"use forget";const e=_.c(5),{children:n}=t,l=D();let r;e[0]!==l?(r=nt(l,ot),e[0]=l,e[1]=r):r=e[1];let o;return e[2]!==n||e[3]!==r?(o=s.jsx(lt,{conversation:r,threadContent:n}),e[2]=n,e[3]=r,e[4]=o):o=e[4],o}const vs=()=>null,ys=()=>!1,bs=Ee(function(){return s.jsx(qt,{})});export{vs as clientLoader,bs as default,ys as shouldRevalidate};
//# sourceMappingURL=l3ok7cnpvl34gbq0.js.map
