const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ekpl12ubjxpdxfy1.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/j0yo6uv6652vva62.js","assets/conversation-small-lq38g8zw.css","assets/ktw3b87sujui39wx.js","assets/nrrhfi0a0bbsg9w2.js","assets/h1jbqtena24viel6.js","assets/m89x2zftpo6hrypr.js","assets/dujttbag0lb0tmgz.js","assets/nr1vc1815n1t71bd.js","assets/hq92in1mea3m9ck2.js","assets/gsas8pb1acnf7jnd.js","assets/klevl8sdnpainbl3.js"])))=>i.map(i=>d[i]);
var _t=Object.defineProperty,$t=Object.defineProperties;var Pt=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var Ct=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var ft=(r,e,t)=>e in r?_t(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e)=>{for(var t in e||(e={}))Ct.call(e,t)&&ft(r,t,e[t]);if(dt)for(var t of dt(e))wt.call(e,t)&&ft(r,t,e[t]);return r},Fe=(r,e)=>$t(r,Pt(e));import{_ as pe,c as B,j as a,r as F,M as Y,L as Et,e as ot,h as Mt}from"./i8clt0mfz495j7ii.js";import{o as he,L as nt,a as T,u as ve,h as ht,d as R,cH as Nt,z as Re,cj as kt,$ as vt,iG as It,gf as Tt,gh as K,f7 as Q,gQ as zt,bN as At,mo as Lt,jH as Ot,e as Ft,ar as Rt,bL as Dt,pR as ut,dj as Ye,f4 as Ze,b8 as et,e$ as Ht}from"./ghewn7l2ynbm32fm.js";import{ak as qt,aj as Bt,aH as jt,ar as Ut,f_ as Vt,as as Gt,af as bt,az as Jt,ai as X,ay as Wt,iI as tt,iE as Kt,mr as Qt,ap as Xt,aS as Yt,aT as Zt,m7 as es,aw as ts,av as ss,ms as os,mt as ns,mu as is,mv as gt,mw as ls,ah as xt,mx as as}from"./j0yo6uv6652vva62.js";import{D as rs}from"./ktw3b87sujui39wx.js";import{P as cs}from"./hht3m8p9e0s4tqnx.js";import{SnorlaxConversationItemOverflowMenu as ms,useProjectsDragDrop as ds}from"./eyao241335injypy.js";import{P as fs,a as us}from"./efrtjupvbvunv8ff.js";import{u as st}from"./cx4oo5wqa9uf3in8.js";import"./nrrhfi0a0bbsg9w2.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";const pt=he(()=>pe(()=>import("./ekpl12ubjxpdxfy1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(r=>r.SnorlaxFileModal)),gs=he(()=>pe(()=>import("./nr1vc1815n1t71bd.js").then(r=>r._),__vite__mapDeps([11,1])),{loading:r=>nt(r)});function xs(r){"use forget";const e=B.c(11),{project:t,onNavigateToConversation:m}=r;qt(t.id);let l;e[0]!==t?(l=()=>t.conversations$().all$(),e[0]=t,e[1]=l):l=e[1];const i=T(l);let o;e[2]!==t?(o=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=o):o=e[3];const c=T(o);let d;e[4]!==c||e[5]!==i||e[6]!==m||e[7]!==t?(d=c&&a.jsx(ps,{items:i,project:t,onNavigateToConversation:m}),e[4]=c,e[5]=i,e[6]=m,e[7]=t,e[8]=d):d=e[8];let u;return e[9]!==d?(u=a.jsx("section",{children:d}),e[9]=d,e[10]=u):u=e[10],u}function ps(r){"use forget";var D,z;const e=B.c(47),{project:t,items:m,onNavigateToConversation:l}=r,i=ve();let o;e[0]!==i?(o=ht(i,"773249106"),e[0]=i,e[1]=o):o=e[1];const c=o;let d;e[2]!==t?(d=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=d):d=e[3];const u=T(d);let s;e[4]!==t?(s=()=>t.gizmo$(),e[4]=t,e[5]=s):s=e[5];const g=T(s);let n;e[6]!==t?(n=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=n):n=e[7];const f=T(n);let v;e[8]!==t?(v=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=v):v=e[9];const x=T(v);let j;e[10]!==t?(j=()=>t.conversations$().cursor$(),e[10]=t,e[11]=j):j=e[11];const P=T(j);let p;e[12]!==t?(p=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=p):p=e[13];const b=T(p);let y;e[14]!==t?(y=()=>t.isShared$(),e[14]=t,e[15]=y):y=e[15];const w=T(y);let _;e[16]!==m||e[17]!==((D=g==null?void 0:g.gizmo)==null?void 0:D.author)?(_=m==null?void 0:m.some(H=>{var Z,J;return"owner"in H&&((Z=H.owner)==null?void 0:Z.user_id)!==((J=g==null?void 0:g.gizmo)==null?void 0:J.author.user_id)}),e[16]=m,e[17]=(z=g==null?void 0:g.gizmo)==null?void 0:z.author,e[18]=_):_=e[18];const E=c&&(w||_),$=b&&"skeleton";let S;e[19]!==$?(S=R("divide-token-bg-tertiary group divide-y",$),e[19]=$,e[20]=S):S=e[20];let M;e[21]!==m||e[22]!==l||e[23]!==g||e[24]!==E?(M=g&&m&&m.map(H=>a.jsx("li",{className:"group/project-item hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:a.jsx(bs,{conversation:H,project:g,showAvatar:E!=null?E:!1,onNavigateToConversation:l})},H.id)),e[21]=m,e[22]=l,e[23]=g,e[24]=E,e[25]=M):M=e[25];let N;e[26]!==u||e[27]!==x||e[28]!==b?(N=!b&&u&&a.jsx(vt,{type:"button",onClick:x,className:"keyboard-not-focused:sr-only",children:a.jsx(Y,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=u,e[27]=x,e[28]=b,e[29]=N):N=e[29];let C;e[30]!==f||e[31]!==t?(C=f&&a.jsx(jt,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:a.jsx(Y,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:a.jsx(gs,{className:"icon"})}),e[30]=f,e[31]=t,e[32]=C):C=e[32];let k;e[33]!==b?(k=b&&a.jsx(hs,{}),e[33]=b,e[34]=k):k=e[34];let L;e[35]!==u||e[36]!==P||e[37]!==x?(L=a.jsx(js,{canFetchMore:u,fetchMore:x},P),e[35]=u,e[36]=P,e[37]=x,e[38]=L):L=e[38];let O;return e[39]!==b||e[40]!==S||e[41]!==M||e[42]!==N||e[43]!==C||e[44]!==k||e[45]!==L?(O=a.jsxs("ol",{className:S,"aria-busy":b,children:[M,N,C,k,L]}),e[39]=b,e[40]=S,e[41]=M,e[42]=N,e[43]=C,e[44]=k,e[45]=L,e[46]=O):O=e[46],O}function hs(){"use forget";const r=B.c(6),e=ot();let t;r[0]!==e?(t=()=>Array.from({length:2},(o,c)=>({id:c,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),r[0]=e,r[1]=t):t=r[1];const[m]=F.useState(t);let l;r[2]!==m?(l=m.map(vs),r[2]=m,r[3]=l):l=r[3];let i;return r[4]!==l?(i=a.jsx(a.Fragment,{children:l}),r[4]=l,r[5]=i):i=r[5],i}function vs(r){return a.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:a.jsx(St,{conversationTitle:r.title,showAvatar:!0,monogram:null,snippet:r.snippet,skeleton:!0})},r.id)}function js(r){"use forget";const e=B.c(8),{canFetchMore:t,fetchMore:m}=r;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={threshold:1},e[0]=l):l=e[0];const[i,o]=Vt(l);let c,d;if(e[1]!==t||e[2]!==m||e[3]!==i?(c=()=>{t&&i&&m()},d=[t,m,i],e[1]=t,e[2]=m,e[3]=i,e[4]=c,e[5]=d):(c=e[4],d=e[5]),F.useEffect(c,d),!t)return null;let u;return e[6]!==o?(u=a.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:o}),e[6]=o,e[7]=u):u=e[7],u}const bs=r=>{"use forget";var M,N;const e=B.c(36),{conversation:t,project:m,showAvatar:l,onNavigateToConversation:i}=r,o=(M=Nt(t.id,Ss))!=null?M:t.title,[c,d]=F.useState(!1);let u,s;e[0]!==t.id?(u=()=>It(Ut,{editTitleInMainScreen:C=>{const{serverThreadId:k}=C;k===t.id&&d(!0)}}),s=[t.id],e[0]=t.id,e[1]=u,e[2]=s):(u=e[1],s=e[2]),F.useEffect(u,s);const g=ve(),{snippet:n}=t;let f,v,x,j,P;if(e[3]!==t||e[4]!==g||e[5]!==m.gizmo){const C=(N=Re(g))==null?void 0:N.normalizedAccountUserId;f="owner"in t?t.owner:null,j=f==null?void 0:f.user_id,v=f==null?void 0:f.name,x=f==null?void 0:f.user_email,P=kt(t.id,{project:m.gizmo,ownerUserId:j,accountUserId:C}),e[3]=t,e[4]=g,e[5]=m.gizmo,e[6]=f,e[7]=v,e[8]=x,e[9]=j,e[10]=P}else f=e[6],v=e[7],x=e[8],j=e[9],P=e[10];const p=P;let b;e[11]!==t||e[12]!==c?(b=c?a.jsx(Bt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{d(!1)}}):null,e[11]=t,e[12]=c,e[13]=b):b=e[13];let y;e[14]!==t||e[15]!==c?(y=!c&&a.jsx(ms,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=c,e[16]=y):y=e[16];const w=n?!1:"snippet";let _;e[17]!==f||e[18]!==v||e[19]!==x||e[20]!==j?(_=f&&v&&j?{label:v,id:j,sublabel:x}:null,e[17]=f,e[18]=v,e[19]=x,e[20]=j,e[21]=_):_=e[21];let I;e[22]!==o||e[23]!==l||e[24]!==n||e[25]!==b||e[26]!==y||e[27]!==w||e[28]!==_?(I=a.jsx(St,{conversationTitle:o,editor:b,overflowMenu:y,snippet:n,skeleton:w,showAvatar:l,monogram:_}),e[22]=o,e[23]=l,e[24]=n,e[25]=b,e[26]=y,e[27]=w,e[28]=_,e[29]=I):I=e[29];const E=I;if(c)return E;let $;e[30]!==i?($=C=>{i==null||i(),(C.target instanceof HTMLElement&&C.target.dataset.preventDefault||C.target instanceof SVGElement)&&C.preventDefault()},e[30]=i,e[31]=$):$=e[31];let S;return e[32]!==E||e[33]!==p||e[34]!==$?(S=a.jsx(Et,{to:p,draggable:!1,className:"w-full",onClick:$,children:E}),e[32]=E,e[33]=p,e[34]=$,e[35]=S):S=e[35],S};function St({showAvatar:r,monogram:e,editor:t,overflowMenu:m,conversationTitle:l,skeleton:i,snippet:o}){return a.jsxs("div",{className:R("flex w-full items-center gap-4",i&&"group skeleton"),children:[r&&a.jsx(Gt,{monogram:e}),a.jsxs("div",{className:"grow overflow-hidden",children:[t||a.jsx("div",{className:R("text-sm font-medium",i===!0&&"skeleton-child w-fit min-w-[50%]"),children:l}),a.jsx("div",{className:R("text-token-text-secondary min-h-0 truncate text-sm",i&&"skeleton-child mt-px w-fit"),children:o})]}),m]})}function Ss(r){return r==null?void 0:r.title}function ys(r){"use forget";var N,C;const e=B.c(37),{onRequestEdit:t,onRequestAddFiles:m,onRequestUpdateProject:l,projectData:i}=r,o=ve(),c=F.use(bt),d=T(c.isSkeleton$),{canEdit:u}=Tt(i);let s;e[0]!==o?(s=(N=Re(o))==null?void 0:N.normalizedAccountUserId,e[0]=o,e[1]=s):s=e[1];const g=s,n=((C=i==null?void 0:i.gizmo.author)==null?void 0:C.user_id)===g;let f;e[2]!==c?(f=()=>{var k;return!!((k=c.conversations$().all$())!=null&&k.length)},e[2]=c,e[3]=f):f=e[3];const v=T(f);let x;e[4]!==c?(x=()=>c.title$(),e[4]=c,e[5]=x):x=e[5];const j=T(x),P=d&&"group skeleton",p=!v&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",b=v&&"max-md:flex-col max-md:gap-4";let y;e[6]!==P||e[7]!==p||e[8]!==b?(y=R("flex justify-between",P,p,b),e[6]=P,e[7]=p,e[8]=b,e[9]=y):y=e[9];let w;e[10]!==o||e[11]!==n||e[12]!==t||e[13]!==l||e[14]!==c||e[15]!==i?(w=a.jsx(Ps,{canEditEmoji:n,canEditName:n,project:c,onRequestEdit:t,onRequestUpdateProject:l}),e[10]=o,e[11]=n,e[12]=t,e[13]=l,e[14]=c,e[15]=i,e[16]=w):w=e[16];const _=v?"max-md:w-full max-md:flex-col":"max-md:w-full max-md:flex-col max-md:items-center";let I;e[17]!==_?(I=R("flex items-start gap-2",_),e[17]=_,e[18]=I):I=e[18];let E;e[19]!==u||e[20]!==m||e[21]!==c||e[22]!==i?(E=a.jsx(_s,{canEdit:u,project:c,projectData:i,onRequestAddFiles:m}),e[19]=u,e[20]=m,e[21]=c,e[22]=i,e[23]=E):E=e[23];let $;e[24]!==u||e[25]!==d||e[26]!==c.id||e[27]!==j?($=!1,e[24]=u,e[25]=d,e[26]=c.id,e[27]=j,e[28]=$):$=e[28];let S;e[29]!==I||e[30]!==E||e[31]!==$?(S=a.jsxs("div",{className:I,children:[E,$]}),e[29]=I,e[30]=E,e[31]=$,e[32]=S):S=e[32];let M;return e[33]!==S||e[34]!==y||e[35]!==w?(M=a.jsxs("div",{className:y,children:[w,S]}),e[33]=S,e[34]=y,e[35]=w,e[36]=M):M=e[36],M}function _s(r){"use forget";const e=B.c(15),{canEdit:t,project:m,projectData:l,onRequestAddFiles:i}=r,{files:o}=l!=null?l:{},c=o===void 0?[]:o,d=!c.length,u=T(m.isSkeleton$);let s,g;if(!u&&d&&!t)return null;if(d){let P;e[0]!==t||e[1]!==l?(P=l?a.jsx(Y,W({},t?X.addFilesButtonLabel:X.viewFilesButtonLabel)):null,e[0]=t,e[1]=l,e[2]=P):P=e[2],s=P,g=null}else{const P=c.slice(0,3);s=a.jsx(Y,Fe(W({},X.filesCount),{values:{count:c.length}}));let p;e[3]!==(l==null?void 0:l.gizmo)?(p=(b,y)=>a.jsx($s,{file:b,index:y,gizmoId:l==null?void 0:l.gizmo.id},b.file_id),e[3]=l==null?void 0:l.gizmo,e[4]=p):p=e[4],g=a.jsx("div",{className:"isolate inline-flex items-center max-sm:sr-only",children:P.map(p)})}const n=u&&"skeleton-child w-20";let f;e[5]!==n?(f=R("max-md:w-fit",n,"group/project-control-tile"),e[5]=n,e[6]=f):f=e[6];const v=u&&"";let x;e[7]!==v?(x=R(v,"gap-1.5 text-token-text-secondary"),e[7]=v,e[8]=x):x=e[8];let j;return e[9]!==g||e[10]!==s||e[11]!==i||e[12]!==f||e[13]!==x?(j=a.jsxs(vt,{color:"secondary",onClick:i,className:f,contentWrapperClassName:x,children:[g,s]}),e[9]=g,e[10]=s,e[11]=i,e[12]=f,e[13]=x,e[14]=j):j=e[14],j}function $s(r){"use forget";const e=B.c(20),{file:t,index:m,gizmoId:l}=r,i=t.name;let o;e[0]!==t.file_id||e[1]!==i?(o=zt(i)&&t.file_id!=null,e[0]=t.file_id,e[1]=i,e[2]=o):o=e[2];const c=o;let d;e[3]!==t.file_id||e[4]!==i||e[5]!==l||e[6]!==c?(d=c&&a.jsx(Kt,{fileName:i,fileId:t.file_id,gizmoId:l,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=i,e[5]=l,e[6]=c,e[7]=d):d=e[7];const u=d,s=m>0&&"-ms-2";let g;e[8]!==s?(g=R("border-token-bg-primary group-hover/project-control-tile:border-token-bg-tertiary relative size-5 overflow-hidden rounded-md border-2",s),e[8]=s,e[9]=g):g=e[9];const n=10-m;let f;e[10]!==n?(f={zIndex:n},e[10]=n,e[11]=f):f=e[11];let v;e[12]!==t.name||e[13]!==u?(v=u||a.jsx(Qt,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=u,e[14]=v):v=e[14];let x;return e[15]!==t.file_id||e[16]!==g||e[17]!==f||e[18]!==v?(x=a.jsx("span",{className:g,style:f,children:v},t.file_id),e[15]=t.file_id,e[16]=g,e[17]=f,e[18]=v,e[19]=x):x=e[19],x}function Ps(r){"use forget";const e=B.c(49),{canEditEmoji:t,canEditName:m,onRequestEdit:l,onRequestUpdateProject:i,project:o}=r;let c;e[0]!==o?(c=()=>o.theme$(),e[0]=o,e[1]=c):c=e[1];const d=st(c);let u;e[2]!==o?(u=()=>o.emoji$(),e[2]=o,e[3]=u):u=e[3];const s=st(u);let g;e[4]!==o?(g=()=>o.title$(),e[4]=o,e[5]=g):g=e[5];const n=st(g);let f;e[6]!==o?(f=()=>o.status$(),e[6]=o,e[7]=f):f=e[7];const v=T(f),x=T(o.isSkeleton$),j=T(n),P=ot(),p=ve();let b;e[8]!==p||e[9]!==s||e[10]!==o||e[11]!==d||e[12]!==n?(b=()=>{Q(()=>o.theme$(),z=>d.set(z)),Q(()=>o.emoji$(),z=>s.set(z)),Q(()=>o.title$(),z=>n.set(z)),Q(()=>d,z=>tt({ctx:p,id:o.id,theme:z()})),Q(()=>s,z=>tt({ctx:p,id:o.id,emoji:z()})),Q(()=>n,z=>tt({ctx:p,id:o.id,name:z()}))},e[8]=p,e[9]=s,e[10]=o,e[11]=d,e[12]=n,e[13]=b):b=e[13],F.useEffect(b);const y=v==="empty"?"max-md:flex-col":"";let w;e[14]!==y?(w=R("flex items-center gap-1.5 max-md:-translate-x-1",y),e[14]=y,e[15]=w):w=e[15];let _;e[16]!==s||e[17]!==i||e[18]!==d||e[19]!==n?(_=async(z,H)=>{!z&&H&&await(i==null?void 0:i({theme:d(),emoji:s(),name:n()}))},e[16]=s,e[17]=i,e[18]=d,e[19]=n,e[20]=_):_=e[20];const I=K(_),E=!t;let $;e[21]!==s||e[22]!==o.isShared$||e[23]!==o.isSkeleton$||e[24]!==E||e[25]!==d?($=a.jsx(fs,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:E,emoji$:s,isShared$:o.isShared$,isSkeleton$:o.isSkeleton$,theme$:d,size:"lg",strict:!0}),e[21]=s,e[22]=o.isShared$,e[23]=o.isSkeleton$,e[24]=E,e[25]=d,e[26]=$):$=e[26];let S;e[27]!==s||e[28]!==$||e[29]!==I||e[30]!==d?(S=a.jsx(us,{theme$:d,emoji$:s,onOpenChange:I,children:$}),e[27]=s,e[28]=$,e[29]=I,e[30]=d,e[31]=S):S=e[31];const M=!m,N=x&&"skeleton-child";let C;e[32]!==N?(C=R("min-w-0",N),e[32]=N,e[33]=C):C=e[33];let k;e[34]!==P||e[35]!==j?(k=P.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:j}),e[34]=P,e[35]=j,e[36]=k):k=e[36];let L;e[37]!==j?(L=a.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:j}),e[37]=j,e[38]=L):L=e[38];let O;e[39]!==l||e[40]!==M||e[41]!==C||e[42]!==k||e[43]!==L?(O=a.jsx("button",{disabled:M,onClick:l,name:"project-title",className:C,"aria-label":k,children:L}),e[39]=l,e[40]=M,e[41]=C,e[42]=k,e[43]=L,e[44]=O):O=e[44];let D;return e[45]!==S||e[46]!==O||e[47]!==w?(D=a.jsxs("div",{className:w,children:[S,O]}),e[45]=S,e[46]=O,e[47]=w,e[48]=D):D=e[48],D}function Cs(r){"use forget";const e=B.c(38),{children:t,composer:m,composerLayout:l,disclaimer:i,postComposerContent:o,conversations:c,sizing:d,dragOverlay:u,status:s}=r,g=s==="has-conversations"?"top":"center",n=s==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let f;e[0]!==n?(f=R("flex min-h-full",n),e[0]=n,e[1]=f):f=e[1];const v=s!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let x;e[2]!==v?(x=R("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",v),e[2]=v,e[3]=x):x=e[3];const j=s!=="empty"&&"gap-8 pb-6",P=g==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let p;e[4]!==j||e[5]!==P?(p=R("flex min-w-0 flex-col",j,P),e[4]=j,e[5]=P,e[6]=p):p=e[6];const b=s==="empty"?"max-md:h-full max-md:justify-between md:gap-8":"content-fade-top";let y;e[7]!==b?(y=R("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",b),e[7]=b,e[8]=y):y=e[8];let w;e[9]!==m||e[10]!==l?(w=l==="top"&&a.jsx(a.Fragment,{children:m}),e[9]=m,e[10]=l,e[11]=w):w=e[11];let _;e[12]!==t||e[13]!==o||e[14]!==w||e[15]!==y?(_=a.jsxs("div",{className:y,children:[t,w,o]}),e[12]=t,e[13]=o,e[14]=w,e[15]=y,e[16]=_):_=e[16];let I;e[17]!==c||e[18]!==u||e[19]!==_||e[20]!==p?(I=a.jsxs("div",{className:p,children:[_,c,u]}),e[17]=c,e[18]=u,e[19]=_,e[20]=p,e[21]=I):I=e[21];let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx("div",{}),e[22]=E):E=e[22];let $;e[23]!==m||e[24]!==l||e[25]!==i||e[26]!==s?($=(l==="bottom"||i)&&a.jsxs("div",{className:R("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",l==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",i?s==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[l==="bottom"&&m,i]}),e[23]=m,e[24]=l,e[25]=i,e[26]=s,e[27]=$):$=e[27];let S;e[28]!==I||e[29]!==$||e[30]!==x?(S=a.jsxs(Wt,{className:x,children:[I,E,$]}),e[28]=I,e[29]=$,e[30]=x,e[31]=S):S=e[31];let M;e[32]!==d||e[33]!==S?(M=a.jsx(Jt,Fe(W({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},d),{children:S})),e[32]=d,e[33]=S,e[34]=M):M=e[34];let N;return e[35]!==M||e[36]!==f?(N=a.jsx("div",{className:f,children:M}),e[35]=M,e[36]=f,e[37]=N):N=e[37],N}const ws=he(()=>pe(()=>import("./hq92in1mea3m9ck2.js"),__vite__mapDeps([12,1,2,3,4,5])).then(r=>r.ProjectJoinModal)),Es=he(()=>pe(()=>import("./gsas8pb1acnf7jnd.js").then(r=>r._),__vite__mapDeps([13,1])),{loading:r=>nt(r)}),Ms=he(()=>pe(()=>import("./klevl8sdnpainbl3.js").then(r=>r._),__vite__mapDeps([14,1])),{loading:r=>nt(r)});function Vs(r){"use forget";var it,lt,at,rt,ct,mt;const e=B.c(140),{clientThreadId:t,gizmoId:m,currentModelId:l,onRequestCompletion:i}=r,o=ve();let c;e[0]!==t||e[1]!==o?(c=At(o,t),e[0]=t,e[1]=o,e[2]=c):c=e[2];const d=c;let u;e[3]!==o||e[4]!==m?(u=Xt(o,m),e[3]=o,e[4]=m,e[5]=u):u=e[5];const s=u;let g;e[6]!==s?(g=()=>s.serverState$().data,e[6]=s,e[7]=g):g=e[7];const n=T(g);let f;e[8]!==s?(f=()=>s.status$(),e[8]=s,e[9]=f):f=e[9];const v=T(f);let x;e[10]!==o?(x=(lt=(it=Lt(o))==null?void 0:it.user)==null?void 0:lt.email,e[10]=o,e[11]=x):x=e[11];const j=x;let P;e[12]!==o?(P=(at=Re(o))==null?void 0:at.normalizedAccountUserId,e[12]=o,e[13]=P):P=e[13];const p=P;let b;e[14]!==s||e[15]!==n||e[16]!==j||e[17]!==p?(b=()=>!p||!j||!n||Dt(()=>s.serverState$().isFetching)?!1:!ut({gizmo:n,user_id:p}),e[14]=s,e[15]=n,e[16]=j,e[17]=p,e[18]=b):b=e[18];const[y,w]=F.useState(b),[_,I]=F.useState(!1),E=F.useRef(!1),$=ht(o,"773249106"),{eligible:S,markAsViewed:M,isLoading:N}=Yt(Zt.hasSeenPotionOnboarding);let C;e[19]!==s.lastScrollPosition$?(C=()=>{var A;const h=document.querySelector("main");s.lastScrollPosition$.set((A=h==null?void 0:h.scrollTop)!=null?A:null)},e[19]=s.lastScrollPosition$,e[20]=C):C=e[20];const k=C;let L,O;e[21]!==s||e[22]!==k?(O=()=>{var ge;const h=new AbortController,A=s.lastScrollPosition$();s.lastScrollPosition$.set(null);const U=document.querySelector("main");return A!=null&&U&&(U.scrollTop=A,U.focus()),"navigation"in window&&((ge=window.navigation)==null||ge.addEventListener("navigate",()=>k(),{signal:h.signal})),()=>{h.abort()}},L=[s,k],e[21]=s,e[22]=k,e[23]=L,e[24]=O):(L=e[23],O=e[24]),F.useEffect(O,L);let D;e[25]!==i?(D=h=>{i(ts(h))},e[25]=i,e[26]=D):D=e[26];const z=K(D);let H;e[27]!==i?(H=async h=>{const A=await ss(h);i(A)},e[27]=i,e[28]=H):H=e[28];const Z=K(H);let J;e[29]!==o||e[30]!==s||e[31]!==n?(J=()=>{n&&Ye(o,pt,{gizmo:n,project:s,onClose:()=>Ze(o,pt)})},e[29]=o,e[30]=s,e[31]=n,e[32]=J):J=e[32];const De=K(J);let je,be;e[33]!==o||e[34]!==S||e[35]!==N||e[36]!==n||e[37]!==_?(je=()=>{if(!N){if(!S){E.current=!1,_&&I(!1);return}!n||E.current}},be=[o,S,N,n,_],e[33]=o,e[34]=S,e[35]=N,e[36]=n,e[37]=_,e[38]=je,e[39]=be):(je=e[38],be=e[39]),F.useEffect(je,be);const He=ot();let Se;if(e[40]!==o){const h=Re(o);Se=h&&!h.isSelfServeBusiness()&&!h.isEnterprisey(),e[40]=o,e[41]=Se}else Se=e[41];const qe=!Se,ye=Ot(),xe=Ft(),[Be,_e]=F.useState(!1),yt=Rt(),{onDropConversation:Ue,canDropConversation:V}=ds(void 0,m),Ve=Mt(),Ge=T(s.gizmo$);let $e;e[42]!==s?($e=()=>os(s)(),e[42]=s,e[43]=$e):$e=e[43];const ee=T($e);let Pe;e[44]!==s?(Pe=()=>ns(s)(),e[44]=s,e[45]=Pe):Pe=e[45];const G=T(Pe),te=G,q=Ge!=null?Ge:n;let Ce;e[46]!==o||e[47]!==q?(Ce=()=>{q&&Ye(o,gt,{gizmo:is(q),publishedGizmo:q,onClose:()=>Ze(o,gt)})},e[46]=o,e[47]=q,e[48]=Ce):Ce=e[48];const se=K(Ce);let we;e[49]===Symbol.for("react.memo_cache_sentinel")?(we=[],e[49]=we):we=e[49],F.useEffect(Ns,we);let Ee,Me;e[50]!==ye?(Ee=()=>{const h=ls(ye),A=h();return h.set(!0),()=>{h.set(A)}},Me=[ye],e[50]=ye,e[51]=Ee,e[52]=Me):(Ee=e[51],Me=e[52]),F.useEffect(Ee,Me);let Ne;e[53]!==se||e[54]!==ee||e[55]!==G||e[56]!==s.mobileHeaderState$||e[57]!==q||e[58]!==te?(Ne=()=>{if(!G||!q){s.mobileHeaderState$.set(null);return}return s.mobileHeaderState$.set({hasOtherMembers$:et(()=>ee),canShare$:et(()=>te),onShare$:et(()=>G&&q?se:null)}),()=>{s.mobileHeaderState$.set(null)}},e[53]=se,e[54]=ee,e[55]=G,e[56]=s.mobileHeaderState$,e[57]=q,e[58]=te,e[59]=Ne):Ne=e[59];let ke;e[60]!==se||e[61]!==ee||e[62]!==G||e[63]!==s||e[64]!==q||e[65]!==te?(ke=[se,ee,G,s,q,te],e[60]=se,e[61]=ee,e[62]=G,e[63]=s,e[64]=q,e[65]=te,e[66]=ke):ke=e[66],F.useEffect(Ne,ke);let Ie;e[67]!==o||e[68]!==He||e[69]!==s||e[70]!==n?(Ie=()=>{n&&Ye(o,xt,{submitButtonTitle:He.formatMessage(X.projectSettingsSubmitButton),gizmo:n,project:s,onClose:()=>Ze(o,xt)})},e[67]=o,e[68]=He,e[69]=s,e[70]=n,e[71]=Ie):Ie=e[71];const Je=K(Ie);let Te;e[72]!==s||e[73]!==xe?(Te=async h=>{try{await s.queueUpdate$(h)}catch(A){const ge=Ht(A);xe==null||xe.warning(ge!=null?ge:"Error",{duration:5,hasCloseButton:!0})}},e[72]=s,e[73]=xe,e[74]=Te):Te=e[74];const We=K(Te);let ze;e[75]!==s||e[76]!==p?(ze=()=>{if(p)return Q(()=>({data:s.serverState$().data,isFetching:s.serverState$().isFetching}),h=>{const{data:A,isFetching:U}=h;A&&!U&&!ut({gizmo:A,user_id:p})&&w(!0)})},e[75]=s,e[76]=p,e[77]=ze):ze=e[77];let Ae;if(e[78]!==s||e[79]!==j||e[80]!==p?(Ae=[p,j,s],e[78]=s,e[79]=j,e[80]=p,e[81]=Ae):Ae=e[81],F.useEffect(ze,Ae),y&&n&&$){let h;e[82]!==Ve?(h=()=>Ve("/"),e[82]=Ve,e[83]=h):h=e[83];let A;e[84]===Symbol.for("react.memo_cache_sentinel")?(A=()=>w(!1),e[84]=A):A=e[84];let U;return e[85]!==n||e[86]!==h?(U=a.jsx(ws,{onClose:h,onJoinProjectSuccess:A,projectData:n}),e[85]=n,e[86]=h,e[87]=U):U=e[87],U}if(_&&n){let h;return e[88]!==M||e[89]!==s||e[90]!==n?(h=!1,e[88]=M,e[89]=s,e[90]=n,e[91]=h):h=e[91],h}let Le;e[92]!==((rt=n==null?void 0:n.gizmo)==null?void 0:rt.conversation_copy_in_progress)?(Le=((ct=n==null?void 0:n.gizmo)==null?void 0:ct.conversation_copy_in_progress)===!0?a.jsx(jt,{type:"info",content:a.jsx(Y,W({},X.projectCopyInProgressBanner)),icon:a.jsx(Es,{className:"text-token-text-secondary h-5 w-5"})}):null,e[92]=(mt=n==null?void 0:n.gizmo)==null?void 0:mt.conversation_copy_in_progress,e[93]=Le):Le=e[93];const Ke=Le;let oe;e[94]!==V?(oe=h=>{h.preventDefault(),V&&_e(!0)},e[94]=V,e[95]=oe):oe=e[95];let ne;e[96]!==V||e[97]!==Ue?(ne=h=>{h.preventDefault(),V&&(_e(!1),Ue())},e[96]=V,e[97]=Ue,e[98]=ne):ne=e[98];let ie,le;e[99]!==V?(ie=h=>{h.preventDefault(),V&&_e(!0)},le=h=>{h.preventDefault(),V&&_e(!1)},e[99]=V,e[100]=ie,e[101]=le):(ie=e[100],le=e[101]);const Qe=v==="empty"||yt?"top":"bottom",Xe=v==="empty"?"center":"bottom";let ae;e[102]!==d||e[103]!==l||e[104]!==z||e[105]!==Z||e[106]!==Xe?(ae=a.jsx(cs,{conversation:d,currentModelId:l,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:Xe,onContinueGenerating:z,onRequestCompletion:Z}),e[102]=d,e[103]=l,e[104]=z,e[105]=Z,e[106]=Xe,e[107]=ae):ae=e[107];let re;e[108]!==t||e[109]!==qe?(re=qe&&a.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:a.jsx(as,{clientThreadId:t})}),e[108]=t,e[109]=qe,e[110]=re):re=e[110];let ce;e[111]!==s||e[112]!==k?(ce=a.jsx(xs,{project:s,onNavigateToConversation:k}),e[111]=s,e[112]=k,e[113]=ce):ce=e[113];let me;e[114]!==Be||e[115]!==n?(me=Be&&a.jsx(ks,{gizmo:n}),e[114]=Be,e[115]=n,e[116]=me):me=e[116];let de;e[117]!==De||e[118]!==Je||e[119]!==We||e[120]!==n?(de=a.jsx(ys,{projectData:n,onRequestEdit:Je,onRequestAddFiles:De,onRequestUpdateProject:We}),e[117]=De,e[118]=Je,e[119]=We,e[120]=n,e[121]=de):de=e[121];let fe;e[122]!==Ke||e[123]!==v||e[124]!==Qe||e[125]!==ae||e[126]!==re||e[127]!==ce||e[128]!==me||e[129]!==de?(fe=a.jsx(Cs,{status:v,composerLayout:Qe,composer:ae,disclaimer:re,postComposerContent:Ke,conversations:ce,dragOverlay:me,children:de}),e[122]=Ke,e[123]=v,e[124]=Qe,e[125]=ae,e[126]=re,e[127]=ce,e[128]=me,e[129]=de,e[130]=fe):fe=e[130];let ue;e[131]!==oe||e[132]!==ne||e[133]!==ie||e[134]!==le||e[135]!==fe?(ue=a.jsx("div",{onDragOver:oe,onDrop:ne,onDragEnter:ie,onDragLeave:le,children:fe}),e[131]=oe,e[132]=ne,e[133]=ie,e[134]=le,e[135]=fe,e[136]=ue):ue=e[136];let Oe;return e[137]!==s||e[138]!==ue?(Oe=a.jsx(bt,{value:s,children:ue}),e[137]=s,e[138]=ue,e[139]=Oe):Oe=e[139],Oe}function Ns(){es()}function ks(r){"use forget";var d;const e=B.c(6),{gizmo:t}=r;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx(Ms,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=m):m=e[0];const l=(d=t==null?void 0:t.gizmo.display.name)!=null?d:"project";let i;e[1]!==l?(i=a.jsx("h3",{className:"text-center",children:a.jsx(Y,Fe(W({},X.moveConversationToNamedProject),{values:{projectName:l}}))}),e[1]=l,e[2]=i):i=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx("h4",{className:"text-center",children:a.jsx(Y,W({},X.moveConversation))}),e[3]=o):o=e[3];let c;return e[4]!==i?(c=a.jsxs(rs,{children:[m,i,o]}),e[4]=i,e[5]=c):c=e[5],c}export{Vs as ProjectHomePage};
//# sourceMappingURL=gkuehqsbo5y71nbh.js.map
