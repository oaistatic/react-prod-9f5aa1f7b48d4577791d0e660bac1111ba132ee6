var Y=Object.defineProperty,A=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var Q=(s,e,t)=>e in s?Y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,C=(s,e)=>{for(var t in e||(e={}))te.call(e,t)&&Q(s,t,e[t]);if(H)for(var t of H(e))se.call(e,t)&&Q(s,t,e[t]);return s},b=(s,e)=>A(s,ee(e));import{c as ne,r as V,e as ae,j as l,M as K}from"./i8clt0mfz495j7ii.js";import{ee as le,gj as ie,$ as oe,P as j,M as re,C as ce,J as de}from"./ghewn7l2ynbm32fm.js";function xe(s){"use forget";const e=ne.c(69),{onClose:t,urls:c,onAction:o,onActionAborted:d,suppressNavigation:G}=s,U=G===void 0?!1:G,w=V.useRef(!1),r=ae(),I=le(),$=I==null?void 0:I.id;let n,f,a,i;if(e[0]!==$||e[1]!==c){const J={clientThreadId:$};let O;e[6]!==c?(O=Array.isArray(c)?c:[c],e[6]=c,e[7]=O):O=e[7],i=O,a=i[0];let P;e[8]!==i?(P=i.slice(1),e[8]=i,e[9]=P):P=e[9],n=P,f=ie(J),e[0]=$,e[1]=c,e[2]=n,e[3]=f,e[4]=a,e[5]=i}else n=e[2],f=e[3],a=e[4],i=e[5];let S;e[10]!==f||e[11]!==a?(S=b(C({},f),{url:a,link_type:"text",section:"safe-link-modal"}),e[10]=f,e[11]=a,e[12]=S):S=e[12];const g=S;let E;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[13]=E):E=e[13],V.useEffect(he,E);let N;e[14]!==n.length||e[15]!==g||e[16]!==o||e[17]!==t||e[18]!==a||e[19]!==i?(N=()=>{w.current=!0;const J=n.length>0?i.join("\n"):a;navigator.clipboard.writeText(J).then(()=>{j.logEventWithStatsig("Safe Link Warning Modal Copy Clicked","chatgpt_safe_link_warning_modal_copy_clicked"),j.logEvent("link_action",b(C({},g),{action:"copy"}))}).catch(ge).finally(()=>{o==null||o("copy"),t()})},e[14]=n.length,e[15]=g,e[16]=o,e[17]=t,e[18]=a,e[19]=i,e[20]=N):N=e[20];const X=N;let L;e[21]!==g||e[22]!==o||e[23]!==t?(L=()=>{w.current=!0,j.logEventWithStatsig("Safe Link Warning Modal Open Clicked","chatgpt_safe_link_warning_modal_open_clicked"),j.logEvent("link_action",b(C({},g),{action:"click"})),o==null||o("open"),t()},e[21]=g,e[22]=o,e[23]=t,e[24]=L):L=e[24];const q=L;let W;e[25]!==d||e[26]!==t?(W=()=>{w.current||(j.logEventWithStatsig("Safe Link Warning Modal Canceled","chatgpt_safe_link_warning_modal_canceled"),d==null||d()),w.current=!1,t()},e[25]=d,e[26]=t,e[27]=W):W=e[27];const z=W;let R;e[28]!==a?(R=pe(a),e[28]=a,e[29]=R):R=e[29];const{prefix:Z,host:D,suffix:F}=R;let h;e[30]!==n.length||e[31]!==r?(h=n.length>0?r.formatMessage({id:"BpXZi1",defaultMessage:"Check these links are safe"}):r.formatMessage({id:"xgI3Kt",defaultMessage:"Check this link is safe"}),e[30]=n.length,e[31]=r,e[32]=h):h=e[32];let p;e[33]!==h?(p=l.jsx("div",{className:"flex items-center gap-2",children:h}),e[33]=h,e[34]=p):p=e[34];let m;e[35]!==U||e[36]!==a?(m=U?{as:"button",type:"button"}:{as:"link",openNewTab:!0,rel:"noopener noreferer",to:a},e[35]=U,e[36]=a,e[37]=m):m=e[37];let u;e[38]!==n.length||e[39]!==r?(u=n.length>0?r.formatMessage({id:"+k3ilv",defaultMessage:"Open links"}):r.formatMessage({id:"XSj3EP",defaultMessage:"Open link"}),e[38]=n.length,e[39]=r,e[40]=u):u=e[40];let k;e[41]!==q||e[42]!==m||e[43]!==u?(k=l.jsx(oe,b(C({color:"primary",onClick:q},m),{children:u})),e[41]=q,e[42]=m,e[43]=u,e[44]=k):k=e[44];let x;e[45]!==n.length||e[46]!==r?(x=n.length>0?r.formatMessage({id:"qXURZz",defaultMessage:"Copy links"}):r.formatMessage({id:"5P5qUm",defaultMessage:"Copy link"}),e[45]=n.length,e[46]=r,e[47]=x):x=e[47];let y;e[48]!==X||e[49]!==x?(y=l.jsx(re.Button,{title:x,color:"secondary",onClick:X}),e[48]=X,e[49]=x,e[50]=y):y=e[50];let _;e[51]!==n.length?(_=n.length>0?l.jsx(K,{defaultMessage:"Some sites restrict our ability to check links. These links aren’t verified and may include information from your conversation that could be shared with a third-party site. Make sure you trust these links before proceeding.",id:"safe-link-warning-modal-description-plural"}):l.jsx(K,{defaultMessage:"Some sites restrict our ability to check links. This link isn’t verified and may include information from your conversation that could be shared with a third-party site. Make sure you trust this link before proceeding.",id:"safe-link-warning-modal-description"}),e[51]=n.length,e[52]=_):_=e[52];let T;e[53]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx("a",{className:"hover:text-token-link-hover ps-1 underline underline-offset-1",href:"https://help.openai.com/en/articles/10984597-chatgpt-generated-links",target:"_blank",rel:"noopener noreferrer",children:l.jsx(K,{id:"xNvPsR",defaultMessage:"Learn more"})}),e[53]=T):T=e[53];let M;e[54]!==_?(M=l.jsxs("p",{className:"text-token-text-secondary mb-6 text-sm text-pretty",children:[_,T]}),e[54]=_,e[55]=M):M=e[55];let v;e[56]!==n.length||e[57]!==D||e[58]!==Z||e[59]!==F||e[60]!==i?(v=n.length===0?l.jsxs("div",{className:"mb-2 text-sm break-all",children:[l.jsx("span",{className:"text-token-text-secondary",children:Z}),l.jsx("span",{className:"text-token-text-primary font-medium",children:D}),l.jsx("span",{className:"text-token-text-secondary",children:F})]}):l.jsx("ul",{className:"mt-2 max-h-[300px] list-disc overflow-y-auto ps-5 text-sm break-all",children:i.map(fe)}),e[56]=n.length,e[57]=D,e[58]=Z,e[59]=F,e[60]=i,e[61]=v):v=e[61];let B;return e[62]!==z||e[63]!==p||e[64]!==k||e[65]!==y||e[66]!==M||e[67]!==v?(B=l.jsxs(ce,{testId:"modal-safe-link-warning",isOpen:!0,hideSeparator:!0,onClose:z,showCloseButton:!0,type:"warning",title:p,primaryButton:k,secondaryButton:y,children:[M,v]}),e[62]=z,e[63]=p,e[64]=k,e[65]=y,e[66]=M,e[67]=v,e[68]=B):B=e[68],B}function fe(s,e){return l.jsx("li",{className:"text-token-text-secondary",children:s},"".concat(s,"-").concat(e))}function ge(s){de.addError(s)}function he(){j.logEventWithStatsig("Safe Link Warning Modal Shown","chatgpt_safe_link_warning_modal_shown")}function pe(s){let e="",t=s,c="";try{t=new URL(s).hostname;const d=s.indexOf(t);d!==-1&&(e=s.substring(0,d),c=s.substring(d+t.length))}catch(o){}return{prefix:e,host:t,suffix:c}}export{xe as SafeLinkWarningModal};
//# sourceMappingURL=f510v2yorm9a64cn.js.map
