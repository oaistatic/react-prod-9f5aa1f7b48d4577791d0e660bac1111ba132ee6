const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mpv78j7w75btco0v.js","assets/i8clt0mfz495j7ii.js","assets/da9ysnvw39tlmcb1.js","assets/nju52ppu7cxhyzrm.js","assets/c8sj5q0wb2w4qlno.js","assets/mdgmhl7nsma70wnx.js","assets/nzmq5nvm0e97q2e1.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css"])))=>i.map(i=>d[i]);
var E=Object.freeze,R=Object.defineProperty,Y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var L=(s,t,a)=>t in s?R(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,f=(s,t)=>{for(var a in t||(t={}))Q.call(t,a)&&L(s,a,t[a]);if(S)for(var a of S(t))X.call(t,a)&&L(s,a,t[a]);return s},D=(s,t)=>Y(s,J(t));var h=(s,t)=>E(R(s,"raw",{value:E(t||s.slice())}));import{j as e,_ as m,r as Z,M as c,b as B,e as ee,f as se,L as te}from"./i8clt0mfz495j7ii.js";import{d as v,kg as ae,o as u,L as p,cK as ie,P as H,C as re,$ as V,e$ as oe,aR as ne,eo as le,u as N,h as q,aG as ce,fU as de,gH as me,ei as ue,F as _,oA as xe,n as d,aV as ge,eU as K}from"./ghewn7l2ynbm32fm.js";import{bk as he,g8 as pe,g9 as fe,ga as be,bG as T}from"./j0yo6uv6652vva62.js";const je=u(()=>m(()=>import("./mpv78j7w75btco0v.js").then(s=>s._),__vite__mapDeps([0,1])),{loading:s=>p(s)});function ye({resource:s,grayedOut:t,className:a}){var r,n,i;const o=(r=s.gizmo.vanity_metrics)==null?void 0:r.num_conversations_str;return e.jsxs("div",{className:v("flex w-full grow items-center gap-4 overflow-hidden",a),children:[e.jsx(he,{isFirstParty:!!((n=s.gizmo.tags)!=null&&n.includes(ae.FirstParty)),src:(i=s.gizmo.display.profile_picture_url)!=null?i:void 0,className:v("h-12 w-12 shrink-0",t&&"grayscale group-hover:grayscale-0")}),e.jsxs("div",{className:"overflow-hidden break-words text-ellipsis",children:[e.jsx("span",{className:"line-clamp-2 text-sm leading-tight font-semibold",children:s.gizmo.display.name}),e.jsx("span",{className:"line-clamp-3 text-xs",children:s.gizmo.display.description}),e.jsxs("div",{className:"text-token-text-tertiary mt-1 flex items-center gap-1 pe-1 text-xs text-ellipsis whitespace-nowrap",children:[e.jsx(pe,{gizmo:s,className:"text-xs",hideLink:!0}),o&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[8px]",children:"•"}),e.jsx(je,{className:"h-3 w-3"}),o]})]})]})]})}const U=u(()=>m(()=>import("./da9ysnvw39tlmcb1.js").then(s=>s._),__vite__mapDeps([2,1])),{loading:s=>p(s)}),ve=u(()=>m(()=>import("./nju52ppu7cxhyzrm.js").then(s=>s._),__vite__mapDeps([3,1])),{loading:s=>p(s)}),Ne=u(()=>m(()=>import("./c8sj5q0wb2w4qlno.js").then(s=>s._),__vite__mapDeps([4,1])),{loading:s=>p(s)}),$=u(()=>m(()=>import("./mdgmhl7nsma70wnx.js").then(s=>s._),__vite__mapDeps([5,1])),{loading:s=>p(s)}),_e=u(()=>m(()=>import("./nzmq5nvm0e97q2e1.js"),__vite__mapDeps([6,1,7,8])).then(s=>s.GizmoKeepInSidebarMenuItem)),ze=4;var P;const z=_.div(P||(P=h(["font-bold mt-6"]))),we=s=>B({queryFn:async()=>K.getAbout(s),queryKey:["gizmo","about",{gizmoId:s}]}),ke=s=>B({queryFn:async()=>K.getCreatorSlice({creatorId:s}),queryKey:["gizmo","creator",{creatorId:s}],enabled:s!=null}),Me=s=>{switch(s.type){case d.BROWSER:return{title:l.browsing};case d.CANVAS:return{title:l.canvas};case d.PYTHON:return{title:l.dataAnalysis};case d.DALLE:return{title:l.dalle};case d.IMAGE_GEN:return{title:l.imageGen};case d.MEMORY:return{title:l.memory,description:l.memoryDescription};case d.JIT_PLUGIN:return{title:l.actions,description:l.actionsDescription};default:return null}},Ge=({tools:s})=>{var n;const t=ce(),a=(t==null?void 0:t.includes(T.SearchTool))&&!(t!=null&&t.includes(T.SearchToolHoldout)),o=de(s!=null?s:[],i=>i.type);var r=me((n=o.map(Me).filter(i=>i!=null))!=null?n:[]);return r.length===0?null:(a&&(r=r.map(i=>i.title===l.browsing?{title:l.search}:i)),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(z,{className:"mb-2",children:e.jsx(c,{id:"gizmo.about.capabilitiesHeader",defaultMessage:"Capabilities"})}),r.map(i=>e.jsxs("div",{className:"flex flex-row items-start gap-2 py-1 text-sm",children:[e.jsx(Ne,{className:"icon-sm mt-0.5 text-green-600"}),e.jsxs("div",{children:[e.jsx(c,f({},i.title)),i.description!=null&&e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(c,f({},i.description))})]})]},i.title.id))]}))};var I;const b=_.div(I||(I=h(["flex flex-col justify-center items-center gap-2 border-s border-token-border-heavy first:border-0 w-48 mt-4 px-2"])));var O;const j=_.div(O||(O=h(["flex flex-row items-center gap-1.5 pt-1 text-xl font-semibold text-center leading-none"])));var F;const y=_.div(F||(F=h(["text-xs text-token-text-tertiary"]))),Ae=({gizmoResource:s})=>e.jsxs(le,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx(V,{color:"ghost",icon:ve}),children:[e.jsx(_e,{gizmoResource:s,location:"about_modal"}),e.jsx(be,{gizmoResource:s})]}),Ce=({aboutBlock:s})=>{var t;switch(s.type){case"generic_title_subtitle":return e.jsxs(b,{children:[e.jsx(j,{children:s.title}),e.jsx(y,{children:s.subtitle})]});case"rating":return e.jsxs(b,{children:[e.jsxs(j,{children:[e.jsx(U,{className:"icon-sm"}),s.avg]}),e.jsx(y,{children:s.count_str})]});case"category":return s.category_ranking!=null?e.jsxs(b,{children:[e.jsx(j,{children:e.jsx(c,{id:"gizmo.about.trendingRank",defaultMessage:"#{rank}",values:{rank:s.category_ranking}})}),e.jsx(y,{children:e.jsx(c,{id:"gizmo.about.inCategory",defaultMessage:"in {category} {locale}",values:{category:s.category_str,locale:(t=s.category_locale_str)!=null?t:""}})})]}):e.jsxs(b,{children:[e.jsx(j,{children:s.category_str}),e.jsx(y,{children:e.jsx(c,{id:"gizmo.about.category",defaultMessage:"Category"})})]})}},Ee=({blocks:s})=>e.jsx("div",{className:"flex justify-center",children:s.map(t=>e.jsx(Ce,{aboutBlock:t},t.type))}),Se=({href:s,onClick:t,children:a})=>e.jsx(ge.div,{whileTap:{scale:.98},className:"flex",children:e.jsxs(te,{to:s,reloadDocument:!0,onClick:t,className:v("group border-token-border-medium bg-token-main-surface-primary hover:bg-token-main-surface-secondary relative ms-2 h-14 min-w-full grow rounded-xl border px-4 focus:outline-hidden"),children:[e.jsx("div",{className:"flex h-full items-center",children:e.jsx("div",{className:"line-clamp-2 text-sm break-all",children:a})}),e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary group-hover:bg-token-main-surface-secondary absolute -start-2 -bottom-px h-3 w-4 border-b",children:e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary h-3 w-2 rounded-ee-full border-e border-b"})}),e.jsx("div",{className:"absolute end-2 top-0 bottom-0 hidden items-center group-hover:flex",children:e.jsx("div",{className:"bg-token-main-surface-primary flex h-8 w-8 items-center justify-center rounded-lg",children:e.jsx($,{className:"icon text-token-text-primary"})})})]})}),Le=({gizmo:s,onClose:t})=>{var n;const a=N(),o=q(a,"1825130190"),r=(n=s.gizmo.display.prompt_starters)==null?void 0:n.slice(0,ze);return r==null||r.length===0||!o?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(z,{children:e.jsx(c,{id:"gizmo.about.conversationStartersHeader",defaultMessage:"Conversation Starters"})}),e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-x-1.5 gap-y-2",children:r.map((i,x)=>e.jsx(Re,{gizmo:s,prompt:i,onClick:t},x))})]})};function Re({gizmo:s,prompt:t,onClick:a}){var n;const o=N(),r=xe(o,s,t);return e.jsx(Se,{href:(n=r==null?void 0:r.toString())!=null?n:"#",onClick:a,children:t})}const De=({reviewStats:s})=>{const t=N();return q(t,"1825130190")?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(z,{children:e.jsx(c,{id:"gizmo.about.ratingsHeader",defaultMessage:"Ratings"})})}),s!=null?[5,4,3,2,1].map(o=>{var r;return e.jsxs("div",{className:"flex flex-row items-center gap-2 py-1 text-xl font-semibold",children:[e.jsxs("div",{className:"icon-lg relative",children:[e.jsx(U,{className:"icon-lg text-green-500"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] text-white",children:o})]}),e.jsx("div",{className:"h-2.5 grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:"".concat(((r=s==null?void 0:s.by_rating[o-1])!=null?r:0)*100,"%")}})})]},o)}):e.jsx("div",{className:"text-token-text-tertiary text-sm",children:e.jsx(c,{id:"gizmo.about.ratings.notEnoughRatings",defaultMessage:"Not enough ratings yet"})})]}):null},Te=({gizmoId:s,creatorId:t,onClose:a})=>e.jsx(W,{gizmoId:s,creatorId:t,onClose:a}),W=({gizmoId:s,creatorId:t,onClose:a,children:o})=>{const r=ie(s),n=we(s),i=ke(t);return Z.useEffect(()=>{H.logEvent("Detail Show Modal",{gizmo_id:s})},[s]),e.jsx(re,{testId:"modal-gizmo-about",isOpen:!0,onClose:a,type:"success",hideSeparator:!0,showCloseButton:!0,noPadding:!0,className:"flex h-[calc(100vh-25rem)] min-h-[40vh] max-w-xl flex-col",children:e.jsx(Pe,{aboutQuery:n,gizmoQuery:r,creatorSliceQuery:i,onClose:a,children:o})})},Pe=({aboutQuery:s,gizmoQuery:t,creatorSliceQuery:a,children:o,onClose:r})=>{var G,A;const n=ee(),i=t.data,x=(G=s.data)==null?void 0:G.about_blocks,w=(A=s.data)==null?void 0:A.review_stats,k=a.data,M=t.error;return t.isLoading?e.jsx("div",{className:"flex h-full items-center justify-center pb-10",children:e.jsxs("div",{className:"animate-pulse space-y-4 text-center",children:[e.jsx("div",{className:"mx-auto h-20 w-20 rounded-xl bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"mx-auto h-6 w-40 rounded bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"mx-auto h-4 w-64 rounded bg-gray-200 dark:bg-gray-700"})]})}):M||!i?e.jsx("div",{className:"flex h-40 items-center justify-center pb-10",children:e.jsx("div",{className:"px-4 text-sm text-red-500",children:oe(M)||n.formatMessage({id:"I3v3Oj",defaultMessage:"An error occurred loading this GPT."})})}):e.jsx("div",{className:"flex h-full px-2 py-4",children:e.jsxs("div",{className:"relative flex grow flex-col gap-4 overflow-y-auto px-8 pt-16 pb-20",children:[e.jsx("div",{className:"absolute top-0",children:e.jsxs("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex items-center justify-end bg-linear-to-b to-transparent pb-2",children:[e.jsx(Ae,{gizmoResource:i}),e.jsx(ne,{onClick:r})]})}),e.jsx("div",{className:"absolute bottom-[64px]",children:e.jsx("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex min-h-[64px] items-end bg-linear-to-t to-transparent px-2",children:o})}),e.jsx(fe,{gizmo:i,className:"h-fit!",avatarClassName:"h-20! w-20!"}),x&&e.jsx(Ee,{blocks:x}),!x&&s.isLoading&&e.jsx("div",{className:"flex justify-center gap-4",children:[...Array(3)].map((C,g)=>e.jsx("div",{className:"h-16 w-32 animate-pulse rounded-xl bg-gray-200 dark:bg-gray-700"},g))}),e.jsx(Le,{gizmo:i,onClose:r}),e.jsx(Ge,{tools:i.tools}),w&&e.jsx(De,{reviewStats:w}),!w&&s.isLoading&&e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((C,g)=>e.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-gray-200 dark:bg-gray-700"},g))}),k&&e.jsx(Ie,{gizmos:k.items}),!k&&a.isLoading&&e.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((C,g)=>e.jsx("div",{className:"h-24 w-24 animate-pulse rounded-xl bg-gray-200 dark:bg-gray-700"},g))})]})})};function Ie({gizmos:s}){const t=N();return s.length===0?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(z,{children:e.jsx(c,{id:"gizmo.about.moreByHeader",defaultMessage:"More by {creatorName}",values:{creatorName:s[0].gizmo.author.display_name}})})}),e.jsx("div",{className:v("no-scrollbar group flex min-h-[104px] items-center space-x-2 overflow-x-auto overflow-y-hidden"),children:s==null?void 0:s.map(a=>e.jsx("a",{onClick:()=>{H.logEvent("Detail Click Gizmo",{gizmo_id:a.gizmo.id})},href:ue(t,a),className:"bg-token-main-surface-secondary h-fit min-w-fit rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",children:e.jsx(ye,{resource:a})},a.gizmo.id))})]})}const Oe=s=>e.jsx("div",{className:"flex grow flex-col items-center",children:e.jsxs(V,D(f({color:"primary",className:"h-12 w-full",icon:$},s),{children:[e.jsx(c,{id:"gizmo.about.startChat",defaultMessage:"Start Chat"}),s.children]}))}),l=se({browsing:{id:"gizmo.about.tools.browsing",defaultMessage:"Browsing"},canvas:{id:"gizmo.about.tools.canvas",defaultMessage:"Canvas"},search:{id:"gizmo.about.tools.search",defaultMessage:"Web Search"},dataAnalysis:{id:"gizmo.about.tools.dataAnalysis",defaultMessage:"Code Interpreter & Data Analysis"},dalle:{id:"gizmo.about.tools.dalle",defaultMessage:"DALL·E Images"},imageGen:{id:"gizmo.about.tools.imageGen",defaultMessage:"4o Image Generation"},memory:{id:"gizmo.about.tools.memory",defaultMessage:"Memory"},actions:{id:"gizmo.about.tools.actions",defaultMessage:"Actions"},actionsDescription:{id:"gizmo.about.tools.actionsDescription",defaultMessage:"Retrieves or takes actions outside of ChatGPT"},memoryDescription:{id:"gizmo.about.tools.memoryDescription",defaultMessage:"Learns from previous chats to improve future conversations"}}),qe=Object.freeze(Object.defineProperty({__proto__:null,GizmoAboutModal:W,GizmoDetailsModal:Te,GizmoStartChatButton:Oe},Symbol.toStringTag,{value:"Module"}));export{W as G,Oe as a,ye as b,qe as c};
//# sourceMappingURL=mnpqan18b42bsh1o.js.map
