const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/d64difs7ys8994zg.js","assets/i8clt0mfz495j7ii.js","assets/j0yo6uv6652vva62.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/fy6752fpzkgozktl.js","assets/dwikchly7agkd2y3.js","assets/lax1fsjs997mrbnn.js","assets/fgm9uzc3b50cz4e0.js","assets/d30gyor263984jzn.js","assets/kgnykbdth8mb50na.js","assets/g8i6bixylsxyemsr.js","assets/o108mlelkx5ejfzn.js","assets/fv135gy2k0pewip3.js","assets/kj8h59p17s2tn6gp.js","assets/hlon4mihnqp86jji.js","assets/b6hyii2315xk7j19.js","assets/olrcssu7duieo6m7.js","assets/f6ek1vdaohim72xh.js","assets/mpzbsmypy64alaao.js","assets/fvjpw0lui4wq7vv3.js","assets/mh1u90j45tiq86ol.js","assets/hht3m8p9e0s4tqnx.js","assets/ktw3b87sujui39wx.js","assets/nrrhfi0a0bbsg9w2.js","assets/fn0h0oidnzmutllx.js","assets/fb2095ktsebx1zzy.js","assets/eyao241335injypy.js","assets/bc51ukj7a2qfpnc3.js","assets/hhl3vz1yrrpnwu4u.js","assets/hvtst6rdt5ffhb0e.js","assets/kfcoh0i7m25vjqw6.js","assets/gbb3ypbzzsv572sp.js","assets/n8tfpmgkqe98i7yl.js","assets/kplnfohfof8ely0n.js","assets/iej0cupg2dqkmejt.js","assets/o1s10g7vrpyumh3e.js","assets/mq11hu99eist2abq.js","assets/m33zu9g0u0zd5b6m.js","assets/ddoygll5qa9ks6q8.js","assets/fe1zgnccg3ea7jld.js","assets/ji1868fe7hk3rgcl.js","assets/izvx0vf35f3cqx26.js","assets/e2bky2k6amgws3b2.js","assets/mtmwfv9ttg0ed53k.js","assets/g4tl5lt9yqf20m4s.js","assets/2300d3k4aqie7rnx.js","assets/o56koqynz9nmkv8w.js","assets/l2l4d2d2bzani7km.js","assets/dgu4dmhw1h0w2yu2.js","assets/fq7kulvumequ2ip6.js","assets/bcsmd88fr52ce3nx.js","assets/fhcba4quxj2lit4k.js","assets/pbvsc3do5o365cxq.js","assets/mnf9y116wq0a5kdn.js","assets/kmo5unuf793khl43.js","assets/mzyl3pd4zxnxoe9i.js","assets/gy1lpvuoewmzh42c.js","assets/i03gut32e8jn5ajq.js","assets/h1em0bjkpkjv8ykw.js","assets/nfccle6oyncifphl.js","assets/hu1bt0oauegdhua6.js","assets/mjbhy8c4bs0n8qw2.js","assets/hxdh3tr5l8kut4ed.js","assets/zl0env7yrga8vz86.js","assets/cyat75o3t660bmdu.js","assets/f1fdbkaiwy5lnpwz.js","assets/npb5gx49b9uitxbd.js","assets/efcqr1k3spvze0uw.js","assets/bxgk09qvxvkate6l.js"])))=>i.map(i=>d[i]);
var Xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var We=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var Ge=(i,e,a)=>e in i?Xe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,ye=(i,e)=>{for(var a in e||(e={}))st.call(e,a)&&Ge(i,a,e[a]);if(We)for(var a of We(e))it.call(e,a)&&Ge(i,a,e[a]);return i},Be=(i,e)=>et(i,tt(e));import{j as t,r as n,_ as f,c as ot,k as at,m as rt,u as nt}from"./i8clt0mfz495j7ii.js";import{jF as lt,jG as dt,jH as ct,jI as He,il as ft,cZ as De,c_ as Qe,jJ as mt,jK as ut,jL as gt,jM as ht,jN as pt,jO as _t,jP as jt,jQ as Et,jR as wt,jS as bt,jT as xt,jU as Pt,jV as kt,jW as Tt,jX as vt,jY as It,df as Ct,jZ as Ot,T as St,de as Ft,j_ as Mt,j$ as Ye,k0 as Nt,k1 as yt,g2 as Lt,k2 as Vt,k3 as At,k4 as Rt,cQ as zt,jg as Dt,cC as Ut,aB as Wt}from"./j0yo6uv6652vva62.js";import{hH as Gt,lq as qe,aW as Bt,pq as Ht,aV as Ke,o as m,u as Qt,a as $e,bN as Yt,mN as Kt,f as $t,W as Jt,mL as Zt,dN as Je,dS as Ze,v as qt,H as Xt,hi as es,pr as ts,P as ss,as as is,iG as os,bQ as as,cJ as rs,oM as ns,cg as ls,mM as ds,m$ as cs}from"./ghewn7l2ynbm32fm.js";import{B as fs}from"./fgm9uzc3b50cz4e0.js";import{P as ms}from"./kj8h59p17s2tn6gp.js";import{C as us}from"./fn0h0oidnzmutllx.js";import{M as gs}from"./bc51ukj7a2qfpnc3.js";function hs({conversation:i}){const e=lt();return t.jsxs(t.Fragment,{children:[e&&t.jsx(dt,{conversation:i}),t.jsx(ps,{conversation:i})]})}function ps({conversation:i}){const e=n.useContext(Gt),[a,l]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(p=>p.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!a?null:t.jsx(qe,{conversation:i,children:t.jsx(ms,{clientThreadId:i.id,postWithProfile:e.postWithProfile,onClose:()=>l(!1)})})}const _s=450;function js({children:i,conversation:e,isOpen:a,onClose:l,type:p}){return t.jsx(Bt,{children:a&&t.jsx(Ht,{children:t.jsx(ct.Provider,{value:{isEmbeddedInFocusedView:!0,type:p},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(Ke.div,ye({className:"bg-token-main-surface-secondary h-full w-full"},He)),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:i}),t.jsx(Ke.div,Be(ye({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:_s}},He),{children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(gs,{conversation:e,hideHeader:!0,hideDisclaimer:!0},e.id)})}))]})]})})})})}const Es=m(()=>f(()=>import("./d64difs7ys8994zg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ws=m(()=>f(()=>import("./lax1fsjs997mrbnn.js"),__vite__mapDeps([8,1,3,4,2,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])).then(i=>i.ImageEditor));function bs({conversation:i}){const e=ft();n.useEffect(()=>{De.close()},[i.id]);let a;return(e==null?void 0:e.type)===Qe.ADAVisualization?a=t.jsx(Es,{clientThreadId:i.id,visualization:e.visualization}):(e==null?void 0:e.type)===Qe.Image&&(a=t.jsx(ws,{clientThreadId:i.id,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(js,{conversation:i,isOpen:e!=null,onClose:De.close,type:e==null?void 0:e.type,children:a})}var xs={};const Ps=m(()=>f(()=>import("./hvtst6rdt5ffhb0e.js"),__vite__mapDeps([31,1,3,4,11,2,5,12]))),ks=m(()=>f(()=>import("./kfcoh0i7m25vjqw6.js"),__vite__mapDeps([32,1,3,4,33,34,2,5,35,11,12,36,37,38,39,40,41,42,43,44,45,29,24,25,23,30,17,18,15,16,19,20,21,22,46]))),Ts=m(()=>f(()=>import("./2300d3k4aqie7rnx.js"),__vite__mapDeps([47,1,3,4,11,2,5,12,32,33,34,35,36,37,38,39,40,41,42,43,44,45,29,24,25,23,30,17,18,15,16,19,20,21,22,46]))),vs=m(()=>f(()=>import("./o56koqynz9nmkv8w.js"),__vite__mapDeps([48,1,2,3,4,5,39,49]))),Is=m(()=>f(()=>import("./dgu4dmhw1h0w2yu2.js"),__vite__mapDeps([50,1,3,4,39,2,5,40]))),Cs=m(()=>f(()=>import("./fq7kulvumequ2ip6.js"),__vite__mapDeps([51,1,52,2,3,4,5,53,54,55,56,57,58,59,60,61,62,63,64,65])).then(i=>i.CheckoutModal)),Os=m(()=>f(()=>import("./cyat75o3t660bmdu.js"),__vite__mapDeps([66,1,52,2,3,4,5,53,54,57,58,59,60,61,62,63,64,67,55,56])).then(i=>i.EcosystemCheckoutModal)),Ss=m(()=>f(()=>import("./npb5gx49b9uitxbd.js"),__vite__mapDeps([68,1,2,3,4,5,69,70])).then(i=>i.VoiceNavigationBlocker));function Ds(i){"use forget";var Ue;const e=ot.c(124),{gizmoId:a,urlThreadId:l,clientThreadId:p}=i,o=Qt();let _;e[0]!==o?(_=()=>Je(o),e[0]=o,e[1]=_):_=e[1];const c=$e(_);let j;e[2]!==o?(j=()=>Ze(o),e[2]=o,e[3]=j):j=e[3];const E=$e(j),u=at(),[g]=rt();let V;e[4]!==g?(V=g.get("from_webview"),e[4]=g,e[5]=V):V=e[5];const w=V==="ios",Le=mt(),A=l!=null?l:p;let Ve;e:{if(A){let d;e[6]!==o||e[7]!==a||e[8]!==A?(d=Yt(o,A,{urlGizmoId:a}),e[6]=o,e[7]=a,e[8]=A,e[9]=d):d=e[9],Ve=d;break e}let r;e[10]!==o||e[11]!==a||e[12]!==Le?(r=Kt(o,ye({urlGizmoId:a},Le)),e[10]=o,e[11]=a,e[12]=Le,e[13]=r):r=e[13],Ve=r}const s=Ve;let R;e[14]!==u.pathname?(R=ut(u.pathname),e[14]=u.pathname,e[15]=R):R=e[15];const Ae=!!R,Re=$t(Jt.workspaceId),{eligible:z,isLoading:D,markAsViewed:U}=gt(),W=ht(),{eligible:G,isLoading:B,markAsViewed:H}=pt(),Q=_t(),{eligible:Y,isLoading:K,markAsViewed:$}=jt(),J=Et(),{eligible:Z,isLoading:q,markAsViewed:X}=wt(),ee=bt(),{eligible:te,isLoading:se,markAsViewed:ie}=xt(),oe=Pt();let ae,re;e[16]!==o?(ae=()=>{Mt(!0).then(r=>{r.force_login&&qt(o,{fallbackScreenHint:"login"}),Ye.initializeAndGatherData(r),Xt(o).checkGate("4178431533")&&Ye.precomputeEnforcementToken(r),Nt.initializeAndGatherData(r)})},re=[o],e[16]=o,e[17]=ae,e[18]=re):(ae=e[17],re=e[18]),n.useEffect(ae,re);let ne,le;e[19]!==o||e[20]!==E||e[21]!==c||e[22]!==g?(ne=()=>{const r=g.get(es)==="true",d=g.get(ts)==="true";d!==E&&Ze.set(o,d),c!==r&&(Je.set(o,r),r&&ss.logEvent("Enable Temporary Chat"))},le=[o,c,E,g],e[19]=o,e[20]=E,e[21]=c,e[22]=g,e[23]=ne,e[24]=le):(ne=e[23],le=e[24]),n.useEffect(ne,le);let de;e[25]!==u.state?(de=()=>{var r;(r=u.state)!=null&&r.focusObject&&De.setFocusedObject(u.state.focusObject)},e[25]=u.state,e[26]=de):de=e[26];const ze=(Ue=u.state)==null?void 0:Ue.focusObject;let ce;e[27]!==ze?(ce=[ze],e[27]=ze,e[28]=ce):ce=e[28],n.useEffect(de,ce);let fe,me;e[29]!==z||e[30]!==D||e[31]!==U||e[32]!==W?(fe=()=>{!D&&z&&(U(),W())},me=[z,D,U,W],e[29]=z,e[30]=D,e[31]=U,e[32]=W,e[33]=fe,e[34]=me):(fe=e[33],me=e[34]),n.useEffect(fe,me);let ue,ge;e[35]!==G||e[36]!==B||e[37]!==H||e[38]!==Q?(ue=()=>{!B&&G&&(H(),Q())},ge=[G,B,H,Q],e[35]=G,e[36]=B,e[37]=H,e[38]=Q,e[39]=ue,e[40]=ge):(ue=e[39],ge=e[40]),n.useEffect(ue,ge);let he,pe;e[41]!==Y||e[42]!==K||e[43]!==$||e[44]!==J?(he=()=>{!K&&Y&&($(),J())},pe=[Y,K,$,J],e[41]=Y,e[42]=K,e[43]=$,e[44]=J,e[45]=he,e[46]=pe):(he=e[45],pe=e[46]),n.useEffect(he,pe);let _e,je;e[47]!==Z||e[48]!==q||e[49]!==X||e[50]!==ee?(_e=()=>{!q&&Z&&(X(),ee())},je=[Z,q,X,ee],e[47]=Z,e[48]=q,e[49]=X,e[50]=ee,e[51]=_e,e[52]=je):(_e=e[51],je=e[52]),n.useEffect(_e,je);let Ee,we;e[53]!==te||e[54]!==se||e[55]!==ie||e[56]!==oe?(Ee=()=>{!se&&te&&(ie(),oe())},we=[te,se,ie,oe],e[53]=te,e[54]=se,e[55]=ie,e[56]=oe,e[57]=Ee,e[58]=we):(Ee=e[57],we=e[58]),n.useEffect(Ee,we),kt(s.id);const h=nt();let be,xe;e[59]!==o||e[60]!==h?(be=()=>{is(o)&&yt(h)},xe=[h,o],e[59]=o,e[60]=h,e[61]=be,e[62]=xe):(be=e[61],xe=e[62]),n.useEffect(be,xe);let Pe,ke;e[63]!==c||e[64]!==h?(Pe=()=>os(ls,{completionFinished:r=>{var d;if(r.serverThreadId!=null&&!c){const Ne=(d=as(r.serverThreadId))==null?void 0:d.mode;(Ne==null?void 0:Ne.kind)===rs.GizmoInteraction&&ns.handleGizmoInteracted(h,Ne.gizmo_id)}}}),ke=[c,h],e[63]=c,e[64]=h,e[65]=Pe,e[66]=ke):(Pe=e[65],ke=e[66]),n.useEffect(Pe,ke),Tt(),vt();let b;e[67]!==s.id||e[68]!==Ae?(b=Ae&&t.jsx(It,{clientThreadId:s.id}),e[67]=s.id,e[68]=Ae,e[69]=b):b=e[69];let Te;e[70]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(Ss,{}),e[70]=Te):Te=e[70];let x;e[71]!==s.id||e[72]!==w||e[73]!==Re?(x=t.jsx(fs,{clientThreadId:s.id,page:"chat",isIosDirectPurchaseFlow:w},Re),e[71]=s.id,e[72]=w,e[73]=Re,e[74]=x):x=e[74];let P;e[75]!==s.id||e[76]!==w?(P=t.jsx(Fs,{clientThreadId:s.id,isIosDirectPurchaseFlow:w}),e[75]=s.id,e[76]=w,e[77]=P):P=e[77];let ve,Ie,Ce;e[78]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Ps,{}),Ie=t.jsx(Lt,{}),Ce=t.jsx(Vt,{}),e[78]=ve,e[79]=Ie,e[80]=Ce):(ve=e[78],Ie=e[79],Ce=e[80]);let k;e[81]!==s||e[82]!==l?(k=t.jsx(us,{urlThreadId:l,conversation:s}),e[81]=s,e[82]=l,e[83]=k):k=e[83];let T,v;e[84]!==s?(T=t.jsx(hs,{conversation:s}),v=t.jsx(bs,{conversation:s}),e[84]=s,e[85]=T,e[86]=v):(T=e[85],v=e[86]);let I;e[87]!==s.id?(I=t.jsx(Ct,{clientThreadId:s.id}),e[87]=s.id,e[88]=I):I=e[88];let Oe;e[89]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(At,{}),e[89]=Oe):Oe=e[89];let C;e[90]!==s.id?(C=t.jsx(Ot,{clientThreadId:s.id}),e[90]=s.id,e[91]=C):C=e[91];let Se;e[92]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(Rt,{}),e[92]=Se):Se=e[92];let O;e[93]!==s||e[94]!==x||e[95]!==P||e[96]!==k||e[97]!==T||e[98]!==v||e[99]!==I||e[100]!==C?(O=t.jsxs(qe,{conversation:s,children:[x,P,ve,Ie,Ce,k,T,v,I,Oe,C,Se]}),e[93]=s,e[94]=x,e[95]=P,e[96]=k,e[97]=T,e[98]=v,e[99]=I,e[100]=C,e[101]=O):O=e[101];let S;e[102]!==s||e[103]!==O?(S=t.jsx(ds,{conversation:s,children:O}),e[102]=s,e[103]=O,e[104]=S):S=e[104];let F;e[105]!==s.id||e[106]!==S?(F=t.jsx(St,{clientThreadId:s.id,children:S}),e[105]=s.id,e[106]=S,e[107]=F):F=e[107];let M;e[108]!==s.id||e[109]!==F?(M=t.jsx(Ft,{clientThreadId:s.id,children:F}),e[108]=s.id,e[109]=F,e[110]=M):M=e[110];let N;e[111]!==s?(N=t.jsx(Os,{conversation:s}),e[111]=s,e[112]=N):N=e[112];let Fe;e[113]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(Cs,{}),e[113]=Fe):Fe=e[113];let y;e[114]!==s.id?(y=!1,e[114]=s.id,e[115]=y):y=e[115];let L;e[116]!==M||e[117]!==N||e[118]!==y?(L=t.jsxs(cs,{children:[M,N,Fe,y]}),e[116]=M,e[117]=N,e[118]=y,e[119]=L):L=e[119];let Me;return e[120]!==s||e[121]!==b||e[122]!==L?(Me=t.jsxs(Zt.Provider,{value:s,children:[b,Te,L]}),e[120]=s,e[121]=b,e[122]=L,e[123]=Me):Me=e[123],Me}function Fs({clientThreadId:i,isIosDirectPurchaseFlow:e}){const{isWorkspaceUser:a,isOpen:l,isLoading:p}=zt(),{isOpen:o,isLoading:_}=Dt(),{isOpen:c,isLoading:j,closeModal:E}=Ut();return e?null:!p&&l?a?t.jsx(Ts,{clientThreadId:i}):t.jsx(ks,{clientThreadId:i}):!_&&o?t.jsx(vs,{clientThreadId:i}):!j&&c?t.jsx(Wt,{children:t.jsx(Is,{clientThreadId:i,onClose:E})}):null}typeof window<"u"&&(window._g=xs.GOKU_SERVICE);export{Ds as C,_s as F};
//# sourceMappingURL=jjnmzijnee6e9nx1.js.map
