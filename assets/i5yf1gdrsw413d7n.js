var q=Object.defineProperty,J=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var P=(a,e,t)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,c=(a,e)=>{for(var t in e||(e={}))X.call(e,t)&&P(a,t,e[t]);if(I)for(var t of I(e))Z.call(e,t)&&P(a,t,e[t]);return a},w=(a,e)=>J(a,Q(e));import{c as ee,f as H,r as T,j as s,M as k}from"./i8clt0mfz495j7ii.js";import{u as te,bi as oe,bI as se,nt as ae,aV as U,$ as F,v as V,P as h,S as z,bj as Y,nz as le,aW as ie,C as ne}from"./ghewn7l2ynbm32fm.js";import{g as ce,L as R,c as D,a as re}from"./hvuzea5wyep6l0ub.js";import{bs as ue,bt as de,bp as me}from"./j0yo6uv6652vva62.js";import"./emqvkcmhapaejsp0.js";import"./cx4oo5wqa9uf3in8.js";import"./kmbpv6g63y0ugt37.js";import"./izvx0vf35f3cqx26.js";import"./dyjp0wep007vxvkq.js";import"./ia54sddtrl9qa2wj.js";const Ne=a=>{"use forget";const e=ee.c(36),{onClose:t}=a,l=te(),$=oe(),C=ue(p.signUpCta),W=$?"center":"bottom",{isOpen:n,onClose:i}=de();let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=se(),e[0]=x):x=e[0];const r=x,[K,O]=T.useState(!1);let b;e[1]!==l?(b=ce(l),e[1]=l,e[2]=b):b=e[2];const M=b;let _,A;e[3]!==n?(_=()=>{if(n){if(r){const f=setTimeout(()=>O(!0),3e3);return()=>clearTimeout(f)}O(!0)}else O(!1)},A=[n,r],e[3]=n,e[4]=_,e[5]=A):(_=e[4],A=e[5]),T.useEffect(_,A);const{accountInfo:v}=me(),o=!!v&&!!v.user&&M!==R.control;let L,S;e[6]!==o||e[7]!==n?(L=()=>{n&&(h.logEvent("No Auth Welcome Back Modal Shown",{isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_shown",null,{isLogBackFormVisible:o.toString()}))},S=[n,o],e[6]=o,e[7]=n,e[8]=L,e[9]=S):(L=e[8],S=e[9]),T.useEffect(L,S);const j=ae();if(!K)return null;let B;e[10]!==l||e[11]!==t?(B=f=>{h.logSwitchToGenericLoginOrSignup({location:"No Auth Welcome Back Modal"}),t(),le(l,f)},e[10]=l,e[11]=t,e[12]=B):B=e[12];const E=B,y=o?" ":null;let u;e[13]!==t||e[14]!==i?(u=()=>{t(),i==null||i()},e[13]=t,e[14]=i,e[15]=u):u=e[15];let d;e[16]!==j||e[17]!==o||e[18]!==M||e[19]!==E?(d=o&&s.jsx(U.div,w(c({},D),{children:s.jsx(re,{onSwitchToGenericLoginOrSignup:E,isSsoOptionsVisible:M===R.ssoExpanded,title:p.title2.defaultMessage,authorizationParams:j,location:"Log Back In Modal"})}),"log-back"),e[16]=j,e[17]=o,e[18]=M,e[19]=E,e[20]=d):d=e[20];let m;e[21]!==l||e[22]!==o||e[23]!==t||e[24]!==i||e[25]!==C?(m=!o&&s.jsx(U.div,w(c({},D),{children:s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[s.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:s.jsx(k,c({},r?G.title:p.title))}),s.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:s.jsx(k,c({},r?G.subtitle:p.subtitle))}),s.jsx(F,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(r?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{V(l,{fallbackScreenHint:"login",callback:ge,skipLoginModal:!1})},children:s.jsx(k,c({},p.logInCta))}),!r&&s.jsx(F,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{V(l,{fallbackScreenHint:"signup",callback:pe,skipLoginModal:!1})},children:s.jsx(k,c({},C))}),!r&&s.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:f=>{f.preventDefault(),h.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked",{location:"No Auth Welcome Back Modal",isLogBackFormVisible:o}),z.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",null,{isLogBackFormVisible:o.toString()}),t(),i==null||i()},"data-testid":"dismiss-welcome",children:s.jsx(k,c({},p.stayLoggedOutLink))})]})}),"control"),e[21]=l,e[22]=o,e[23]=t,e[24]=i,e[25]=C,e[26]=m):m=e[26];let g;e[27]!==d||e[28]!==m?(g=s.jsxs(ie,{mode:"wait",initial:!1,children:[d,m]}),e[27]=d,e[28]=m,e[29]=g):g=e[29];let N;return e[30]!==o||e[31]!==W||e[32]!==g||e[33]!==y||e[34]!==u?(N=s.jsx(ne,{testId:"modal-no-auth-welcome-back",isOpen:!0,title:y,onClose:u,shouldIgnoreClickOutside:!0,showCloseButton:o,closeButtonClassName:"rounded-full!",headerClassName:"pb-0",type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[388px]",position:W,children:g}),e[30]=o,e[31]=W,e[32]=g,e[33]=y,e[34]=u,e[35]=N):N=e[35],N},p=H({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),G=H({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function ge(a){h.logLogInButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},Y.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}function pe(a){h.logSignUpButtonClicked({provider:a,location:"No Auth Welcome Back Modal"},Y.ACCESS_FLOW_ENTRY_POINT_NO_AUTH_WELCOME_BACK_MODAL)}export{Ne as NoAuthWelcomeBackModal};
//# sourceMappingURL=i5yf1gdrsw413d7n.js.map
