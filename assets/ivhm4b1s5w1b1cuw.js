import{lf as m,ov as l,a$ as A,am as b,J as f,fU as k}from"./ghewn7l2ynbm32fm.js";import{r as K}from"./i8clt0mfz495j7ii.js";function h(e,r,n){const t=m(),c=e.map(d=>{const{keyboardBinding:i}=d;let a=i.join("+");if(d.altKeyboardBindings){a=[a];const u=d.altKeyboardBindings.map(o=>o.join("+"));a=a.concat(u)}return l(a,{byKey:!0})});A(()=>{var u;if((n==null?void 0:n.enabled)===!1)return;const d=o=>{if(!o.repeat)for(let s=0;s<c.length;s++)c[s](o)&&(e[s].enabled===void 0||e[s].enabled)&&(o.preventDefault(),r(e[s]),e[s].action(o))},i=o=>{o.key!==void 0&&d(o)},a=(u=t==null?void 0:t.document)!=null?u:document;return a.addEventListener("keydown",i),()=>{a.removeEventListener("keydown",i)}},[e,n])}const y=b(e=>({actions:[],addActionsActions:r=>e(n=>({actions:k([...n.actions,...r],t=>t.key)})),removeActionsActions:r=>{const n=r.map(t=>t.key);return e(t=>({actions:t.actions.filter(c=>!n.includes(c.key))}))}})),v=e=>h(e,r=>{f.addAction("wham_keyboard_shortcut",{keyboardActionKey:r.key})},{enabled:!0});function S(){return y(e=>e.actions)}function p(e=[]){const r=y(t=>t.addActionsActions),n=y(t=>t.removeActionsActions);K.useEffect(()=>(r(e),()=>n(e)),[e,r,n]),v(e)}export{S as a,p as u};
//# sourceMappingURL=ivhm4b1s5w1b1cuw.js.map
