const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gdj7aa3kvh4x8qzj.js","assets/i8clt0mfz495j7ii.js"])))=>i.map(i=>d[i]);
var me=Object.defineProperty,ue=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var q=(t,a,s)=>a in t?me(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,c=(t,a)=>{for(var s in a||(a={}))ge.call(a,s)&&q(t,s,a[s]);if(Y)for(var s of Y(a))he.call(a,s)&&q(t,s,a[s]);return t},P=(t,a)=>ue(t,pe(a));import{e as w,f as T,j as e,M as d,c as xe,r as l,m as Z,_ as fe,u as be,h as J,k as ke}from"./i8clt0mfz495j7ii.js";import{B as N,mU as ye,u as ee,e as ae,a5 as ve,bE as Ce,P as u,a0 as te,$ as j,a1 as R,o as je,L as we,aW as Te,mX as Se,a4 as Pe,aV as Me}from"./ghewn7l2ynbm32fm.js";import{S as W,c as Ne,P as se,a as B,b as We}from"./dqp8gsft0juuvy66.js";import{j as Ee,dF as _e,m as De,cE as Ae,hZ as Oe}from"./j0yo6uv6652vva62.js";import{A as Le}from"./doippqp4i4x3ehuc.js";import{c as Ie}from"./iej0cupg2dqkmejt.js";import{h as Ue,i as Ge}from"./kgnykbdth8mb50na.js";import{I as Fe}from"./n8tfpmgkqe98i7yl.js";import{u as Re,m as Be}from"./l5tx0mdfvuhy3mx5.js";import{G as ze}from"./ol66fkh2eqwvqlft.js";function He({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0,isContentTweaksEnabled:n=!1}){const i=w(),o=n?Q.workspaceNameDescription:G.workspaceNameDescription,f=n?Q.exampleTeamWorkspaceName:G.exampleTeamWorkspaceName;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(d,c({},G.workspaceNameLabel))}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(d,c({},o))})]}),e.jsx(Fe,{className:"w-full",type:"text",name:"workspace-name",placeholder:i.formatMessage(f),value:t,onChange:r=>a(r.target.value),maxLength:64})]})}const G=T({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Choose a name your team will recognize."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}}),Q=T({workspaceNameDescription:{id:"createWorkspace.experiment.workspaceNameDescription",defaultMessage:"This will be your workspace name â€” the shared home for your team in ChatGPT."},exampleTeamWorkspaceName:{id:"createWorkspace.experiment.exampleTeamWorkspaceName",defaultMessage:"Acme Inc"}}),K=T({discoverabilityCheckboxWithDomain:{id:"workspaceOnboarding.discoverabilityCheckboxWithDomain",defaultMessage:"Anyone with an <b>{domain}</b> email can request to join"},discoverabilityCheckboxGeneric:{id:"workspaceOnboarding.discoverabilityCheckboxGeneric",defaultMessage:"Anyone with your email domain can request to join"}});function $e(t){"use forget";const a=xe.c(4),{onNext:s}=t,n=N();if(!n){let o;return a[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(ye,{}),a[0]=o):o=a[0],o}let i;return a[1]!==n||a[2]!==s?(i=e.jsx(Xe,{onNext:s,currentAccount:n}),a[1]=n,a[2]=s,a[3]=i):i=a[3],i}function Xe({onNext:t,currentAccount:a}){"use no forget";var X,V;const s=ee(),n=w(),i=ae(),o=ve(),f=a.data,[r,S]=l.useState(""),[b,y]=l.useState(!0),[O]=Z(),v=O.get("account_id"),x=v!=null?v:a.data.id,p=Re(x),{data:h}=Ce(x),E=(h==null?void 0:h.support_workspace_discovery)!==!1,C=!!x&&E,L=Ee(x,{suppressSuccessToast:!0}),z=(V=(X=o==null?void 0:o.email)==null?void 0:X.split("@")[1])!=null?V:null,H=z?"@".concat(z):null,$=typeof(h==null?void 0:h.workspace_discoverable)=="boolean"?h.workspace_discoverable:null,oe=l.useCallback(m=>{y(m),u.logEvent("Account Pay: Create Workspace Discoverability Checkbox Toggled",{workspaceDiscoverable:m})},[]),ie=l.useCallback(async()=>{if(!a)return;const m=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",m);try{const k=[];r!==f.name&&(k.push(p.mutateAsync({name:r})),u.logEvent("Account Pay: Create Workspace Modal Renamed",m)),C&&$!==b&&(u.logEvent("Account Pay: Create Workspace Discoverability Submitted",{workspaceDiscoverable:b}),k.push(L.mutateAsync({value:b,public_display_name:null,use_workspace_name_for_discovery:b,action:"toggle"}))),k.length>0&&await Promise.all(k),t()}catch(k){i.warning(n.formatMessage(Be.saveError),{hasCloseButton:!0})}},[a,f.name,L,n,t,p,C,i,$,b,r]),{isCreateWorkspaceNameAutofillEnabled:ce}=Ue(s),I=ce();l.useEffect(()=>{var k;if(I&&!(o!=null&&o.email)||!a||!o)return;const m=(k=Ge(n,a,o,{enableEmailPrefill:I}))!=null?k:"";S(U=>U.trim().length===0?m:U)},[n,a,o,I]),l.useEffect(()=>{if(!a)return;const m=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",m)},[a]);const _=te(s,"1456645202").get("is_workspace_content_tweaks_enabled",!1),re=_?F.workspaceSetupTitle:_e.nameWorkspace,le=_?F.discoverabilityCheckboxWithDomain:K.discoverabilityCheckboxWithDomain,de=_?F.discoverabilityCheckboxGeneric:K.discoverabilityCheckboxGeneric;return e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"md:whitespace-nowrap",children:e.jsx(d,c({},re))}),e.jsxs(Ne,{children:[e.jsx(He,{workspaceName:r,onChangeWorkspaceName:S,showHeader:!1,isContentTweaksEnabled:_}),C&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(De,{id:"workspace-discoverability-opt-in",checked:b,onChange:m=>oe(m.currentTarget.checked),containerClassName:"items-start",className:"mt-1",labelClassName:"text-left text-token-text-primary text-sm max-w-70",label:e.jsx(e.Fragment,{children:H?e.jsx(d,P(c({},le),{values:{domain:H,b:m=>e.jsx("strong",{className:"font-semibold",children:m})}})):e.jsx(d,c({},de))})})})]}),e.jsx(j,{loading:p.isPending||L.isPending||a==null,onClick:()=>{ie()},disabled:r.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(d,c({},R.continueButtonText))})]})}const F=T({workspaceSetupTitle:{id:"workspaceOnboarding.experiment.workspaceSetupTitle",defaultMessage:"What's your company or team name?"},discoverabilityCheckboxWithDomain:{id:"workspaceOnboarding.experiment.discoverabilityCheckboxWithDomain",defaultMessage:"Anyone with a <b>{domain}</b> email can ask to join"},discoverabilityCheckboxGeneric:{id:"workspaceOnboarding.experiment.discoverabilityCheckboxGeneric",defaultMessage:"Anyone with your company email can ask to join"}}),Ve=je(()=>fe(()=>import("./gdj7aa3kvh4x8qzj.js").then(t=>t._),__vite__mapDeps([0,1])),{loading:t=>we(t)});var ne=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(ne||{});const Ye={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},D=["landing","naming","invite","caOnboarding","complete"];function qe(){const t=be(),a=J(),{currentPath:s,currentStep:n}=ta(),i=ee(),o=w(),f=ae(),[r,S]=l.useState(1),[b]=Z(),y=b.get("account_id"),O=te(i,"2239990662");function v(){O.get("should_hard_navigate_to_root_path_for_team",!1)?window.location.href="/":a("/")}l.useEffect(()=>{function p(){S(-1)}return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const x=()=>{S(1);let p=D.indexOf(n);const h=D[p+1],E=h==="caOnboarding"?Pe(i,"555825174").get("enabled",!1):!1;h==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:y,experimentFlag:E}),h==="caOnboarding"&&!E&&p++;const C=p+1;y||v(),p!==-1&&C<D.length&&a(s+"#"+D[C])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(Te,{mode:"wait",custom:r,children:[n==="landing"&&e.jsx(M,{initial:!1,custom:r,children:e.jsx(Qe,{onNext:x})},"landing"),n==="naming"&&e.jsx(M,{initial:!1,custom:r,children:e.jsx($e,{onNext:x})},"naming"),n==="invite"&&e.jsx(M,{custom:r,children:e.jsx(Ke,{onNext:x})},"invite"),n==="caOnboarding"&&e.jsx(M,{custom:r,children:e.jsx(ea,{onNext:x})},"caOnboarding"),n==="complete"&&e.jsx(M,{custom:r,children:e.jsx(aa,{onNext:()=>{x(),y&&Se(t,y,i,o,f),v()}})},"complete")]})})}const M=t=>e.jsx(Me.div,c({initial:"enter",animate:"center",exit:"exit",variants:Ye,transition:{translateX:{type:"tween",duration:0},opacity:{duration:.2}}},t));function Qe({onNext:t}){const a=N(),s=l.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,o=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",P(c({},n),{referrer:o}))},[a]);return l.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,o=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Show",P(c({},n),{referrer:o}))},[a]),e.jsxs(e.Fragment,{children:[e.jsx(se,{isTrial:!1}),e.jsx(W,{children:e.jsx(d,c({},g.standard))}),e.jsx(B,{children:e.jsx(d,c({},g.description))}),e.jsx(j,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(d,c({},R.continueButtonText))})]})}function Ke({onNext:t}){const a=w(),s=N(),{data:n}=Ae(),i=l.useMemo(()=>s==null?void 0:s.subscriptionAnalyticsParams,[s]);return l.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",i)},[i,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx(d,P(c({},g.inviteTitle),{values:{seatCount:n.seats_entitled,workspaceName:s.data.name}}))}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(d,c({},g.completeDescription))}),e.jsx(Le,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(g.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const Ze="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",Je="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function ea({onNext:t}){const a=w(),s=N(),[n,i]=l.useState(!1),[o,f]=l.useState(!1);return l.useEffect(()=>{if(!s)return;const r=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",r)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:Ze,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>f(!0)}),!o&&e.jsx("img",{src:Je,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(g.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(g.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(j,{onClick:()=>i(!0),icon:Ve,size:"large",fullWidth:!0,children:a.formatMessage(g.caOnboardingConnectButton)}),e.jsx(j,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(g.skipCaOnboarding)})]}),n&&e.jsx(ze,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:r=>{i(!1),r&&t()}})]})}function aa({onNext:t}){const a=N(),s=l.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]);l.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx(d,c({},g.completeTitle))}),e.jsx(B,{children:e.jsx(d,c({},g.completeDescription))}),e.jsx(j,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(d,c({},g.continueToChatgpt))})]})}function ta(){const{hash:t,pathname:a,search:s}=ke(),n=t.slice(1);return{currentStep:sa(n)?n:"landing",currentPath:a+s}}const sa=Ie(ne),g=T({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function fa({isTrial:t,isTeam:a}){const s=w(),n=J(),i=l.useCallback(o=>{o.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(We,{forceLightTheme:!0,children:[e.jsx(Oe,{children:e.jsx("title",{children:s.formatMessage(A.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(qe,{}):e.jsx(na,{isTrial:t,onContinue:i})})]})}function na({isTrial:t,onContinue:a}){const s=t?A.trial:A.standard;return e.jsxs(e.Fragment,{children:[e.jsx(se,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(W,{children:e.jsx(d,c({},s))}),e.jsx(B,{children:e.jsx(d,c({},A.paymentReceived))}),e.jsx(j,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(d,c({},R.continueButtonText))})]})]})}const A=T({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{fa as P};
//# sourceMappingURL=llrfh6q1346eas5w.js.map
