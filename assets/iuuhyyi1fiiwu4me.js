const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mtsfsh7z74bmo6ig.js","assets/i8clt0mfz495j7ii.js","assets/ntuoxtu7ohytvwjv.js","assets/f2itj05whsmn3kgs.js","assets/kkginmfs5ty8sze2.js","assets/brx1ehse1il2u1b0.js","assets/mbhfxri3syrb9rbq.js"])))=>i.map(i=>d[i]);
var de=Object.defineProperty;var ae=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var te=(a,e,o)=>e in a?de(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,se=(a,e)=>{for(var o in e||(e={}))ce.call(e,o)&&te(a,o,e[o]);if(ae)for(var o of ae(e))me.call(e,o)&&te(a,o,e[o]);return a};import{c as ge,e as ue,r as m,j as n,f as fe,_ as w}from"./i8clt0mfz495j7ii.js";import{d1 as he,dO as pe,d6 as g,dP as Ie,dQ as _e,dR as xe,dS as De,dT as we,dU as be,d7 as ve,d5 as Re}from"./j0yo6uv6652vva62.js";import{L as $,S as je}from"./gkuhfrmysvpuw4uo.js";import{I as Ce}from"./mh1u90j45tiq86ol.js";import{o as b,L as v}from"./ghewn7l2ynbm32fm.js";import"./ghnvrdqxofgwprfv.js";import"./hht3m8p9e0s4tqnx.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";const Se=b(()=>w(()=>import("./mtsfsh7z74bmo6ig.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>v(a)}),Ee=b(()=>w(()=>import("./ntuoxtu7ohytvwjv.js").then(a=>a._),__vite__mapDeps([2,1])),{loading:a=>v(a)}),Me=b(()=>w(()=>import("./f2itj05whsmn3kgs.js").then(a=>a._),__vite__mapDeps([3,1])),{loading:a=>v(a)}),Te=b(()=>w(()=>import("./kkginmfs5ty8sze2.js").then(a=>a._),__vite__mapDeps([4,1])),{loading:a=>v(a)}),Ne=b(()=>w(()=>import("./brx1ehse1il2u1b0.js").then(a=>a._),__vite__mapDeps([5,1])),{loading:a=>v(a)}),Pe=b(()=>w(()=>import("./mbhfxri3syrb9rbq.js").then(a=>a._),__vite__mapDeps([6,1])),{loading:a=>v(a)}),ne=fe({thumbsUp:{id:"Qz8Wa6",defaultMessage:"Like this image"},thumbsDown:{id:"sUGtRy",defaultMessage:"Dislike this image"}}),Le=a=>{var e,o,c,d;return be({pointer:{url:a.url,asset_pointer:(e=a.assetPointer)!=null?e:"",metadata:{dalle:{gen_id:(o=a.transformationId)!=null?o:void 0},generation:{gen_id:(c=a.transformationId)!=null?c:void 0}},width:a.width,height:a.height},conversationId:a.conversationId,messageId:(d=a.messageId)!=null?d:"",source:"chat"})},Qe=a=>{"use forget";var ee;const e=ge.c(61),{images:o,initialIndex:c,onClose:d,conversation:u,currentModelId:F}=a,r=ue(),q=he(),[i,J]=m.useState(null),[R,O]=m.useState(null),[oe,ie]=m.useState(c),[f,G]=m.useState("default"),s=pe(),K=m.useRef(null),V=m.useRef(s);let j,C;e[0]!==s?(j=()=>{V.current=s},C=[s],e[0]=s,e[1]=j,e[2]=C):(j=e[1],C=e[2]),m.useEffect(j,C);let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=l=>{O(null),J(null),ie(l),G("default"),V.current.clearAllDrawings()},e[3]=S):S=e[3];const re=S;let E;e[4]!==r?(E=()=>De(r),e[4]=r,e[5]=E):E=e[5];const z=E;let M;e[6]!==i?(M=(l,Z)=>{!Z||i!=null||(we.imageRated({liked:l,analyticsContext:Le(Z)}),J(l),l||O(Z))},e[6]=i,e[7]=M):M=e[7];const h=M,t=o[oe];let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{G("default"),V.current.clearAllDrawings()},e[8]=T):T=e[8];const X=T;let N;e[9]!==t||e[10]!==h?(N=()=>{h(!0,t)},e[9]=t,e[10]=h,e[11]=N):N=e[11];const B=N;let P;e[12]!==t||e[13]!==h||e[14]!==i?(P=()=>{!t||i!=null||h(!1,t)},e[12]=t,e[13]=h,e[14]=i,e[15]=P):P=e[15];const H=P;let L;e[16]!==t?(L=()=>{t&&G("inpaint")},e[16]=t,e[17]=L):L=e[17];const Q=L;let k;e[18]!==t||e[19]!==z?(k=()=>{t&&ve({url:t.url,fileName:z()})},e[18]=t,e[19]=z,e[20]=k):k=e[20];const W=k;let A;e[21]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{var l;return(l=K.current)==null?void 0:l.getImageData()},e[21]=A):A=e[21];const le=A;let U;e[22]!==u?(U=l=>Re(se({conversation:u},l)),e[22]=u,e[23]=U):U=e[23];const Y=U;let p;e[24]!==s||e[25]!==f?(p={mode:f,drawingState:s,drawingCanvasRef:K},e[24]=s,e[25]=f,e[26]=p):p=e[26];let I;e[27]!==t||e[28]!==q||e[29]!==s.canRedoDrawing||e[30]!==s.canUndoDrawing||e[31]!==s.redoDrawing||e[32]!==s.undoDrawing||e[33]!==W||e[34]!==Q||e[35]!==H||e[36]!==B||e[37]!==r||e[38]!==f||e[39]!==i?(I=n.jsx($.LightboxHeaderActions,{children:f==="inpaint"?n.jsxs("div",{className:"grid grow grid-cols-[1fr_auto] items-center gap-2",children:[n.jsx("div",{className:"text-center font-semibold",children:r.formatMessage({id:"TjVqYb",defaultMessage:"Edit Selection"})}),n.jsxs("div",{className:"flex gap-1 justify-self-end md:gap-2",children:[n.jsx(g,{className:"aspect-square",icon:Ie,onClick:s.undoDrawing,disabled:!s.canUndoDrawing,"aria-label":r.formatMessage({id:"OmaTPx",defaultMessage:"Undo"})}),n.jsx(g,{className:"aspect-square",icon:_e,onClick:s.redoDrawing,disabled:!s.canRedoDrawing,"aria-label":r.formatMessage({id:"ZUr4oh",defaultMessage:"Redo"})}),n.jsx(g,{className:"w-auto px-3",onClick:X,children:r.formatMessage({id:"D9xvar",defaultMessage:"Cancel"})})]})]}):n.jsxs("div",{className:"flex gap-1 md:gap-2",children:[i!==!1&&n.jsx(g,{className:"aspect-square",icon:i===!0?Ee:Se,onClick:B,"aria-label":r.formatMessage(ne.thumbsUp)}),i!==!0&&n.jsx(g,{className:"aspect-square",icon:i===!1?Te:Me,onClick:H,"aria-label":r.formatMessage(ne.thumbsDown)}),n.jsx(g,{className:"aspect-square",icon:Ne,onClick:Q,"aria-label":r.formatMessage({id:"pRGwlp",defaultMessage:"Edit image"})}),n.jsx(g,{className:"aspect-square",icon:Pe,onClick:W,"aria-label":r.formatMessage({id:"9DNHka",defaultMessage:"Download image"})}),q()&&(t==null?void 0:t.messageId)&&n.jsx(je,{assetPointer:t.assetPointer,serverThreadId:t.conversationId,messageId:t.messageId})]})}),e[27]=t,e[28]=q,e[29]=s.canRedoDrawing,e[30]=s.canUndoDrawing,e[31]=s.redoDrawing,e[32]=s.undoDrawing,e[33]=W,e[34]=Q,e[35]=H,e[36]=B,e[37]=r,e[38]=f,e[39]=i,e[40]=I):I=e[40];let _;e[41]!==t||e[42]!==u.id||e[43]!==F||e[44]!==s.currentDrawnShape||e[45]!==d||e[46]!==Y?(_=n.jsx($.Footer,{children:n.jsx(Ce,{clientThreadId:u.id,currentModelId:F,onRequestCompletion:Y,onClose:d,activeImage:t,currentDrawnShape:s.currentDrawnShape,getImageData:le,onCancelInpaint:X})}),e[41]=t,e[42]=u.id,e[43]=F,e[44]=s.currentDrawnShape,e[45]=d,e[46]=Y,e[47]=_):_=e[47];let x;e[48]!==o||e[49]!==c||e[50]!==d||e[51]!==p||e[52]!==I||e[53]!==_?(x=n.jsxs($.Root,{images:o,initialIndex:c,onClose:d,onIndexChange:re,inpaintingProps:p,children:[I,_]}),e[48]=o,e[49]=c,e[50]=d,e[51]=p,e[52]=I,e[53]=_,e[54]=x):x=e[54];let D;e[55]!==R||e[56]!==i?(D=R&&n.jsx(xe,{messageId:(ee=R.messageId)!=null?ee:"",serverThreadId:R.conversationId,rating:i,onClose:()=>O(null)}),e[55]=R,e[56]=i,e[57]=D):D=e[57];let y;return e[58]!==x||e[59]!==D?(y=n.jsxs(n.Fragment,{children:[x,D]}),e[58]=x,e[59]=D,e[60]=y):y=e[60],y};export{Qe as ImageGenConversationLightboxNew};
//# sourceMappingURL=iuuhyyi1fiiwu4me.js.map
