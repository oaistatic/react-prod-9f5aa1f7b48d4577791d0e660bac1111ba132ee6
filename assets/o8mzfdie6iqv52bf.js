const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3j20em1lilnrpdcm.js","assets/i8clt0mfz495j7ii.js","assets/j0yo6uv6652vva62.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/gv1ai503zidswvp7.js"])))=>i.map(i=>d[i]);
var be=Object.defineProperty,ye=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var re=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ie=(a,e,s)=>e in a?be(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,f=(a,e)=>{for(var s in e||(e={}))ve.call(e,s)&&ie(a,s,e[s]);if(re)for(var s of re(e))je.call(e,s)&&ie(a,s,e[s]);return a},D=(a,e)=>ye(a,Te(e));import{c as q,j as t,e as oe,r as R,M as p,f as ue,_ as J}from"./i8clt0mfz495j7ii.js";import{o as Ae,b8 as Se,m as Ne,mP as _e}from"./j0yo6uv6652vva62.js";import{e as Ee,qf as ke,hr as me,u as se,h as G,a as fe,be as Ie,C as Oe,aM as te,o as Q,$ as ge,ba as we,d as ae,qg as Pe,j as Le,L as X,fl as De,B as Re,pP as Be,eh as Fe,T as Ue,hK as Ge}from"./ghewn7l2ynbm32fm.js";import{I as $}from"./izvx0vf35f3cqx26.js";import{u as qe}from"./kmbpv6g63y0ugt37.js";import{u as Ve}from"./nrrhfi0a0bbsg9w2.js";function le(a){"use forget";const e=q.c(19),{form:s,showErrors:o,setShowErrors:c,clientIdAriaLabel:m,clientIdPlaceholder:n,clientSecretAriaLabel:l,clientSecretPlaceholder:d}=a;let u;e[0]!==m||e[1]!==n||e[2]!==c||e[3]!==o?(u=C=>t.jsx($,{name:"custom-connector-client-id",value:C.state.value,onChange:y=>{C.handleChange(y.target.value),o&&c(!1)},ariaLabel:m,placeholder:n,error:o?C.state.meta.errors[0]:void 0,autoComplete:"off",inputClassName:"bg-token-bg-primary!"}),e[0]=m,e[1]=n,e[2]=c,e[3]=o,e[4]=u):u=e[4];let M;e[5]!==s.Field||e[6]!==u?(M=t.jsx(s.Field,{name:"oauthClientId",children:u}),e[5]=s.Field,e[6]=u,e[7]=M):M=e[7];let h;e[8]!==l||e[9]!==d||e[10]!==c||e[11]!==o?(h=C=>t.jsx($,{name:"custom-connector-client-secret",type:"password",value:C.state.value,onChange:y=>{C.handleChange(y.target.value),o&&c(!1)},ariaLabel:l,placeholder:d,error:o?C.state.meta.errors[0]:void 0,autoComplete:"off",inputClassName:"bg-token-bg-primary!"}),e[8]=l,e[9]=d,e[10]=c,e[11]=o,e[12]=h):h=e[12];let x;e[13]!==s.Field||e[14]!==h?(x=t.jsx(s.Field,{name:"oauthClientSecret",children:h}),e[13]=s.Field,e[14]=h,e[15]=x):x=e[15];let g;return e[16]!==M||e[17]!==x?(g=t.jsxs("div",{className:"flex flex-col gap-3",children:[M,x]}),e[16]=M,e[17]=x,e[18]=g):g=e[18],g}const We=Q(()=>J(()=>import("./3j20em1lilnrpdcm.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>X(a)}),ze=Q(()=>J(()=>import("./j0yo6uv6652vva62.js").then(a=>a.yq),__vite__mapDeps([2,1,3,4,5])),{loading:a=>X(a)}),Ye=Q(()=>J(()=>import("./j0yo6uv6652vva62.js").then(a=>a.yD),__vite__mapDeps([2,1,3,4,5])),{loading:a=>X(a)}),ce=1024*1024*4,de=()=>{"use forget";const a=q.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("span",{className:"text-token-text-tertiary font-normal",children:t.jsx(p,f({},i.optionalText))}),a[0]=e):e=a[0],e},Ke=a=>{"use forget";const e=q.c(15),{previewUrl:s,isDragActive:o}=a,c=oe(),m=we();if(!s||o){const h=o?"border-green-600 bg-green-600/30 text-green-600":"border-token-border-heavy text-token-text-tertiary";let x;e[0]!==h?(x=ae("rounded-xl border border-dashed p-4",h),e[0]=h,e[1]=x):x=e[1];let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(ze,{className:"h-6 w-6"}),e[2]=g):g=e[2];let C;return e[3]!==x?(C=t.jsx("span",{className:x,children:g}),e[3]=x,e[4]=C):C=e[4],C}const n=m&&"bg-white";let l;e[5]!==n?(l=ae("bg-token-bg-tertiary overflow-hidden rounded-xl border",n),e[5]=n,e[6]=l):l=e[6];let d;e[7]!==c?(d=c.formatMessage(i.iconPreviewAlt),e[7]=c,e[8]=d):d=e[8];let u;e[9]!==s||e[10]!==d?(u=t.jsx("img",{src:s,alt:d,className:"h-14 w-14 object-cover"}),e[9]=s,e[10]=d,e[11]=u):u=e[11];let M;return e[12]!==l||e[13]!==u?(M=t.jsx("span",{className:l,children:u}),e[12]=l,e[13]=u,e[14]=M):M=e[14],M},He=a=>new Promise((e,s)=>{const o=new FileReader;o.onloadend=()=>e(o.result),o.onerror=()=>s(),o.readAsDataURL(a)}),pt=({onClose:a,redirectAfter:e})=>{"use no forget";const s=Ee(),{mutateAsync:o,isPending:c}=ke(me.CONNECTOR_SETTING),m=se(),n=oe(),[l,d]=R.useState(!1),[u,M]=R.useState("OAUTH"),[h,x]=R.useState(!1),[g,C]=R.useState(!1),y=qe({defaultValues:{name:"",url:"",description:"",oauthClientId:"",oauthClientSecret:""},onSubmit:async({value:r})=>{var W,z,Y;const b=w?await He(w):null;let H=[],V=null;if(u==="OAUTH")try{let v=[];if(!S){const U=await Pe(r.url.trim());H=[U],v=(W=U.base_scopes)!=null?W:[]}if(A){const U=r.oauthClientId.trim(),ne=r.oauthClientSecret.trim();if(ne.length!==0&&U.length===0){s.danger(i.clientIdRequired);return}U.length!==0&&(V={client_id:U,client_secret:ne,scopes:v})}}catch(v){s.danger(i.oauthConfigError,{error:v});return}try{const v=await o({name:r.name.trim(),mcp_url:r.url.trim(),description:r.description.trim(),logo_url:b,supported_auth:S?void 0:H,oauth_client_params:V,authTypeOverride:S?void 0:u,redirectAfter:e});if(!v.implementsRetrievable&&!((z=v.connector)!=null&&z.supports_full_actions)){_(!0);return}a((Y=v.connector)==null?void 0:Y.id)}catch(v){v instanceof Le&&v.status===409?s.danger(i.duplicateName):s.danger(i.createConnectorError,{error:v});return}},validators:{onSubmit:({value:r})=>{const b={};return r.name.trim()||(b.name=n.formatMessage({id:"vtyh9X",defaultMessage:"Name is required"})),r.url.trim()?r.url.trim().match(/^https?:\/\//)||(b.url=n.formatMessage({id:"7hn6Jq",defaultMessage:"URL is invalid"})):b.url=n.formatMessage({id:"7WV2q4",defaultMessage:"URL is required"}),{fields:b}}}}),[w,Z]=R.useState(null),[N,ee]=R.useState(null),[K,_]=R.useState(!1),A=G(m,"3832963721"),S=G(m,"4145215199"),B=fe(()=>De(m)),E=r=>{if(N&&URL.revokeObjectURL(N),r.size>ce){s.danger(i.iconTooLarge);return}Z(r);const b=URL.createObjectURL(r);ee(b)},{getRootProps:k,getInputProps:I,isDragActive:O}=Ve({accept:{"image/*":[]},multiple:!1,noKeyboard:!0,noClick:!0,maxSize:ce,onDropAccepted:r=>{r.length>0&&E(r[0])},onDropRejected:()=>{s.danger(i.iconInvalid)}}),F=r=>{r.preventDefault(),h&&(d(!0),y.handleSubmit())},P=Ie(m,"2281575548"),L=P.get("docs_url","https://platform.openai.com/docs/mcp"),T=P.get("safety_url","https://platform.openai.com/docs/mcp#risks-and-safety");return t.jsx(Oe,{testId:"modal-create-custom-connector",title:t.jsx("span",{className:"flex items-center gap-1",children:t.jsx(p,D(f({},i.createCustomConnectorModalTitle),{values:{betaBadge:t.jsx(_e,{})}}))}),type:"success",isOpen:!0,onClose:()=>a(),showCloseButton:!0,size:"custom",className:"max-w-[448px]",children:t.jsxs("form",{onSubmit:F,className:"flex flex-col gap-4",children:[t.jsxs("label",D(f({},k({className:"flex cursor-pointer items-center gap-2.5"})),{children:[t.jsx("input",f({},I())),t.jsx(Ke,{previewUrl:N,isDragActive:O}),t.jsxs("span",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-medium",children:t.jsx(p,D(f({},i.iconTitle),{values:{optionalText:t.jsx(de,{})}}))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(p,f({},i.iconDescription))})]})]})),t.jsx(y.Field,{name:"name",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-name",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.nameTitle))}),t.jsx($,{name:"custom-connector-name",value:r.state.value,onChange:b=>{r.handleChange(b.target.value),l&&d(!1)},ariaLabel:n.formatMessage(i.nameTitle),placeholder:n.formatMessage(i.namePlaceholder),error:l?r.state.meta.errors[0]:void 0,inputClassName:"bg-token-bg-primary!"})]})}),t.jsx(y.Field,{name:"description",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-description",className:"mb-1 block text-sm font-medium",children:t.jsx(p,D(f({},i.descriptionTitle),{values:{optionalText:t.jsx(de,{})}}))}),t.jsx(Ae,{name:"custom-connector-description",value:r.state.value,onChange:b=>r.handleChange(b.target.value),ariaLabel:n.formatMessage(i.descriptionTitle,{optionalText:n.formatMessage(i.optionalText)}),placeholder:n.formatMessage(i.descriptionPlaceholder),inputClassName:"bg-token-bg-primary!"})]})}),t.jsx(y.Field,{name:"url",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-url",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.urlTitle))}),t.jsx($,{name:"custom-connector-url",value:r.state.value,onChange:b=>{r.handleChange(b.target.value),l&&d(!1),K&&_(!1)},ariaLabel:n.formatMessage(i.urlTitle),placeholder:n.formatMessage(i.urlPlaceholder),inputClassName:"bg-token-bg-primary!",error:K?t.jsx("span",{children:t.jsx(p,D(f({},B?i.developerModeConformanceError:i.conformanceError),{values:{link:b=>t.jsx(te,{href:L,openNewTab:!0,children:b})}}))}):l?r.state.meta.errors[0]:void 0})]})}),!S&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-auth",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.authTypeTitle))}),t.jsx(Se,{options:[{label:n.formatMessage(i.oauthOption),value:"OAUTH"},{label:n.formatMessage(i.noAuthOption),value:"NONE"}],value:u,onValueChange:r=>M(r),triggerId:"custom-connector-auth",triggerClassName:"w-full justify-between border-token-border-heavy"})]}),S&&A?t.jsxs("div",{className:"border-token-border-heavy rounded-xl border",children:[t.jsx("button",{type:"button",className:"w-full px-4 py-3 text-start text-sm font-medium","aria-expanded":g,"aria-controls":"advanced-auth-panel",onClick:()=>C(r=>!r),children:t.jsx(p,f({},i.advancedSettings))}),g&&t.jsx("div",{id:"advanced-auth-panel",className:"border-token-border-heavy border-t p-4",children:t.jsx(le,{form:y,showErrors:l,setShowErrors:d,clientIdAriaLabel:n.formatMessage(i.clientIdTitle),clientIdPlaceholder:n.formatMessage(i.oauthClientIdPlaceholder),clientSecretAriaLabel:n.formatMessage(i.clientSecretTitle),clientSecretPlaceholder:n.formatMessage(i.oauthClientSecretPlaceholder)})})]}):u==="OAUTH"&&A&&t.jsx(le,{form:y,showErrors:l,setShowErrors:d,clientIdAriaLabel:n.formatMessage(i.clientIdTitle),clientIdPlaceholder:n.formatMessage(i.oauthClientIdPlaceholder),clientSecretAriaLabel:n.formatMessage(i.clientSecretTitle),clientSecretPlaceholder:n.formatMessage(i.oauthClientSecretPlaceholder)}),t.jsxs("div",{children:[t.jsxs("div",{className:"border-token-border-status-warning bg-token-bg-status-warning text-token-text-status-warning flex items-center gap-2 rounded-t-2xl border border-b-0 px-4 py-3 text-sm font-medium",children:[t.jsx(We,{className:"h-6 w-6"}),t.jsx("span",{children:t.jsx(p,D(f({},i.customConnectorRiskBanner),{values:{link:r=>t.jsx(te,{href:T,openNewTab:!0,className:"inline",children:r},"custom-connector-banner-link")}}))})]}),t.jsxs("label",{htmlFor:"trust-checkbox",className:"flex items-center gap-3 rounded-b-2xl border border-gray-200 bg-white px-4 py-4 text-sm dark:border-gray-700 dark:bg-gray-800",children:[t.jsx(Ne,{id:"trust-checkbox",onChange:()=>x(r=>!r),disabled:c}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(p,f({},i.acceptLabelTitle))}),t.jsx("p",{className:"text-token-text-tertiary text-sm",children:t.jsx(p,f({},i.customConnectorRiskSubtitle))})]})]})]}),t.jsxs("div",{className:"flex w-full items-center justify-between",children:[t.jsxs(te,{href:L,openNewTab:!0,className:"text-token-text-tertiary text-sm",children:[t.jsx(Ye,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(p,f({},i.readTheGuideLink))]}),t.jsx(y.Subscribe,{selector:r=>[r.isSubmitting],children:([r])=>t.jsx(ge,{type:"submit",loading:r,disabled:!h,children:t.jsx(p,f({},i.createButton))})})]})]})})},i=ue({createCustomConnectorModalTitle:{id:"createCustomConnectorModal.title",defaultMessage:"New Connector {betaBadge}"},iconTitle:{id:"createCustomConnectorModal.iconTitle",defaultMessage:"Icon {optionalText}"},iconDescription:{id:"createCustomConnectorModal.iconDescription",defaultMessage:"Minimum size: 128 x 128 px"},nameTitle:{id:"createCustomConnectorModal.nameTitle",defaultMessage:"Name"},urlTitle:{id:"createCustomConnectorModal.urlTitle",defaultMessage:"MCP Server URL"},descriptionTitle:{id:"createCustomConnectorModal.descriptionTitle",defaultMessage:"Description {optionalText}"},optionalText:{id:"createCustomConnectorModal.optionalText",defaultMessage:"(optional)"},readTheGuideLink:{id:"createCustomConnectorModal.readTheGuideLink",defaultMessage:"Read the guide"},createButton:{id:"createCustomConnectorModal.createButton",defaultMessage:"Create"},iconPreviewAlt:{id:"createCustomConnectorModal.iconPreviewAlt",defaultMessage:"Icon preview"},namePlaceholder:{id:"createCustomConnectorModal.namePlaceholder",defaultMessage:"Custom Tool"},urlPlaceholder:{id:"createCustomConnectorModal.urlPlaceholder",defaultMessage:"https://example.com/sse"},descriptionPlaceholder:{id:"createCustomConnectorModal.descriptionPlaceholder",defaultMessage:"Explain what it does in a few words"},iconTooLarge:{id:"createCustomConnectorModal.iconTooLarge",defaultMessage:"Icon is too large"},iconInvalid:{id:"createCustomConnectorModal.iconInvalid",defaultMessage:"Invalid icon"},authTypeTitle:{id:"createCustomConnectorModal.authTypeTitle",defaultMessage:"Authentication"},oauthOption:{id:"createCustomConnectorModal.oauthOption",defaultMessage:"OAuth"},noAuthOption:{id:"createCustomConnectorModal.noAuthOption",defaultMessage:"No authentication"},oauthConfigError:{id:"createCustomConnectorModal.oauthConfigError",defaultMessage:"Error fetching OAuth configuration"},customConnectorRiskBanner:{id:"createCustomConnectorModal.customConnectorRiskBanner",defaultMessage:"Custom MCP servers introduce risk. <link>Learn more</link>"},acceptLabelTitle:{id:"createCustomConnectorModal.acceptLabelTitle",defaultMessage:"I understand and want to continue"},customConnectorRiskSubtitle:{id:"createCustomConnectorModal.customConnectorRiskSubtitle",defaultMessage:"OpenAI hasn't reviewed this MCP server. Attackers may attempt to steal your data or trick the model into taking unintended actions, including destroying data."},conformanceError:{id:"createCustomConnectorModal.conformanceError",defaultMessage:"This MCP server doesn't implement <link>our specification</link>"},developerModeConformanceError:{id:"createCustomConnectorModal.developerModeConformanceError",defaultMessage:"This MCP server doesn't implement <link>our specification</link>. Enable Developer Mode in Advanced Connector Settings to create custom connectors that support arbitrary tool calls"},createConnectorError:{id:"createCustomConnectorModal.createConnectorError",defaultMessage:"Error creating connector"},duplicateName:{id:"createCustomConnectorModal.duplicateName",defaultMessage:"Connector name already exists"},clientIdTitle:{id:"createCustomConnectorModal.clientIdTitle",defaultMessage:"OAuth client ID"},oauthClientIdPlaceholder:{id:"createCustomConnectorModal.oauthClientIdPlaceholder",defaultMessage:"OAuth Client ID (Optional)"},clientSecretTitle:{id:"createCustomConnectorModal.clientSecretTitle",defaultMessage:"OAuth client secret"},oauthClientSecretPlaceholder:{id:"createCustomConnectorModal.oauthClientSecretPlaceholder",defaultMessage:"OAuth Client Secret (Optional)"},advancedSettings:{id:"createCustomConnectorModal.advancedSettings",defaultMessage:"Advanced settings"},clientIdRequired:{id:"createCustomConnectorModal.clientIdRequired",defaultMessage:"Enter a client ID or remove the client secret"}});function $e(a){"use forget";var s,o;const e=Re();return!e||!a?!1:!!((s=a.owners)!=null&&s.some(c=>c.type==="USER"&&c.id===e.normalizedAccountUserId)||(e.isAdminOfAccount()||e.isOwnerOfAccount())&&((o=a.owners)!=null&&o.some(c=>c.type==="WORKSPACE"&&c.id===e.getWorkspaceId())))}const j=ue({adminConnectedDescription:{id:"PCSldL",defaultMessage:"This connector is managed by your ChatGPT administrator"},connectorDisabled:{id:"v6nWaS",defaultMessage:"This connector is not enabled for your account. Please contact your administrator to enable it."},backButton:{id:"2XH9oW",defaultMessage:"Back"},information:{id:"m6oyFG",defaultMessage:"Information"},blockItems:{id:"guxwme",defaultMessage:"Exclude items from sync"},connectButton:{id:"bQDuj2",defaultMessage:"Connect"},refreshActionsButton:{id:"lyYLo0",defaultMessage:"Refresh"},enableSync:{id:"FQFQxe",defaultMessage:"Enable sync"},disableSync:{id:"BNY6qe",defaultMessage:"Disable sync"},disableSyncModalTitle:{id:"DGZB7x",defaultMessage:"Disable sync for {connector}?"},disableSyncModalDescription:{id:"qJQyMJ",defaultMessage:"All synced data will be deleted. If you re-enable sync, it can take 8 hours or more to sync all content."},disableSyncModalCheckboxLabel:{id:"Dl8YNg",defaultMessage:"I understand all synced data will be deleted"},disconnectButton:{id:"eeZbkM",defaultMessage:"Disconnect"},settingsButton:{id:"Z24j9e",defaultMessage:"Settings"},publishButton:{id:"5vHo1z",defaultMessage:"Publish"},manageDropdown:{id:"q/O9f7",defaultMessage:"Manage"},reportButton:{id:"R5Pd7v",defaultMessage:"Report"},reportModalTitle:{id:"6oNeBk",defaultMessage:"Report"},connectedOn:{id:"b1ykGv",defaultMessage:"Connected on"},connected:{id:"9C9A8l",defaultMessage:"Connected"},createdAt:{id:"TACRvJ",defaultMessage:"Created at"},deleteButton:{id:"Gn89FJ",defaultMessage:"Delete"},actions:{id:"K1PvPz",defaultMessage:"Actions"},readAction:{id:"OUdavU",defaultMessage:"Read"},writeAction:{id:"hfCHYo",defaultMessage:"Write"},openWorldAction:{id:"cwPgDK",defaultMessage:"Open world"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"},metadataHeading:{id:"qLsGc8",defaultMessage:"Metadata"},metadataOutputTemplate:{id:"KzJNSi",defaultMessage:"Output template"},metadataToolInvokingMessage:{id:"vNFHen",defaultMessage:"Invoking message"},metadataToolInvokedMessage:{id:"BQ6rYZ",defaultMessage:"Invoked message"},metadataWidgetAccessible:{id:"hdiMx2",defaultMessage:"Widget accessible"},securitySchemes:{id:"xkLoDf",defaultMessage:"Security schemes"},githubInstallationAlert:{id:"V4NUT5",defaultMessage:"ChatGPT needs access to your repositories to search them."},chooseRepos:{id:"VW7eJj",defaultMessage:"Choose repositories"},preferences:{id:"7kCnYS",defaultMessage:"Preferences"},recommendConnection:{id:"XpEYQL",defaultMessage:"Connection recommendations"},recommendConnectionDescription:{id:"CH3i+a",defaultMessage:"Let ChatGPT recommend connecting to {connectorName} when responding."},allowUsingAutomatically:{id:"VaMXaj",defaultMessage:"Use automatically in chat"},allowUsingAutomaticallyDescription:{id:"IHuWia",defaultMessage:"Let ChatGPT reference {connectorName} automatically when responding."},settingError:{id:"zcPmpl",defaultMessage:"Error updating setting."},editDescription:{id:"8KkNYS",defaultMessage:"Edit connector descriptions"},saveDescription:{id:"b728ms",defaultMessage:"Save"},descriptionFieldLabel:{id:"G4TQb4",defaultMessage:"Connector description"},descriptionPlaceholder:{id:"UDk3bR",defaultMessage:"Describe what this connector does for your team"},modelDescriptionFieldLabel:{id:"5YP4M7",defaultMessage:"Model description"},updateDescriptionSuccess:{id:"s/uJtK",defaultMessage:"Connector details updated"},updateDescriptionError:{id:"/zjnPq",defaultMessage:"Couldn't update connector details"}}),pe="openai/outputTemplate",he="openai/toolInvocation/invoking",xe="openai/toolInvocation/invoked",Ce="openai/widgetAccessible",Je=[pe,he,xe,Ce],Me=a=>{if(a){if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return String(a);try{return JSON.stringify(a,null,2)}catch(e){return String(a)}}},Qe=a=>Je.reduce((e,s)=>{const o=Me(a==null?void 0:a[s]);return o===void 0||e.push({key:s,value:o}),e},[]),Xe=a=>{"use forget";const e=q.c(10),{entries:s,headingMessage:o,labels:c}=a;if(s.length===0)return null;let m;e[0]!==o?(m=t.jsx("div",{className:"text-token-text-tertiary text-[11px] font-semibold uppercase",children:t.jsx(p,f({},o))}),e[0]=o,e[1]=m):m=e[1];let n;if(e[2]!==s||e[3]!==c){let d;e[5]!==c?(d=u=>{const{key:M,value:h}=u;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"text-token-text-secondary",children:t.jsx(p,f({},c[M]))}),t.jsx("pre",{className:"bg-token-bg-tertiary text-token-text-tertiary rounded-md px-2 py-1 font-mono text-[11px] leading-[14px] whitespace-pre-wrap",children:h})]},M)},e[5]=c,e[6]=d):d=e[6],n=s.map(d),e[2]=s,e[3]=c,e[4]=n}else n=e[4];let l;return e[7]!==m||e[8]!==n?(l=t.jsxs("div",{className:"mt-1 flex flex-col gap-2 text-xs",children:[m,n]}),e[7]=m,e[8]=n,e[9]=l):l=e[9],l},Ze=a=>!a||a.length===0?[]:a.reduce((e,s)=>{const o=Me(s);return o===void 0||e.push({key:s.type,value:o}),e},[]),et=a=>{"use forget";const e=q.c(10),{entries:s,headingMessage:o}=a;if(s.length===0){let u;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(t.Fragment,{}),e[0]=u):u=e[0],u}let c;e[1]!==s?(c=s.map(tt).join(",\n"),e[1]=s,e[2]=c):c=e[2];const m=c;let n;e[3]!==o?(n=t.jsx("div",{className:"text-token-text-tertiary text-[11px] font-semibold uppercase",children:t.jsx(p,f({},o))}),e[3]=o,e[4]=n):n=e[4];let l;e[5]!==m?(l=t.jsx("pre",{className:"bg-token-bg-tertiary text-token-text-tertiary rounded-md px-2 py-1 font-mono text-[11px] leading-[14px] whitespace-pre-wrap",children:m}),e[5]=m,e[6]=l):l=e[6];let d;return e[7]!==n||e[8]!==l?(d=t.jsxs("div",{className:"mt-1 flex flex-col gap-2 text-xs",children:[n,l]}),e[7]=n,e[8]=l,e[9]=d):d=e[9],d};function tt(a){return a.value}const st=Q(()=>J(()=>import("./gv1ai503zidswvp7.js").then(a=>a._),__vite__mapDeps([6,1])),{loading:a=>X(a)}),at=a=>{const e=[];return a.is_consequential&&e.push("write"),e},ot=({badgeKeys:a,labels:e})=>a.length===0?null:t.jsx("div",{className:"flex items-center gap-1 select-none",children:a.map(s=>t.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:t.jsx(p,f({},e[s]))},s))}),nt={read:j.readAction,write:j.writeAction,open_world:j.openWorldAction},rt={[pe]:j.metadataOutputTemplate,[he]:j.metadataToolInvokingMessage,[xe]:j.metadataToolInvokedMessage,[Ce]:j.metadataWidgetAccessible},ht=a=>{"use forget";const e=q.c(44),{connector:s,link:o,isRefreshingActions:c,onRefreshActions:m,onToggleAction:n,isTogglingAction:l}=a,d=se();let u;e[0]!==d?(u=()=>Fe(d),e[0]=d,e[1]=u):u=e[1];const M=fe(u),{actions:h,isLoading:x}=Be(s,me.CONNECTOR_SETTING),g=se();let C;e[2]!==g?(C=G(g,"156264210"),e[2]=g,e[3]=C):C=e[3];const y=C;let w;e[4]!==g?(w=G(g,"3475796410"),e[4]=g,e[5]=w):w=e[5];const Z=w;let N;e[6]!==g?(N=G(g,"350291705"),e[6]=g,e[7]=N):N=e[7];const ee=N,K=G(g,"1817078280"),_=s.connector_type!=="SERVICE"||Z,A=oe(),S=$e(s)&&(s.status==="ONLY_ME"||ee)&&!!o;if(!M&&(!(K&&s.supports_full_actions&&s.status==="ENABLED")||s.connector_type==="FIRST_PARTY_ECOSYSTEM"))return null;let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(p,f({},j.actions)),e[8]=B):B=e[8];let E;e[9]!==S||e[10]!==x||e[11]!==c||e[12]!==m?(E=S&&m&&t.jsx(ge,{onClick:m,size:"small",color:"secondary",loading:!!c||x,children:t.jsx(p,f({},j.refreshActionsButton))}),e[9]=S,e[10]=x,e[11]=c,e[12]=m,e[13]=E):E=e[13];let k;e[14]!==E?(k=t.jsxs("div",{className:"flex items-baseline justify-between pb-3 text-base font-medium",children:[B,E]}),e[14]=E,e[15]=k):k=e[15];let I;if(e[16]!==h||e[17]!==_||e[18]!==s.connector_type||e[19]!==s.status||e[20]!==s.supports_full_actions||e[21]!==A||e[22]!==l||e[23]!==(o==null?void 0:o.actions)||e[24]!==n||e[25]!==y){let P;e[27]!==s.connector_type?(P=T=>s.connector_type==="SERVICE"?T.is_read_only:!0,e[27]=s.connector_type,e[28]=P):P=e[28];let L;e[29]!==_||e[30]!==s.connector_type||e[31]!==s.status||e[32]!==s.supports_full_actions||e[33]!==A||e[34]!==l||e[35]!==(o==null?void 0:o.actions)||e[36]!==n||e[37]!==y?(L=T=>{var W,z,Y;const r=at(T),b=(W=T.meta)!=null?W:{},H=Qe(b),V=!!(s.supports_full_actions&&s.status==="ENABLED")||s.status==="ONLY_ME"||s.connector_type==="SERVICE"&&T.is_read_only||["search","fetch"].includes(T.name);return t.jsxs("li",{className:V?void 0:"opacity-50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:ae(["font-mono font-medium",!T.is_enabled&&"text-token-text-tertiary"]),children:T.name}),!T.is_enabled&&t.jsx(Ue,{label:A.formatMessage(j.disabledAction),children:t.jsx(st,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),ot({badgeKeys:r,labels:nt}),V&&y&&n&&t.jsx(Ge,{"aria-hidden":!0,checked:(z=o==null?void 0:o.actions)==null?void 0:z.includes(T.name),size:"small",onCheckedChange:v=>n==null?void 0:n(T.name,v),disabled:!!l||!_})]}),t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs",children:T.description}),t.jsx(et,{entries:Ze((Y=T.meta)==null?void 0:Y.securitySchemes),headingMessage:j.securitySchemes}),t.jsx(Xe,{entries:H,headingMessage:j.metadataHeading,labels:rt})]},T.name)},e[29]=_,e[30]=s.connector_type,e[31]=s.status,e[32]=s.supports_full_actions,e[33]=A,e[34]=l,e[35]=o==null?void 0:o.actions,e[36]=n,e[37]=y,e[38]=L):L=e[38],I=h.filter(P).toSorted(it).map(L),e[16]=h,e[17]=_,e[18]=s.connector_type,e[19]=s.status,e[20]=s.supports_full_actions,e[21]=A,e[22]=l,e[23]=o==null?void 0:o.actions,e[24]=n,e[25]=y,e[26]=I}else I=e[26];let O;e[39]!==I?(O=t.jsx("ul",{className:"mb-4 flex flex-col gap-4",children:I}),e[39]=I,e[40]=O):O=e[40];let F;return e[41]!==k||e[42]!==O?(F=t.jsxs("div",{className:"px-2 pt-6",children:[k,O]}),e[41]=k,e[42]=O,e[43]=F):F=e[43],F};function it(a,e){return Number(e.is_enabled)-Number(a.is_enabled)||a.name.localeCompare(e.name)}export{nt as A,pt as C,ce as M,ht as a,at as b,j as m,ot as r,$e as u};
//# sourceMappingURL=o8mzfdie6iqv52bf.js.map
