const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var B=Object.defineProperty,H=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var T=(s,t,a)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,c=(s,t)=>{for(var a in t||(t={}))G.call(t,a)&&T(s,a,t[a]);if(C)for(var a of C(t))U.call(t,a)&&T(s,a,t[a]);return s},f=(s,t)=>H(s,F(t));import{_ as V,e as z,R as L,j as e,M as l,f as K}from"./i8clt0mfz495j7ii.js";import{b as O}from"./kgnykbdth8mb50na.js";import{j as Q,k as X,l as Y,m as J,o as Z}from"./j0yo6uv6652vva62.js";import{o as $,L as ee,bE as ae,a5 as se,hK as I,d as te}from"./ghewn7l2ynbm32fm.js";const ie=$(()=>V(()=>import("./j0yo6uv6652vva62.js").then(s=>s.yw),__vite__mapDeps([0,1,2,3,4])),{loading:s=>ee(s)}),oe=128;function me({workspaceId:s}){var D,M;const t=z(),{data:a,isPending:P}=ae(s),{mutateAsync:y,isPending:n}=Q(s),{mutateAsync:S,isPending:w}=X(s),b=se(),_=(D=b==null?void 0:b.email)==null?void 0:D.split("@")[1],m=!!(a!=null&&a.workspace_discoverable),q=(a==null?void 0:a.auto_accept_requests)===!0,d=(a==null?void 0:a.use_workspace_name_for_discovery)===!0,r=d?"":(M=a==null?void 0:a.public_display_name)!=null?M:"",N=O(),[k,j]=L.useState(""),[x,u]=L.useState(!1);if((a==null?void 0:a.support_workspace_discovery)===!1)return null;const W=x?k:r,v=k.trim(),g=!x||v===r.trim(),h=P,A=h||n||w,E=h||w,R=!n&&!d&&(x?k.trim()!=="":r.trim()!=="");return e.jsx(Y,{title:e.jsx(l,c({},i.discoveryTitle)),body:_?e.jsx(l,f(c({},i.discoveryBodyWithDomain),{values:{domain:_}})):e.jsx(l,c({},i.discoveryBodyGeneric)),toggle:e.jsx(I,{disabled:A,checked:m,onCheckedChange:async o=>{await y({value:o,public_display_name:r===""?null:r,use_workspace_name_for_discovery:d,action:"toggle"}),o||u(!1)},"aria-label":t.formatMessage(i.discoveryToggleLabel)}),disabled:h,children:m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-token-text-primary text-base font-semibold",children:e.jsx(l,c({},i.autoAcceptLabel))}),e.jsx(I,{disabled:E,checked:q,onCheckedChange:async o=>{await S({autoAcceptRequests:o})},"aria-label":t.formatMessage(i.autoAcceptToggleLabel)})]}),e.jsx("div",{className:"text-token-text-secondary mb-4 text-xs",children:e.jsx(l,c({},i.autoAcceptHelp))}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"public_display_name",className:"text-token-text-primary mb-1 block text-base font-semibold",children:e.jsx(l,c({},i.publicDisplayNameLabel))}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-xs",children:e.jsx(l,f(c({},i.publicDisplayNameHelp),{values:{workspaceName:N}}))}),e.jsx("div",{className:"mb-2",children:e.jsx(J,{id:"use-workspace-name-for-discovery",checked:d,disabled:A,onChange:async o=>{const p=o.currentTarget.checked;await y({value:m,public_display_name:p?null:r||null,use_workspace_name_for_discovery:p,action:"name"}),p&&u(!1)},label:e.jsx("span",{className:"text-sm",children:e.jsx(l,c({},i.workspaceNameSameAsCheckbox))})})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{name:"public_display_name",ariaLabel:!1,placeholder:N,maxLength:oe,value:W,onChange:o=>{j(o.target.value),u(!0)},insideContainerChildren:R?e.jsx("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-secondary absolute end-0 top-1/2 -translate-y-1/2 pe-1","aria-label":t.formatMessage(i.clearToWorkspaceNameAria),onClick:()=>{j(""),u(!0)},children:e.jsx(ie,{className:"icon-sm"})}):null}),e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:te("disabled:pointer-events-none disabled:cursor-auto disabled:hover:bg-transparent",n||g?"btn btn-secondary":"btn btn-primary"),disabled:n||g,"aria-busy":n||void 0,onClick:async()=>{if(n||g)return;const o=v===""?null:v;await y({value:m,public_display_name:o,use_workspace_name_for_discovery:o==null,action:"name"}),u(!1)},children:e.jsx(l,c({},i.saveDisplayNameCta))})})})]})]})]})})}const i=K({discoveryTitle:{id:"workspaceIdentity.discoveryTitle",defaultMessage:"Enable workspace discovery"},discoveryBodyGeneric:{id:"workspaceIdentity.discoveryBodyGeneric",defaultMessage:"Allow users with your email domain and your workspace verified domains to find and request to join this workspace."},discoveryBodyWithDomain:{id:"workspaceIdentity.discoveryBodyWithDomain",defaultMessage:"Allow users with the email domain {domain} and your workspace verified domains to find and request to join this workspace."},discoveryToggleLabel:{id:"workspaceIdentity.discoveryToggleLabel",defaultMessage:"Enable workspace discovery"},publicDisplayNameLabel:{id:"workspaceIdentity.publicDisplayNameLabel",defaultMessage:"Discoverable name"},autoAcceptLabel:{id:"workspaceIdentity.autoAcceptLabel",defaultMessage:"Automatically accept join requests"},autoAcceptToggleLabel:{id:"workspaceIdentity.autoAcceptToggleLabel",defaultMessage:"Toggle automatic acceptance of join requests"},autoAcceptHelp:{id:"workspaceIdentity.autoAcceptHelp",defaultMessage:"When on, users who request to join your workspace are added automatically. Each new member is billed as a seat."},saveDisplayNameCta:{id:"workspaceIdentity.saveDisplayNameCta",defaultMessage:"Save"},publicDisplayNameHelp:{id:"workspaceIdentity.publicDisplayNameHelp",defaultMessage:"This is what users will see when they request access to this workspace."},clearToWorkspaceNameAria:{id:"workspaceIdentity.clearToWorkspaceNameAria",defaultMessage:"Clear and use workspace name"},workspaceNameSameAsCheckbox:{id:"workspaceIdentity.workspaceNameSameAsCheckbox",defaultMessage:"Same as workspace name"}});export{me as D,oe as P};
//# sourceMappingURL=d30gyor263984jzn.js.map
