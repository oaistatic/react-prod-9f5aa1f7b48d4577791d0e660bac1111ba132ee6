var j=Object.defineProperty;var M=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var I=(e,t,o)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,w=(e,t)=>{for(var o in t||(t={}))k.call(t,o)&&I(e,o,t[o]);if(M)for(var o of M(t))B.call(t,o)&&I(e,o,t[o]);return e};import{c as A,ak as C,e as E,j as y,M as N,al as V}from"./i8clt0mfz495j7ii.js";import{cX as P,bj as T}from"./j0yo6uv6652vva62.js";import{iA as b,a as v,nY as z,nZ as O,n_ as D}from"./ghewn7l2ynbm32fm.js";import{D as L}from"./efcqr1k3spvze0uw.js";import"./bxgk09qvxvkate6l.js";function x(e){return e==="/"?"/":e.replace(/\/+$/,"")}function R({currentLocation:e,nextLocation:t,isIntegratedVoiceModeActive:o,voiceCompletionRequest:i,integratedVoiceModeState:u,isEndingVoiceSession:l}){var r;if(!o)return!1;const s=x(e.pathname),a=x(t.pathname);if(s===a||l)return!1;const f=i==null?void 0:i.responseThreadId;if(f){const c=V("/c/:conversationId",a),n=V("/g/:gizmoId/c/:conversationId",a);if(((r=c==null?void 0:c.params.conversationId)!=null?r:n==null?void 0:n.params.conversationId)===f)return!1}return u!=null}const Q=()=>{"use forget";const e=A.c(17),t=b(),o=v(F),i=v(U),u=v(X);let l;e[0]!==i||e[1]!==u||e[2]!==t||e[3]!==o?(l=d=>{const{nextLocation:_,currentLocation:$}=d;return R({currentLocation:$,nextLocation:_,isIntegratedVoiceModeActive:t,voiceCompletionRequest:o,integratedVoiceModeState:i,isEndingVoiceSession:u})},e[0]=i,e[1]=u,e[2]=t,e[3]=o,e[4]=l):l=e[4];const s=C(l),a=E(),f=s.state==="blocked";let r;e[5]!==s?(r=()=>{var d;(d=s.reset)==null||d.call(s)},e[5]=s,e[6]=r):r=e[6];const c=r;let n;e[7]!==s?(n=async()=>{var d;await P({type:"STOP",reason:L.UserNavigatedAway}),(d=s.proceed)==null||d.call(s)},e[7]=s,e[8]=n):n=e[8];const p=n;let m;e[9]!==a?(m=a.formatMessage(S.title),e[9]=a,e[10]=m):m=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(N,w({},S.description)),e[11]=g):g=e[11];let h;return e[12]!==p||e[13]!==c||e[14]!==f||e[15]!==m?(h=y.jsx(T,{title:m,isOpen:f,onClose:c,onConfirm:p,primaryButtonColor:"danger",children:g}),e[12]=p,e[13]=c,e[14]=f,e[15]=m,e[16]=h):h=e[16],h},S={title:{id:"voice-navigation-blocker.title",defaultMessage:"Voice Mode is still active",description:"Title of the modal that appears when the user tries to navigate away from the page while voice mode is active"},description:{id:"voice-navigation-blocker.description",defaultMessage:"Navigating away from this page will end your voice mode session.",description:"Message of the modal that appears when the user tries to navigate away from the page while voice mode is active"}};function F(){return z()}function U(){return O()}function X(){return D()}export{Q as VoiceNavigationBlocker};
//# sourceMappingURL=npb5gx49b9uitxbd.js.map
