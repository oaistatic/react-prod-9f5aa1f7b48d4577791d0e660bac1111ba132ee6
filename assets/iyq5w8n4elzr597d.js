var k=Object.defineProperty,F=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var u=(s,e,a)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,i=(s,e)=>{for(var a in e||(e={}))j.call(e,a)&&u(s,a,e[a]);if(m)for(var a of m(e))w.call(e,a)&&u(s,a,e[a]);return s},n=(s,e)=>F(s,y(e));import{e as z,r as f,j as t,M as x,f as E,a as v}from"./i8clt0mfz495j7ii.js";import{a5 as T,e as G,C as N,$ as C,eU as S}from"./ghewn7l2ynbm32fm.js";import{bx as I}from"./j0yo6uv6652vva62.js";function B(s){return v({mutationFn:async({message:e,includeFrom:a})=>{await S.sendFeedbackEmail(s,e,a)}})}const q=({gizmo:s,onClose:e})=>{const a=T(),r=z(),g=G(),[l,b]=f.useState(""),[c,p]=f.useState(!0),h=B(s.gizmo.id),M=l.length===0;return t.jsx(N,{testId:"modal-gizmo-feedback-email",type:"success",title:r.formatMessage(o.title,{name:s.gizmo.display.name}),isOpen:!0,onClose:e,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:t.jsx("div",{className:"flex flex-row",children:t.jsxs("div",{className:"flex grow flex-col space-y-4",children:[t.jsx(I,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:"Write feedback about ".concat(s.gizmo.display.name,"..."),value:l,rows:4,onChange:d=>b(d.target.value)}),t.jsxs("div",{className:"flex flex-row items-center space-x-2 self-start",children:[t.jsx("input",{type:"checkbox",checked:c,onChange:d=>p(d.target.checked)}),a&&t.jsx("span",{className:"text-sm",children:t.jsx(x,n(i({},o.includeFrom),{values:{email:t.jsx("strong",{children:a.email})}}))})]}),t.jsx(C,{color:"primary",disabled:M,onClick:async()=>{await h.mutateAsync({message:l,includeFrom:c}),g.success(r.formatMessage(o.successToast),{duration:3}),e()},children:t.jsx(x,n(i({},o.send),{values:{name:s.gizmo.author.display_name}}))})]})})})},o=E({title:{id:"GizmoFeedbackEmailModal.title",defaultMessage:"Feedback about {name}"},send:{id:"GizmoFeedbackEmailModal.sendTo",defaultMessage:"Send To {name}"},successToast:{id:"GizmoFeedbackEmailModal.successToast",defaultMessage:"Feedback sent"},includeFrom:{id:"GizmoFeedbackEmailModal.includeFrom",defaultMessage:"Include my email address {email}"}});export{q as default};
//# sourceMappingURL=iyq5w8n4elzr597d.js.map
