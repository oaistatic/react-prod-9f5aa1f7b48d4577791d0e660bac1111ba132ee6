const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ceivmd4pm4umbvdn.js","assets/i8clt0mfz495j7ii.js","assets/j0yo6uv6652vva62.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/bgxcag65uz54fc39.js","assets/ooz2slmm8agf6bjp.js","assets/kaxn2bizrxslkpa3.js","assets/nju52ppu7cxhyzrm.js","assets/mpv78j7w75btco0v.js","assets/gsyp9a9fup59ufmh.js","assets/opdg2x67e4phtvxr.js","assets/dkkqsrmgpmz14chv.js","assets/ozkollbdvsz7smxd.js"])))=>i.map(i=>d[i]);
var ke=Object.freeze,Se=Object.defineProperty,Ke=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var Ne=(t,e,i)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,S=(t,e)=>{for(var i in e||(e={}))Xe.call(e,i)&&Ne(t,i,e[i]);if(_e)for(var i of _e(e))Je.call(e,i)&&Ne(t,i,e[i]);return t},Y=(t,e)=>Ke(t,Ye(e));var de=(t,e)=>ke(Se(t,"raw",{value:ke(e||t.slice())}));import{j as s,r as v,M as j,f as re,L as xe,c as K,o as Te,_ as W,h as ne,u as Ze,e as te,v as we}from"./i8clt0mfz495j7ii.js";import{$ as H,P as I,fR as es,u as Q,h as he,v as Ce,d as A,O as ss,z as le,a4 as ts,R as Re,o as U,L as F,F as Le,aV as is,T as ce,qo as os,fL as as,qp as rs,o2 as ns,kg as J,pf as ue,ei as ee,eo as Ie,e4 as ae,eU as ls,G as Z,qq as cs,qr as ds,qs as ms,lR as Ae,b0 as De,bi as us,qt as fs,m as $,qu as gs,w as xs,x as hs,B as Oe,qv as ps,fM as ys,bE as vs,fU as js,gH as bs,i6 as ze,la as ks}from"./ghewn7l2ynbm32fm.js";import{b as We}from"./kgnykbdth8mb50na.js";import{g9 as _s,bs as Ns,n1 as Ss,g8 as pe,bk as ye,fA as ws,i4 as zs,eo as Ps,ab as oe,n2 as Es,aR as Ue,d0 as Gs,x as X,es as Ms}from"./j0yo6uv6652vva62.js";import{N as Ts}from"./mpzbsmypy64alaao.js";import{P as Cs}from"./fvjpw0lui4wq7vv3.js";import{G as Rs}from"./fqlsa8d4vdlgozqd.js";import{G as Fe,a as qe,b as Ls}from"./mnpqan18b42bsh1o.js";import{G as Is,C as As}from"./n3bxkos2zhscnn5x.js";function Ds({href:t,children:e,onClickTrackingEventName:i,onClick:o}){function a(){i&&I.logEvent(i),o==null||o()}return t?s.jsx(H,{as:"link",to:t,onClick:a,size:"large",children:e}):s.jsx(H,{onClick:a,size:"large",children:e})}function $t({gizmo:t}){const e=es(t),[i,o]=v.useState(!1),a=Q(),r=he(a,"1855896025");return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(fe,{redirectUrl:e}),s.jsxs("div",{className:"flex grow flex-col items-center justify-center p-2",children:[s.jsx(_s,{gizmo:t,isAnon:!0,children:s.jsxs("div",{className:"mt-7 flex flex-col items-center gap-4",children:[s.jsx(Ds,{onClick:()=>Ce(a,{callbackUrl:e,skipLoginModal:!1}),children:s.jsx(j,{id:"gizmo.anonLandingPage.login",defaultMessage:"Sign up to chat"})}),s.jsx("div",{className:"text-token-text-tertiary flex gap-2 text-sm whitespace-nowrap",children:r&&s.jsx(s.Fragment,{children:s.jsx("div",{onClick:()=>o(!0),className:"cursor-pointer",children:s.jsx(j,{id:"gizmo.anonLandingPage.report",defaultMessage:"Report illegal content"})})})})]})}),i&&s.jsx(Rs,{onClose:()=>o(!1),gizmoId:t.gizmo.id})]})]})}function fe({redirectUrl:t,className:e}){const i=Q(),o=Ns(Ws.signUpCta);return s.jsxs("div",{className:A("flex items-center justify-between px-7 py-4",e),children:[s.jsx(Os,{}),s.jsx(H,{color:"primary",onClick:()=>Ce(i,{callbackUrl:t,skipLoginModal:!1}),children:s.jsx(j,S({},o))})]})}function Os(){return s.jsx(xe,{to:"/",children:s.jsx(ss,{className:"h-8 w-8"})})}const Ws=re({signUpCta:{id:"gizmo.anonLandingPage.signup",defaultMessage:"Sign up"}}),Us=t=>{var o;const e=le(t),i=ts(t,"690090010");return((o=e==null?void 0:e.isWorkspaceAccount)==null?void 0:o.call(e))&&i.get("enabled",!1)};function Ht(t){"use forget";var M,C,L,N,R,z,T,G,D;const e=K.c(30),{workspaceId:i,limit:o,search:a,categories:r,userIds:l,enabled:n}=t,d=o===void 0?20:o,h=n===void 0?!0:n;let u;e[0]!==r||e[1]!==d||e[2]!==a||e[3]!==l||e[4]!==i?(u=["workspace_gizmos",{workspaceId:i,limit:d,search:a,categories:r,user_ids:l}],e[0]=r,e[1]=d,e[2]=a,e[3]=l,e[4]=i,e[5]=u):u=e[5];const f=h&&i!=null;let x;e[6]!==r||e[7]!==d||e[8]!==a||e[9]!==l||e[10]!==i?(x=async V=>{const{pageParam:P}=V;if(!i)return{gizmos:[],query_continuation:void 0};const B={limit:d};return P!=null&&(B.query_continuation=P.query_continuation),a&&(B.search=a),r&&r.length>0&&(B.categories=r),l&&l.length>0&&(B.user_ids=l),await Re.safeGet("/workspace-resources/{account_id}/gizmos",{parameters:{path:{account_id:i},query:B}})},e[6]=r,e[7]=d,e[8]=a,e[9]=l,e[10]=i,e[11]=x):x=e[11];let c;e[12]===Symbol.for("react.memo_cache_sentinel")?(c={},e[12]=c):c=e[12];let g;e[13]!==u||e[14]!==f||e[15]!==x?(g={queryKey:u,enabled:f,getNextPageParam:qs,queryFn:x,initialPageParam:c},e[13]=u,e[14]=f,e[15]=x,e[16]=g):g=e[16];const m=Te(g);let k;e[17]!==((M=m.data)==null?void 0:M.pages)?(k=(L=(C=m.data)==null?void 0:C.pages.flatMap(Fs))!=null?L:[],e[17]=(N=m.data)==null?void 0:N.pages,e[18]=k):k=e[18];const b=k;let _;e[19]!==((R=m.data)==null?void 0:R.pages)?(_=(G=(T=(z=m.data)==null?void 0:z.pages.at(-1))==null?void 0:T.query_continuation)!=null?G:void 0,e[19]=(D=m.data)==null?void 0:D.pages,e[20]=_):_=e[20];const p=_,y=!!p;let w;e[21]!==m||e[22]!==p?(w=()=>p?m.fetchNextPage():Promise.resolve(),e[21]=m,e[22]=p,e[23]=w):w=e[23];let E;return e[24]!==b||e[25]!==m||e[26]!==p||e[27]!==y||e[28]!==w?(E=Y(S({},m),{gizmos:b,queryContinuation:p,hasMore:y,loadMore:w}),e[24]=b,e[25]=m,e[26]=p,e[27]=y,e[28]=w,e[29]=E):E=e[29],E}function Fs(t){return t.gizmos}function qs(t){var e;return{query_continuation:(e=t.query_continuation)!=null?e:void 0}}function Qt(t){"use forget";var w,E,M,C,L,N,R;const e=K.c(25),{workspaceId:i,search:o,limit:a,enabled:r}=t,l=a===void 0?50:a,n=r===void 0?!0:r;let d;e[0]!==l||e[1]!==o||e[2]!==i?(d=["workspace_users_infinite",{workspaceId:i,search:o,limit:l}],e[0]=l,e[1]=o,e[2]=i,e[3]=d):d=e[3];const h=n&&!!i;let u;e[4]!==l||e[5]!==o||e[6]!==i?(u=async z=>{var P;const{pageParam:T}=z;if(!i)return{items:[],total:0,limit:l,offset:0};const G=(P=T==null?void 0:T.offset)!=null?P:0,D=await Re.safeGet("/accounts/{account_id}/users",{parameters:{path:{account_id:i},query:{offset:G,limit:l,query:o}}});return{items:D.items.map(Bs),total:D.total,limit:l,offset:G}},e[4]=l,e[5]=o,e[6]=i,e[7]=u):u=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f={},e[8]=f):f=e[8];let x;e[9]!==d||e[10]!==h||e[11]!==u?(x={queryKey:d,enabled:h,getNextPageParam:$s,queryFn:u,initialPageParam:f},e[9]=d,e[10]=h,e[11]=u,e[12]=x):x=e[12];const c=Te(x);let g;e[13]!==((w=c.data)==null?void 0:w.pages)?(g=(M=(E=c.data)==null?void 0:E.pages.flatMap(Vs))!=null?M:[],e[13]=(C=c.data)==null?void 0:C.pages,e[14]=g):g=e[14];const m=g;let k;e[15]!==((L=c.data)==null?void 0:L.pages)?(k=(N=c.data)==null?void 0:N.pages.at(-1),e[15]=(R=c.data)==null?void 0:R.pages,e[16]=k):k=e[16];const b=k,_=!!b&&b.offset+b.limit<b.total;let p;e[17]!==_||e[18]!==c?(p=()=>_?c.fetchNextPage():Promise.resolve(),e[17]=_,e[18]=c,e[19]=p):p=e[19];let y;return e[20]!==m||e[21]!==_||e[22]!==c||e[23]!==p?(y=Y(S({},c),{users:m,hasMore:_,loadMore:p}),e[20]=m,e[21]=_,e[22]=c,e[23]=p,e[24]=y):y=e[24],y}function Vs(t){return t.items}function Bs(t){var e,i;return{id:t.id,accountUserId:t.account_user_id,name:(e=t.name)!=null?e:void 0,email:(i=t.email)!=null?i:void 0}}function $s(t){const e=t.offset+t.limit;if(!(e>=t.total))return{offset:e}}const Hs=U(()=>W(()=>import("./ceivmd4pm4umbvdn.js").then(t=>t._),__vite__mapDeps([0,1])),{loading:t=>F(t)}),Qs=U(()=>W(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yq),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),Ks=U(()=>W(()=>import("./bgxcag65uz54fc39.js").then(t=>t._),__vite__mapDeps([6,1])),{loading:t=>F(t)}),Ys=U(()=>W(()=>import("./ooz2slmm8agf6bjp.js").then(t=>t._),__vite__mapDeps([7,1])),{loading:t=>F(t)}),Xs=U(()=>W(()=>import("./kaxn2bizrxslkpa3.js").then(t=>t._),__vite__mapDeps([8,1])),{loading:t=>F(t)}),Js=U(()=>W(()=>import("./nju52ppu7cxhyzrm.js").then(t=>t._),__vite__mapDeps([9,1])),{loading:t=>F(t)}),Zs=U(()=>W(()=>import("./mpv78j7w75btco0v.js").then(t=>t._),__vite__mapDeps([10,1])),{loading:t=>F(t)}),et=U(()=>W(()=>import("./gsyp9a9fup59ufmh.js").then(t=>t._),__vite__mapDeps([11,1])),{loading:t=>F(t)});function se({delay:t,animateTap:e=!0,children:i}){return s.jsx(is.div,{whileTap:{scale:e?.98:void 0},initial:{opacity:0,translateY:5},animate:{opacity:1,translateY:0,transition:{duration:.3,ease:"easeIn",delay:t!=null?t:0}},children:i})}var st=(t=>(t.Enabled="enabled",t.ComingSoon="coming-soon",t))(st||{});function tt({gizmoResource:t}){var a,r;const e=(a=t.gizmo.vanity_metrics)==null?void 0:a.num_conversations_str,i=(r=t.gizmo.share_recipient)!=null?r:Z.Private,o=cs(i);return s.jsxs("div",{children:[t.gizmo.share_recipient!==Z.Private&&e!=null?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"icon-sm"}),s.jsx("span",{children:s.jsx(j,Y(S({},at.conversationCountStrLabel),{values:{numConvos:e}}))})]}):void 0,s.jsxs("div",{className:"flex items-center gap-1",children:[i===Z.Link||i===Z.Marketplace?s.jsx(Xs,{className:"icon-sm shrink-0"}):i===Z.Workspace?s.jsx(et,{className:"icon-sm shrink-0"}):s.jsx(Ys,{className:"icon-sm shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:o})]})]})}function Kt({gizmoResource:t,canRemoveRecent:e}){var d,h,u;const i=Q(),o=ne(),{canEdit:a}=as(t),{canDelete:r}=rs(t),l=ns(t),n=!!((d=t.gizmo.tags)!=null&&d.includes(J.FirstParty));return s.jsx(Ve,{href:l?ue(t.gizmo.id):ee(i,t),icon:s.jsx(ye,{isFirstParty:n,src:(h=t==null?void 0:t.gizmo.display.profile_picture_url)!=null?h:void 0,className:"h-[42px] w-[42px] shrink-0"}),title:t.gizmo.display.name||Ss,isDraft:l,description:(u=t.gizmo.display.description)!=null?u:"",byline:a?s.jsx(tt,{gizmoResource:t}):s.jsx(pe,{gizmo:t}),buttons:s.jsxs(s.Fragment,{children:[a&&s.jsx(ce,{label:s.jsx(j,{id:"gizmo.gpt.grid.EditGPT",defaultMessage:"Edit GPT"}),className:"flex justify-center",side:"top",children:s.jsx("button",{className:"text-token-text-primary rounded-lg px-3 py-2 transition-transform duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{o(ue(t.gizmo.id))},children:s.jsx(Ks,{className:"icon-sm"})})}),s.jsx(ot,{gizmoResource:t,canDelete:r,canRemoveRecent:e})]})})}var Ge;const it=Le.div(Ge||(Ge=de(["flex h-[42px] w-[42px] shrink-0 items-center justify-center rounded-full border border-dashed\n",""])),({$disabled:t})=>t?"":"border-token-border-default bg-token-main-surface-secondary");function Yt({type:t}){const e=os(),i=t==="coming-soon";return s.jsxs(ce,{disabled:!i,label:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPTComingSoon",defaultMessage:"GPT creation will be available in the coming weeks"}),triggerAs:null,children:[s.jsx(Ve,{href:e,disabled:i,icon:s.jsx(it,{$disabled:i,children:s.jsx(Qs,{className:A("icon-sm",i&&"opacity-30")})}),title:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPT",defaultMessage:"Create a GPT"})}),description:"Customize a version of ChatGPT for a specific purpose",byline:i?s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("div",{className:"flex items-center",children:s.jsx(j,{id:"gizmo.gpt.grid.ComingSoon",defaultMessage:"Coming soon"})})}):void 0}),s.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700"})]})}function Ve({href:t,icon:e,title:i,isDraft:o=!1,description:a,byline:r,buttons:l,disabled:n,className:d}){const h=A("flex items-center px-2 py-4 rounded-xl",n?"":"hover:bg-token-main-surface-secondary",d),u=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex grow items-center overflow-hidden md:w-3/5 md:grow-0",children:[e,s.jsxs("div",{className:A("grow overflow-hidden ps-4 pe-9 leading-tight",n?"opacity-50":"hover:cursor-pointer"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:i}),o&&s.jsx(ce,{label:s.jsx(j,{id:"gizmo.gpt.grid.Draft",defaultMessage:"Draft"}),className:"flex justify-center",side:"top",children:s.jsx("div",{className:"m-1.5 inline-block h-1.5 w-1.5 rounded-full bg-gray-200 dark:bg-gray-600"})})]}),s.jsx("div",{className:"line-clamp-2 overflow-hidden text-sm break-words text-ellipsis",children:a}),r!=null&&s.jsx("div",{className:"text-token-text-tertiary text-sm text-ellipsis md:hidden",children:r})]})]}),r!=null&&s.jsx("div",{className:"text-token-text-tertiary hidden flex-1 text-sm text-ellipsis md:block",children:r}),l!=null&&s.jsx("div",{onClick:f=>{f.preventDefault()},onPointerDownCapture:f=>{f.stopPropagation()},className:"flex h-9 shrink-0 justify-end gap-2 font-semibold md:w-[100px]",children:l})]});return n?s.jsx(se,{children:s.jsx("span",{className:h,children:u})}):s.jsx(se,{children:s.jsx(xe,{className:h,to:t,children:u})})}function ot({gizmoResource:t,canDelete:e,canRemoveRecent:i}){const[o,a]=v.useState(!1),[r,l]=v.useState(!1),n=Ze();return!e&&!i?null:s.jsxs(s.Fragment,{children:[s.jsxs(Ie,{side:"top",contentAlign:"end",sideOffset:8,open:r,onOpenChange:d=>l(d),triggerButton:s.jsx("button",{color:"secondary",className:"text-token-text-primary rounded-lg bg-transparent px-3 py-2 duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{l(d=>!d)},children:s.jsx(Js,{className:"icon"})}),children:[e&&s.jsx(ae.Item,{color:"danger",onClick:()=>{a(!0)},icon:Hs,children:s.jsx(j,{id:"gizmo.gpt.grid.DeleteGPT",defaultMessage:"Delete GPT"})}),i&&s.jsx(ae.Item,{onClick:()=>{ls.removeFromRecent(n,t.gizmo.id)},children:s.jsx(j,{id:"gizmo.gpt.grid.RemoveFromRecent",defaultMessage:"Remove from Recent"})})]}),o&&s.jsx(ws,{children:s.jsx(Is,{gizmoId:t.gizmo.id,onSuccess:()=>{a(!1)},onClose:()=>{a(!1)}})})]})}const at=re({conversationCountStrLabel:{id:"gizmo.gpt.grid.conversationCountStrLabel",defaultMessage:"{numConvos} Chats"}});function Be({gizmo:t,children:e,onClick:i,onModalOpen:o,onModalClose:a,selectOnly:r,className:l}){const n=Q(),d=he(n,"1825130190"),[h,u]=v.useState(!1);return r?s.jsx("a",{className:A("gizmo-link cursor-pointer",l),href:"#",onClick:f=>{f.preventDefault(),i==null||i(f)},children:e}):d?s.jsxs(s.Fragment,{children:[h&&s.jsx(Fe,{gizmoId:t.gizmo.id,creatorId:t.gizmo.author.user_id,onClose:()=>{u(!1),a==null||a()},children:s.jsx(qe,{as:"link",to:ee(n,t)})}),s.jsx("a",{className:A("gizmo-link cursor-pointer",l),href:"#",onClick:f=>{f.preventDefault(),i==null||i(f),u(!0),o==null||o()},children:e})]}):s.jsx(xe,{to:ee(n,t),className:A("gizmo-link",l),target:"_blank",onClick:i,children:e})}const rt=U(()=>W(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yo),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),nt=U(()=>W(()=>import("./mpv78j7w75btco0v.js").then(t=>t._),__vite__mapDeps([10,1])),{loading:t=>F(t)});function lt(t){"use forget";const e=K.c(28),{placeholder:i,effectiveRole:o,onSelect:a,popoverClassName:r}=t,l=te(),[n,d]=v.useState("ALL"),[h,u]=v.useState(""),[f,x]=v.useState(""),[c,g]=v.useState(null),m=Q();let k;if(e[0]!==m){const G=le(m);k=G==null?void 0:G.isWorkspaceAccount(),e[0]=m,e[1]=k}else k=e[1];const b=k,_=b!==void 0&&b;let p,y;e[2]!==h?(p=()=>{const G=setTimeout(()=>{x(h)},250);return()=>{clearTimeout(G)}},y=[h],e[2]=h,e[3]=p,e[4]=y):(p=e[3],y=e[4]),v.useEffect(p,y);const w=Q(),E=ne();let M;e[5]!==a||e[6]!==E||e[7]!==w?(M=G=>{if(a){a(G);return}if(!he(w,"1825130190")){const V=ee(w,G);E(V);return}g(G)},e[5]=a,e[6]=E,e[7]=w,e[8]=M):M=e[8];const C=M;let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(rt,{className:"text-token-text-tertiary icon absolute start-5 top-1/2 z-30 -translate-y-1/2"}),e[9]=L):L=e[9];let N;e[10]!==l||e[11]!==i||e[12]!==r||e[13]!==h?(N=(G,D)=>s.jsxs(As,{label:i!=null?i:l.formatMessage(q.discoverySearch),inputClassName:"bg-token-main-surface-primary! py-4 px-3 rounded-xl font-normal text-base! ps-12",popoverClassName:A("-top-3! border-token-border-default! rounded-xl",r!=null?r:"bg-token-main-surface-primary!"),className:"border-token-border-default! rounded-xl! p-0! ring-0!",name:"search",inputValue:h,onInputChange:u,onTabChange:V=>d(V==="WORKSPACE"?"WORKSPACE":"ALL"),suggestions:G,RenderTab:dt,children:[D,D==null&&s.jsx("div",{className:"w-full py-4",children:s.jsx(mt,{})})]}),e[10]=l,e[11]=i,e[12]=r,e[13]=h,e[14]=N):N=e[14];let R;e[15]!==n||e[16]!==f||e[17]!==o||e[18]!==C||e[19]!==_||e[20]!==N?(R=s.jsx(ut,{activeTab:n,query:f,effectiveRole:o,setPopoverForceOpen:ct,onSelect:C,showWorkspaceResults:_,renderCombobox:N}),e[15]=n,e[16]=f,e[17]=o,e[18]=C,e[19]=_,e[20]=N,e[21]=R):R=e[21];let z;e[22]!==c||e[23]!==w?(z=c&&s.jsx(Fe,{gizmoId:c.gizmo.id,creatorId:c.gizmo.author.user_id,onClose:()=>{g(null)},children:s.jsx(qe,{as:"link",to:ee(w,c)})}),e[22]=c,e[23]=w,e[24]=z):z=e[24];let T;return e[25]!==R||e[26]!==z?(T=s.jsxs("div",{className:"relative z-0",children:[L,R,z]}),e[25]=R,e[26]=z,e[27]=T):T=e[27],T}function ct(){}function dt(t){"use forget";const e=K.c(4),{tab:i}=t,o=We();if(i==="ALL"){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(j,S({},q.discoveryAllResultsHeader)),e[0]=a):a=e[0],a}if(i==="WORKSPACE"){let a;return e[1]!==o?(a=s.jsx(j,Y(S({},q.discoveryWorkspaceResultsHeader),{values:{workspaceName:o}})),e[1]=o,e[2]=a):a=e[2],a}if(i==="discoverySearchRecentlyUsed"){let a;return e[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(j,S({},q.discoverySearchRecentlyUsed)),e[3]=a):a=e[3],a}return i}function mt(){"use forget";const t=K.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"flex items-center justify-center py-1",children:s.jsx(De,{})}),t[0]=e):e=t[0],e}function ut(t){"use forget";var M;const e=K.c(20),{activeTab:i,query:o,effectiveRole:a,setPopoverForceOpen:r,showWorkspaceResults:l,onSelect:n,renderCombobox:d}=t;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0],v.useEffect(xt,h);const{data:u,isLoading:f}=ds(o),{data:x,isLoading:c}=ms(o,l);let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={cutId:"recent",limit:3},e[1]=g):g=e[1];const{data:m,isLoading:k}=Ae(g),b=u==null?void 0:u.items,_=u==null?void 0:u.cursor,p=x==null?void 0:x.items,y=x==null?void 0:x.cursor;let w;e[2]!==(m==null?void 0:m.pages)?(w=(M=m==null?void 0:m.pages.flatMap(ft))!=null?M:[],e[2]=m==null?void 0:m.pages,e[3]=w):w=e[3];let E;return e[4]!==i||e[5]!==a||e[6]!==k||e[7]!==f||e[8]!==c||e[9]!==n||e[10]!==o||e[11]!==d||e[12]!==r||e[13]!==l||e[14]!==b||e[15]!==_||e[16]!==p||e[17]!==y||e[18]!==w?(E=s.jsx(ht,{debouncedQuery:o,searchResults:b,isLoadingSearch:f,searchResultsCursor:_,showWorkspaceResults:l,workspaceSearchResults:p,workspaceSearchResultsCursor:y,isLoadingWorkspaceSearch:c,isLoadingRecent:k,recent:w,effectiveRole:a,setPopoverForceOpen:r,onSelect:n,activeTab:i,renderCombobox:d}),e[4]=i,e[5]=a,e[6]=k,e[7]=f,e[8]=c,e[9]=n,e[10]=o,e[11]=d,e[12]=r,e[13]=l,e[14]=b,e[15]=_,e[16]=p,e[17]=y,e[18]=w,e[19]=E):E=e[19],E}function ft(t){return t.list.items.map(gt)}function gt(t){return t.resource}function xt(){I.logEvent("Search Start")}function ht(t){"use forget";const e=K.c(25),{activeTab:i,debouncedQuery:o,searchResults:a,isLoadingSearch:r,searchResultsCursor:l,showWorkspaceResults:n,workspaceSearchResults:d,workspaceSearchResultsCursor:h,isLoadingWorkspaceSearch:u,recent:f,isLoadingRecent:x,effectiveRole:c,setPopoverForceOpen:g,onSelect:m,renderCombobox:k}=t;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=we(),e[0]=b):b=e[0];const _=v.useRef(b);let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[1]=p):p=e[1],v.useEffect(pt,p);let y,w;e[2]!==o||e[3]!==r||e[4]!==a?(y=()=>{!r&&a&&(_.current=we(),a.length>0?Promise.all(a.map((C,L)=>{I.logEvent("Search Display Result",{search_id:_.current,gizmo_id:C.gizmo.id,position:L,query:o})})):I.logEvent("Search No Results",{query:o}))},w=[a,r,o],e[2]=o,e[3]=r,e[4]=a,e[5]=y,e[6]=w):(y=e[5],w=e[6]),v.useEffect(y,w);let E;e[7]!==f?(E=f!=null?f:[],e[7]=f,e[8]=E):E=e[8];let M;return e[9]!==i||e[10]!==o||e[11]!==c||e[12]!==x||e[13]!==r||e[14]!==u||e[15]!==m||e[16]!==k||e[17]!==a||e[18]!==l||e[19]!==g||e[20]!==n||e[21]!==E||e[22]!==d||e[23]!==h?(M=s.jsx(yt,{query:o,activeTab:i,searchIdRef:_,searchResults:a,searchResultsCursor:l,isLoadingSearch:r,showWorkspaceResults:n,workspaceSearchResults:d,workspaceSearchResultsCursor:h,isLoadingWorkspaceSearch:u,isLoadingRecent:x,recentSearchResults:E,setPopoverForceOpen:g,effectiveRole:c,onSelect:m,renderCombobox:k}),e[9]=i,e[10]=o,e[11]=c,e[12]=x,e[13]=r,e[14]=u,e[15]=m,e[16]=k,e[17]=a,e[18]=l,e[19]=g,e[20]=n,e[21]=E,e[22]=d,e[23]=h,e[24]=M):M=e[24],M}function pt(){I.logEvent("Search Start")}function me(t){"use forget";const e=K.c(6),{children:i,onClick:o,isSelected:a,isClickable:r}=t,l="text-token-text-tertiary px-3 pb-2 text-xs ".concat(a?"border-b-2 font-bold":"font-semibold"," ").concat(r?"cursor-pointer":"");let n;e[0]!==o?(n=()=>{o==null||o()},e[0]=o,e[1]=n):n=e[1];let d;return e[2]!==i||e[3]!==l||e[4]!==n?(d=s.jsx("div",{className:l,onClick:n,children:i}),e[2]=i,e[3]=l,e[4]=n,e[5]=d):d=e[5],d}function yt({query:t,searchIdRef:e,isLoadingRecent:i,searchResults:o=[],searchResultsCursor:a,isLoadingSearch:r,showWorkspaceResults:l,workspaceSearchResults:n=[],workspaceSearchResultsCursor:d,isLoadingWorkspaceSearch:h,recentSearchResults:u,setPopoverForceOpen:f,activeTab:x,effectiveRole:c,onSelect:g,renderCombobox:m}){"use no forget";var D,V;const k=us(),[b,_]=v.useState(!1),p=fs(t,b,x==="WORKSPACE",x==="WORKSPACE"?d:a),{data:y,hasNextPage:w,fetchNextPage:E,isFetchingNextPage:M,isError:C}=Y(S({},p),{data:(V=(D=p.data)==null?void 0:D.pages.flatMap(P=>P.items.map(B=>B)))!=null?V:[]}),[L,N]=v.useState(y.length),R=v.useRef(null);v.useEffect(()=>{var P;y.length>L&&(N(y.length),(P=R.current)==null||P.scrollIntoView({behavior:"smooth",block:"nearest"}))},[y.length,L]);const z=(P,B)=>{var je,be;const ve=(je=P.gizmo.vanity_metrics)==null?void 0:je.num_conversations_str,ie=((be=P.gizmo.tags)==null?void 0:be.includes(J.WorkspaceDisabled))&&c!==$.OWNER;return{id:P.gizmo.id,className:A("group flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",ie&&"opacity-50 hover:opacity-100"),focusedClassName:"bg-gray-50 dark:bg-white/10",onClick:()=>{g?g(P):I.logEvent("Store Click Gizmo",{search_id:e.current,gizmo_id:P.gizmo.id,position:B,query:t,section:"search"})},children:s.jsx(vt,{resource:P,grayedOut:ie!=null?ie:!1,isScreenSm:k,numConvos:ve})}};if(t===""&&u&&u.length>0)return m({discoverySearchRecentlyUsed:u.map(z)},null);if(t===""&&i)return m([],null);if(t==="")return m([],s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,S({},q.discoverySearchRecentlyUsedEmpty))}));if(t!==""&&!r&&x==="ALL"&&(o==null||o.length===0))return m([],s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,S({},q.discoveryNoResultsSearch))}));if(t!==""&&!h&&x==="WORKSPACE"&&(n==null||n.length===0))return m([],s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,S({},q.discoveryNoResultsSearch))}));if(l){if(t!==""&&!r&&!h&&(!o||o.length===0)&&(!n||n.length===0))return m([],s.jsx("div",{className:"mx-2",children:s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,S({},q.discoveryNoResultsSearch))})}))}else{if(r)return m([],null);if(t!==""&&!r&&(!o||o.length===0))return m([],s.jsx("div",{className:"mx-2",children:s.jsx(me,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,S({},q.discoveryNoResultsSearch))})}))}let T=[];if(o){const P=o.map(z);T=[...T,...P]}if(o&&y){const P=y.map(z);T=[...T,...P]}if((!b&&y.length===0||w||M||C)&&a!=null){const P={id:"all-load-more-button",className:"",onClick:()=>{_(!0),E(),f==null||f(!0)},children:s.jsx(H,{color:C?"danger-outline":"secondary",onClick:()=>{},loading:M,fullWidth:!0,className:"mt-2 md:mt-3",children:C?s.jsx(j,S({},q.discoveryLoadMoreError)):s.jsx(j,S({},q.discoveryLoadMore))})};T=[...T,P]}const G={ALL:T};if(n){const P=n.map(z);G.WORKSPACE=P}if(n&&y){const P=y.map(z);G.WORKSPACE=[...G.WORKSPACE,...P]}if((!b&&y.length===0||w||M||C)&&d!=null){const P={id:"workspace-load-more-button",className:"",onClick:()=>{_(!0),E(),f==null||f(!0)},children:s.jsx(H,{color:C?"danger-outline":"secondary",onClick:()=>{},fullWidth:!0,className:"mt-2 md:mt-3",loading:M,children:C?s.jsx(j,S({},q.discoveryLoadMoreError)):s.jsx(j,S({},q.discoveryLoadMore))})};G.WORKSPACE=[...G.WORKSPACE,P]}return m(G,null)}function vt(t){"use forget";var p,y;const e=K.c(27),{resource:i,grayedOut:o,isScreenSm:a,numConvos:r}=t;let l;e[0]!==i.gizmo.tags?(l=(p=i.gizmo.tags)==null?void 0:p.includes(J.FirstParty),e[0]=i.gizmo.tags,e[1]=l):l=e[1];const n=!!l,d=(y=i.gizmo.display.profile_picture_url)!=null?y:void 0,h=o&&"grayscale group-hover:grayscale-0";let u;e[2]!==h?(u=A("h-8 w-8 shrink-0",h),e[2]=h,e[3]=u):u=e[3];let f;e[4]!==n||e[5]!==d||e[6]!==u?(f=s.jsx(ye,{isFirstParty:n,src:d,className:u}),e[4]=n,e[5]=d,e[6]=u,e[7]=f):f=e[7];let x;e[8]!==i.gizmo.display.name?(x=s.jsx("div",{className:"flex flex-row items-end space-x-2",children:s.jsx("span",{className:"shrink-0 truncate text-sm font-semibold",children:i.gizmo.display.name})}),e[8]=i.gizmo.display.name,e[9]=x):x=e[9];let c;e[10]!==a||e[11]!==i.gizmo.display.description?(c=a&&s.jsx("span",{className:"text-token-text-tertiary max-w-md truncate text-xs",children:i.gizmo.display.description}),e[10]=a,e[11]=i.gizmo.display.description,e[12]=c):c=e[12];let g;e[13]!==i?(g=s.jsx("div",{className:"-mt-1",children:s.jsx(pe,{gizmo:i,className:"text-token-text-tertiary truncate text-xs",hideLink:!0})}),e[13]=i,e[14]=g):g=e[14];let m;e[15]!==r?(m=r&&s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 font-semibold",style:{marginTop:"-2px"},children:[s.jsx(nt,{className:"icon-xs"}),s.jsx("span",{className:"line-clamp-1 text-xs",children:r})]}),e[15]=r,e[16]=m):m=e[16];let k;e[17]!==m||e[18]!==g?(k=s.jsxs("div",{className:"flex items-center gap-2",children:[g,m]}),e[17]=m,e[18]=g,e[19]=k):k=e[19];let b;e[20]!==k||e[21]!==x||e[22]!==c?(b=s.jsxs("div",{className:"flex flex-col space-y-1 truncate",children:[x,c,k]}),e[20]=k,e[21]=x,e[22]=c,e[23]=b):b=e[23];let _;return e[24]!==b||e[25]!==f?(_=s.jsxs(s.Fragment,{children:[f,b]}),e[24]=b,e[25]=f,e[26]=_):_=e[26],_}const q=re({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"}}),$e=U(()=>W(()=>import("./opdg2x67e4phtvxr.js").then(t=>t._),__vite__mapDeps([12,1])),{loading:t=>F(t)}),jt=U(()=>W(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yq),__vite__mapDeps([2,1,3,4,5])),{loading:t=>F(t)}),bt=U(()=>W(()=>import("./mpv78j7w75btco0v.js").then(t=>t._),__vite__mapDeps([10,1])),{loading:t=>F(t)}),kt=U(()=>W(()=>import("./dkkqsrmgpmz14chv.js").then(t=>t._),__vite__mapDeps([13,1])),{loading:t=>F(t)}),_t=U(()=>W(()=>import("./ozkollbdvsz7smxd.js").then(t=>t._),__vite__mapDeps([14,1])),{loading:t=>F(t)});var Me;const He=Le.div(Me||(Me=de(["grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5"]))),ge="gpt_store";function Nt(t,e){e.scrollLeft>t.offsetLeft?e.scrollBy({left:t.offsetLeft-e.scrollLeft-20,behavior:"smooth"}):e.scrollLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.scrollBy({left:t.offsetLeft+t.clientWidth-e.clientWidth-e.scrollLeft+20,behavior:"smooth"})}function Xt({anon:t}){const[e]=v.useState(()=>xs.getItem(hs.GizmoDiscoveryLocale)),i=Oe(),[o,a]=v.useState(!1),r=i!=null&&i.isOwnerOfAccount()&&!o?$.OWNER:$.STANDARD;return s.jsx(St,{anon:t,currAccount:i,requestedLocale:e,effectiveRole:r,setPretendStandardUser:a})}function St({anon:t,currAccount:e,requestedLocale:i,effectiveRole:o,setPretendStandardUser:a}){const[r,l]=v.useState(void 0),n=!!t||(e==null?void 0:e.isPersonalAccount())&&!0,{data:d,isLoading:h,isError:u}=ps(i,n);v.useEffect(()=>{d&&l({locale:d.locale,workspace_filtered:d.workspace_filtered,cuts:d.cuts.map(x=>({info:x.info,list:{items:x.list.items.map(c=>c.resource),cursor:x.list.cursor}}))})},[d]);const f=(...x)=>{var g,m;const c=Ae(...x);return Y(S({},c),{data:(m=(g=c.data)==null?void 0:g.pages.flatMap(k=>k.list.items.map(b=>b.resource)))!=null?m:[]})};return s.jsx(zt,{anon:t,discoveryLanding:r,isLoading:h,isError:u,effectiveRole:o,setPretendStandardUser:a,useFetchMoreQuery:f})}function wt(t,e){if(t)return s.jsx(oe,{type:"info",children:s.jsx(j,S({},O.discoveryResidencyRestriction))});switch(e){case"allow_none":return s.jsx(oe,{type:"info",children:s.jsx(j,S({},O.discoveryThirdPartyDisabled))});case"allow_specific":return s.jsx(oe,{type:"info",children:s.jsx(j,S({},O.discoveryThirdPartySpecific))});default:return null}}function zt({anon:t,discoveryLanding:e,isLoading:i,isError:o,effectiveRole:a,setPretendStandardUser:r,useFetchMoreQuery:l}){var M,C,L;const n=Oe(),d=vs(n==null?void 0:n.getWorkspaceId()),h=v.useRef({}),[u,f]=v.useState({}),x=Q(),c=Us(x),g=v.useMemo(()=>js(bs(e==null?void 0:e.cuts.map(N=>({id:N.info.id,name:N.info.display_group}))),"name"),[e]),m=v.useRef(null),k=(M=g.find(N=>u[N.id]))!=null?M:g[0];v.useEffect(()=>{const N=h.current,R=new IntersectionObserver(z=>{z.forEach(T=>{for(const G of g){const D=N[G.id];D!=null&&T.target===D&&f(V=>Y(S({},V),{[G.id]:T.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(N).forEach(z=>{z!=null&&R.observe(z)}),()=>{Object.values(N).forEach(z=>{z!=null&&R.unobserve(z)})}},[h,g]);const b=v.useRef(null),_=s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o?s.jsx(oe,{type:"danger",children:s.jsx(j,S({},O.discoveryError))}):s.jsx(De,{})}),p=(n==null?void 0:n.data.residencyRegion)!=null&&n.data.residencyRegion!=="no_constraint"&&n.data.residencyRegion!=="us",y=(C=d.data)==null?void 0:C.allow_third_party_gpts,w=wt(p,y),E=s.jsxs("div",{className:"screen-arch:w-full mx-auto max-w-3xl overflow-x-clip px-4",children:[s.jsx(Pt,{}),s.jsxs("div",{className:"bg-token-bg-primary sticky top-14 z-30 -mt-2 mb-12 flex flex-col gap-6 pt-2 [@media(min-width:1560px)]:top-0",children:[!t&&s.jsx(lt,{}),s.jsx("div",{ref:m,className:"scroll-mt-28"}),w,g.length>0&&s.jsx(Et,{displayGroups:g,currentDisplayGroup:k,scrollToDisplayGroup:N=>{var z;((z=h.current[N.id])!=null?z:m.current).scrollIntoView({behavior:"smooth",block:"start"})}})]}),(L=e==null?void 0:e.cuts.map(N=>{var R;return N.info.display_type==="featured"?s.jsx(Ct,{info:N.info,items:N.list.items,ref:z=>{z!=null&&(h.current[N.info.id]=z)},effectiveRole:a},N.info.id):s.jsx(Lt,{info:N.info,items:N.list.items,cursor:(R=N.list.cursor)!=null?R:void 0,ref:z=>{z!=null&&(h.current[N.info.id]=z)},anon:t,effectiveRole:a,useFetchMoreQuery:l},N.info.id)}))!=null?L:[]]});return i||o?s.jsxs(s.Fragment,{children:[t?s.jsx(fe,{redirectUrl:ze(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):c?null:s.jsx(Pe,{}),_]}):s.jsxs("div",{ref:b,className:"h-full overflow-y-auto",children:[t?s.jsx(fe,{redirectUrl:ze(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsxs(s.Fragment,{children:[(n==null?void 0:n.isWorkspaceAccount())&&s.jsx(Mt,{role:a,onPretendStandardUser:N=>{r(N)}}),!c&&s.jsx(Pe,{})]}),E,(e==null?void 0:e.workspace_filtered)&&!(n!=null&&n.isOwnerOfAccount())&&s.jsx(Gt,{})]})}function Pt(){return s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:s.jsx(j,S({},O.discoverySplashHeader))}),s.jsx("div",{className:"text-token-text-secondary mx-auto w-full text-center text-sm md:text-lg md:leading-tight",children:s.jsx(j,S({},O.discoverySplashDescription))})]})}function Et({displayGroups:t,currentDisplayGroup:e,scrollToDisplayGroup:i}){const o=v.useRef(null),a=te(),r=(...c)=>a.formatMessage(...c),l=v.useRef({}),[n,d]=v.useState(!1);v.useEffect(()=>{if(n||e==null)return;const g=l.current[e.id];if(g==null)return;const m=o.current;m!=null&&Nt(g,m)},[e,n]);const[h,u]=v.useState(!1),[f,x]=v.useState(!1);return v.useEffect(()=>{const c=o.current,g=()=>{c!=null&&(u(c.scrollLeft>0),x(c.scrollLeft+c.clientWidth<c.scrollWidth))};return c==null||c.addEventListener("scroll",g),window.addEventListener("resize",g),g(),()=>{c==null||c.removeEventListener("scroll",g),window.removeEventListener("resize",g)}},[o]),s.jsxs("div",{className:"bg-token-main-surface-primary sticky top-14 z-10 -ms-4 w-screen py-2 text-sm md:ms-0 md:w-full md:pb-0",children:[h&&s.jsx("div",{className:"absolute start-0 top-2 hidden h-full items-end bg-linear-to-r from-white from-50% to-transparent pe-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{o.current!=null&&o.current.scrollBy({left:-400,behavior:"smooth"})},children:s.jsx(_t,{className:"icon-sm"})})}),s.jsx("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:o,children:t.map(c=>s.jsx("div",{className:A("md:text-token-text-primary cursor-pointer scroll-mx-5 rounded-3xl px-3 py-2 whitespace-nowrap select-none first:ms-4 last:me-4 md:bg-transparent md:px-2 md:first:ms-0 md:last:me-0",c.id===(e==null?void 0:e.id)?"border-token-text-primary text-token-main-surface-primary bg-black md:rounded-none md:border-b-2 dark:bg-gray-100 dark:md:bg-transparent":"bg-token-main-surface-secondary hover:text-token-text-primary md:text-token-text-tertiary hover:bg-gray-100 md:rounded-lg md:hover:bg-gray-50 dark:hover:bg-white/20 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{d(!0),i(c),setTimeout(()=>{d(!1)},1e3),I.logEvent("Store Click Category",{category:c.id})},ref:g=>{g!=null&&(l.current[c.id]=g)},children:r({id:"gizmo.categoryName.".concat(c.name),defaultMessage:c.name,description:"store category"})},c.id))}),f&&s.jsx("div",{className:"absolute end-0 top-2 hidden h-full bg-linear-to-l from-white from-50% to-transparent ps-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{o.current!=null&&o.current.scrollBy({left:400,behavior:"smooth"})},children:s.jsx(kt,{className:"icon-sm"})})})]})}function Gt(){const t=te(),e=We(),i=Ms();return s.jsxs("div",{className:A("bg-token-main-surface-secondary text-token-text-secondary screen-arch:static fixed bottom-0 flex w-full items-center justify-center gap-2 p-3 text-sm",i&&"md:w-[calc(100%-16rem)]"),children:[s.jsx($e,{className:"icon-sm"}),t.formatMessage(O.discoveryThirdPartyGPTsDisabled,{workspaceName:e})]})}function Mt({role:t,onPretendStandardUser:e}){const i=te();return Gs()?s.jsxs("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[s.jsx($e,{className:"icon-sm"}),s.jsx(j,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:a=>s.jsxs(X.Root,{defaultValue:t,onValueChange:r=>{e(r===$.STANDARD)},children:[s.jsxs(X.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[s.jsx(ce,{disabled:t!==$.OWNER,label:i.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",triggerAs:null,children:s.jsx(X.Value,{})}),s.jsx(X.Icon,{})]}),s.jsx(X.Portal,{children:s.jsxs(X.Content,{children:[s.jsx(X.Item,{value:$.OWNER,children:s.jsx(j,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),s.jsx(X.Item,{value:$.STANDARD,children:s.jsx(j,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function Pe({isMobile:t=!1,tabButtons:e,hideTitle:i=!1}){var x;const o=ue(),a=ne(),r=te(),{canCreate:l,isLoading:n}=ys(),d=Q(),h=le(d),u=(x=h==null?void 0:h.planType)!=null?x:"unknown",f=()=>{l?(I.logEvent("Store Create Gizmo"),a(o)):(I.logUpsellGetPlusButtonClicked({location:ge,type:"create_gpt",plan_type:u}),Ue(a,"Gizmo Discovery page upsell"))};return s.jsx(s.Fragment,{children:s.jsxs(zs,{className:A("z-30 flex w-full items-center justify-between whitespace-nowrap",t&&"ps-2 pe-0",!t&&"max-md:hidden",e&&"border-token-border-soft border-b"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"hidden md:flex",children:s.jsx(Ts,{})}),e?s.jsx("div",{className:"flex items-center gap-2 px-2",children:e}):!i&&s.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:s.jsx(j,{id:"h8AzQb",defaultMessage:"Explore GPTs"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[l&&s.jsx(H,{color:"ghost",onClick:()=>{a("/gpts/mine"),I.logEvent("Store My Gizmos")},children:s.jsx(j,S({},O.discoveryMyGPTs))}),s.jsx(Tt,{canCreateGPTs:l,loadingPermissions:n,createUrl:o})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs(Ie,{contentAlign:"end",triggerButton:s.jsx(Ps,{"aria-label":r.formatMessage({id:"pdxBIm",defaultMessage:"Open actions menu"})}),children:[l&&s.jsx(ae.Item,{onClick:()=>{a("/gpts/mine"),I.logEvent("Store My Gizmos")},children:s.jsx(j,S({},O.discoveryMyGPTs))}),s.jsx(ae.Item,{onClick:f,children:s.jsx(j,S({},O.discoveryCreateGPT))})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Cs,{})})]})]})})}const Tt=({canCreateGPTs:t,loadingPermissions:e,createUrl:i})=>{var _;const[o,a]=v.useState(!1),r=v.useRef(void 0),l=ks(),n=Q(),d=le(n),h=d==null?void 0:d.isFree(),u=d==null?void 0:d.isWorkspaceAccount(),f=(_=d==null?void 0:d.planType)!=null?_:"unknown",x="create_gpt",c=()=>{t||(I.logPopoverHover({location:ge,type:x,plan_type:f}),clearTimeout(r.current),a(!0))},g=()=>{t||(r.current=l(function(){a(!1)},300))},m=ne(),k=()=>{I.logUpsellGetPlusButtonClicked({location:ge,type:x,plan_type:f}),Ue(m,"Gizmo Discovery page upsell")},b=t?()=>I.logEvent("Store Create Gizmo"):p=>p.preventDefault();return s.jsxs("div",{onMouseEnter:c,onMouseLeave:g,className:"screen-arch:flex screen-arch:items-center relative",children:[s.jsx(H,{color:"primary",disabled:!t,visuallyDisabled:!t,onClick:b,as:"link",to:i,icon:jt,"data-testid":"create-gpt-discovery-button",loading:e,children:s.jsx(j,S({},O.discoveryCreateGPT))}),!t&&o&&s.jsx("div",{className:"border-token-border-default bg-token-main-surface-primary screen-arch:top-12 absolute end-0 z-10 mt-2 w-64 rounded-lg border p-3 text-sm shadow-lg",children:h?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,S({},O.createGPTUpsell))}),s.jsx(H,{color:"secondary",onClick:k,size:"small",children:s.jsx(j,S({},Es(n)))})]}):u?s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,S({},O.createGPTDisabledByAdmin))}):null})]})},Ct=v.forwardRef(function({info:e,items:i,effectiveRole:o},a){return s.jsx(Qe,{title:e.title,description:e.description,ref:a,children:s.jsx(He,{children:i.map((r,l)=>s.jsx(Rt,{resource:r,effectiveRole:o},"".concat(l,"-").concat(r.gizmo.id)))})})});function Rt({resource:t,effectiveRole:e}){var a,r,l,n;const i=(a=t.gizmo.vanity_metrics)==null?void 0:a.num_conversations_str,o=((r=t.gizmo.tags)==null?void 0:r.includes(J.WorkspaceDisabled))&&e!==$.OWNER;return s.jsx(se,{children:s.jsxs(Be,{gizmo:t,className:A("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 md:h-32 lg:h-36 dark:bg-gray-700 dark:hover:bg-white/10",o&&"opacity-50 hover:opacity-100"),onClick:()=>{I.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,section:"featured"})},children:[s.jsx(ye,{isFirstParty:!!((l=t.gizmo.tags)!=null&&l.includes(J.FirstParty)),src:(n=t.gizmo.display.profile_picture_url)!=null?n:void 0,className:A("h-16 w-16 shrink-0 md:h-24 md:w-24",o&&"grayscale group-hover:grayscale-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"line-clamp-2 font-semibold md:text-lg",children:t.gizmo.display.name}),s.jsx("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:t.gizmo.display.description}),s.jsxs("div",{className:"text-token-text-tertiary mt-1 line-clamp-1 flex justify-start gap-1 text-xs",children:[s.jsx(pe,{gizmo:t,className:"text-xs",hideLink:!0}),i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[10px]",children:"•"}),s.jsx(bt,{className:"mt-0.5 h-3 w-3"}),i]})]})]})]})})}const Lt=v.forwardRef(function({info:e,items:i,cursor:o,anon:a,effectiveRole:r,useFetchMoreQuery:l},n){const[d,h]=v.useState(i.length===0),{data:u,hasNextPage:f,fetchNextPage:x,isFetchingNextPage:c,isError:g}=l({cutId:e.id,locale:e.locale,limit:6,cursor:o,enabled:d});v.useEffect(()=>{i.length===0&&x()},[x,i.length]);const[m,k]=v.useState(u.length),b=v.useRef(null),_=gs(.1);return v.useEffect(()=>{var p;u.length>m&&(k(u.length),(p=b.current)==null||p.scrollIntoView({behavior:"smooth",block:"nearest"}))},[u.length,m]),s.jsxs(Qe,{title:e.title,description:e.description,ref:n,children:[s.jsxs(He,{children:[i.map((p,y)=>s.jsx(Ee,{resource:p,rank:y+1,cutId:e.id,effectiveRole:r},y)),u.map((p,y)=>s.jsx(Ee,{resource:p,rank:i.length+y+1,cutId:e.id,delay:_(y-m,u.length-m),effectiveRole:r},y))]}),(!d||f||c||g)&&!a&&o!=null&&s.jsx(H,{color:g?"danger-outline":"secondary",onClick:()=>{h(!0),I.logEvent("Store Load More",{section:e.id}),x()},fullWidth:!0,className:"mt-2 md:mt-3",loading:c,children:g?s.jsx(j,S({},O.discoveryLoadMoreError)):s.jsx(j,S({},O.discoveryLoadMore))}),s.jsx("div",{ref:b})]})});function Ee({resource:t,rank:e,cutId:i,delay:o,effectiveRole:a}){var n,d;const r=((n=t.gizmo.tags)==null?void 0:n.includes(J.WorkspaceDisabled))&&a!==$.OWNER,l=(d=t.gizmo.tags)==null?void 0:d.includes(J.FirstParty);return s.jsx(se,{delay:o,children:s.jsxs(Be,{gizmo:t,className:A("group hover:bg-token-main-surface-secondary flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",r&&"opacity-50 hover:opacity-100"),onClick:()=>{I.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,position:e,section:l?"first_party":i})},children:[s.jsx("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:e}),s.jsx(Ls,{resource:t,grayedOut:r})]},t.gizmo.id)})}const Qe=v.forwardRef(function({title:e,description:i,className:o,children:a},r){return s.jsxs("div",{ref:r,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[s.jsxs(se,{animateTap:!1,children:[s.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:e}),i&&s.jsx("div",{className:"text-token-text-tertiary text-sm md:text-base",children:i})]}),s.jsx("div",{className:A("mt-4 mb-10",o),children:a})]})}),O=re({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTDisabledByAdmin:{id:"bOPXXW",defaultMessage:"Your admin has disabled the ability to create GPTs."},discoveryResidencyRestriction:{id:"gizmo.discovery.residencyRestriction",defaultMessage:"To comply with data residency requirements, only GPTs created within your workspace are accessible. All third-party GPTs are not available."},discoveryThirdPartyDisabled:{id:"gizmo.discovery.thirdPartyDisabled",defaultMessage:"Your admin has disabled all third-party GPTs. Only workspace GPTs are available."},discoveryThirdPartySpecific:{id:"gizmo.discovery.thirdPartySpecific",defaultMessage:"Your admin has disabled most third-party GPTs, except for specific ones that have been explicitly approved. Workspace GPTs are available."}});export{Yt as C,Pe as G,lt as a,st as b,Kt as c,Ht as d,Be as e,Xt as f,$t as g,Ds as h,Us as i,Qt as u};
//# sourceMappingURL=j9agwrrvvs1s434x.js.map
