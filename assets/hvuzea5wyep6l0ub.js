const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghewn7l2ynbm32fm.js","assets/i8clt0mfz495j7ii.js","assets/root-c4psboex.css","assets/fp27qqwhg12gsehb.js","assets/e8a1uw0zdlt1m0jy.js"])))=>i.map(i=>d[i]);
var Ft=Object.defineProperty,kt=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var Re=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var rt=(s,e,t)=>e in s?Ft(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,W=(s,e)=>{for(var t in e||(e={}))ct.call(e,t)&&rt(s,t,e[t]);if(Re)for(var t of Re(e))mt.call(e,t)&&rt(s,t,e[t]);return s},q=(s,e)=>kt(s,Mt(e));var Qe=(s,e)=>{var t={};for(var n in s)ct.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&Re)for(var n of Re(s))e.indexOf(n)<0&&mt.call(s,n)&&(t[n]=s[n]);return t};import{K as Ut,c as M,j as o,R as Dt,r as Z,_ as nt,M as K,e as bt,m as $t}from"./i8clt0mfz495j7ii.js";import{a0 as He,ny as Ae,nd as Wt,tp as Kt,P as Q,nx as Ge,bj as ot,u as J,be as Bt,tq as xt,h as Rt,d as je,o as it,L as lt,tr as Gt,mE as Ze,aV as ve,J as Pe,v as Vt,b0 as yt,T as Yt,$ as Te,aW as Ve,bs as Ye,nv as X,pw as Ht,ts as zt,tt as qt,a as Jt,pv as Xt,tu as Qt,dv as St,py as Zt,gh as es,nw as ts,tv as ut}from"./ghewn7l2ynbm32fm.js";import{uF as st,U as ss,bp as ns,A as dt,V as os}from"./j0yo6uv6652vva62.js";import{L as is,a as Ie,u as Nt,b as et,c as Ct,S as Le}from"./emqvkcmhapaejsp0.js";import{u as ls}from"./cx4oo5wqa9uf3in8.js";import{u as as}from"./kmbpv6g63y0ugt37.js";import{I as rs}from"./izvx0vf35f3cqx26.js";import{w as cs,a as ms,P as us,f as ds,i as fs}from"./dyjp0wep007vxvkq.js";var Ot=(s=>(s.control="control",s.ssoExpanded="sso_expanded",s.ssoCollapsed="sso_collapsed",s))(Ot||{});function en(s){const t=He(s,"3233347819").get("log_back_variant",ft);return ps(t)?t:ft}function gs(s){return He(s,"3233347819").get("is_connection_type_logo_enabled",!1)}function ps(s){return Object.values(Ot).includes(s)}const ft="control";function hs(s){switch(s){case"google":return Ae.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE;case"microsoft":return Ae.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT;case"apple":return Ae.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE;default:return Ae.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED}}function At(s,e,t){return function(i,a){const l=Wt(s,Kt().searchParams);return a(l),Ut.signIn(l,e?{callbackUrl:e}:{},W(W({prompt:"login"},t),i))}}async function jt(s,e,t,n){await s({screen_hint:"login_or_signup",connection:is[e]},()=>{Q.logLoginModalContinueAction(t,hs(e),n===ot.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL?Ge.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL:Ge.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL)})}function vt(s){"use forget";const e=M.c(5),t=s,n=J();let i;e[0]!==n?(i=He(n,"3233347819"),e[0]=n,e[1]=i):i=e[1];let a;return e[2]!==t||e[3]!==i?(a={layer:i,paramName:"should_use_smaller_button",defaultValue:t},e[2]=t,e[3]=i,e[4]=a):a=e[4],st(a)}function Ee(s,e,t,n){const a=Bt(s,e).value;return xt(a,t)?a:n}function _s(s){"use forget";const e=M.c(4),{loginStrategy:t}=s,n=J(),i=we[t];let a;return e[0]!==n||e[1]!==t||e[2]!==i.google?(a=Ee(n,i.google,Ie,{name:"google",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t}),e[0]=n,e[1]=t,e[2]=i.google,e[3]=a):a=e[3],a}function bs(s){"use forget";const e=M.c(4),{loginStrategy:t}=s,n=J(),i=we[t];let a;return e[0]!==n||e[1]!==t||e[2]!==i.microsoft?(a=Ee(n,i.microsoft,Ie,{name:"microsoft",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t}),e[0]=n,e[1]=t,e[2]=i.microsoft,e[3]=a):a=e[3],a}function xs(s){"use forget";const e=M.c(4),{loginStrategy:t}=s,n=J(),i=we[t];let a;return e[0]!==n||e[1]!==t||e[2]!==i.apple?(a=Ee(n,i.apple,Ie,{name:"apple",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t}),e[0]=n,e[1]=t,e[2]=i.apple,e[3]=a):a=e[3],a}function ys(s){"use forget";const e=M.c(4),{loginStrategy:t}=s,n=J(),i=we[t];let a;return e[0]!==n||e[1]!==t||e[2]!==i.email?(a=Ee(n,i.email,Ie,{name:"email",enabled:!0,tempDisabled:!1,kind:"username",loginStrategy:t}),e[0]=n,e[1]=t,e[2]=i.email,e[3]=a):a=e[3],a}function Ss(s){"use forget";const e=M.c(23),{loginStrategy:t}=s,n=J(),i=we[t],a=t==="existing_user";let l;e[0]!==n||e[1]!==t||e[2]!==i.phone_number||e[3]!==a?(l=Ee(n,i.phone_number,Ie,{name:"phone_number",enabled:a,tempDisabled:!1,kind:"username",loginStrategy:t}),e[0]=n,e[1]=t,e[2]=i.phone_number,e[3]=a,e[4]=l):l=e[4];const d=l;let m;e[5]!==n?(m=He(n,"183390215"),e[5]=n,e[6]=m):m=e[6];const c=m;let r;e[7]!==n?(r=Rt(n,"4012051055"),e[7]=n,e[8]=r):r=e[8];const _=r;let g;e[9]!==c?(g={layer:c,paramName:"signup_allow_phone_from_login_web",defaultValue:!1},e[9]=c,e[10]=g):g=e[10];const u=st(g);let h;e[11]!==c?(h={layer:c,paramName:"in_phone_signup_holdout_from_login_web",defaultValue:!1},e[11]=c,e[12]=h):h=e[12];const p=st(h);if(t!=="new_user")return d;let S;e[13]!==_||e[14]!==u?(S=_||u(),e[13]=_,e[14]=u,e[15]=S):S=e[15];const f=S,C=d.enabled;let x;e[16]!==C||e[17]!==f||e[18]!==p?(x=!p()&&C&&f,e[16]=C,e[17]=f,e[18]=p,e[19]=x):x=e[19];const A=x;let b;return e[20]!==A||e[21]!==d?(b=q(W({},d),{enabled:A}),e[20]=A,e[21]=d,e[22]=b):b=e[22],b}function Lt(s){"use forget";const e=M.c(25),{loginStrategy:t}=s;let n;e[0]!==t?(n={loginStrategy:t},e[0]=t,e[1]=n):n=e[1];const i=_s(n);let a;e[2]!==t?(a={loginStrategy:t},e[2]=t,e[3]=a):a=e[3];const l=bs(a);let d;e[4]!==t?(d={loginStrategy:t},e[4]=t,e[5]=d):d=e[5];const m=xs(d);let c;e[6]!==t?(c={loginStrategy:t},e[6]=t,e[7]=c):c=e[7];const r=ys(c);let _;e[8]!==t?(_={loginStrategy:t},e[8]=t,e[9]=_):_=e[9];const g=Ss(_);let u;if(e[10]!==m||e[11]!==r||e[12]!==i||e[13]!==l||e[14]!==g){const S=[i,l,m,r,g].filter(Ns);let f;e[16]===Symbol.for("react.memo_cache_sentinel")?(f=["google","apple","microsoft","email","phone_number"],e[16]=f):f=e[16];const C=f;let x;e[17]===Symbol.for("react.memo_cache_sentinel")?(x=(A,b)=>C.indexOf(A.name)-C.indexOf(b.name),e[17]=x):x=e[17],u=S.sort(x),e[10]=m,e[11]=r,e[12]=i,e[13]=l,e[14]=g,e[15]=u}else u=e[15];const h=u;let p;return e[18]!==m||e[19]!==r||e[20]!==i||e[21]!==l||e[22]!==g||e[23]!==h?(p={googleOption:i,microsoftOption:l,appleOption:m,emailOption:r,phoneNumberOption:g,optionsForDisplay:h},e[18]=m,e[19]=r,e[20]=i,e[21]=l,e[22]=g,e[23]=h,e[24]=p):p=e[24],p}function Ns(s){return s&&s.enabled}const we={existing_user:{google:"1341269548",microsoft:"111706139",apple:"730493191",email:"734083401",phone_number:"1165494509"},new_user:{google:"3866584409",microsoft:"1119573454",apple:"2197428282",email:"2201018492",phone_number:"424309338"}},Et=s=>{"use forget";const e=M.c(4),g=s,{loginStrategy:t,omitIf:n}=g,i=Qe(g,["loginStrategy","omitIf"]),a=n===void 0?Cs:n;let l;e[0]!==t?(l={loginStrategy:t},e[0]=t,e[1]=l):l=e[1];const{optionsForDisplay:d}=Lt(l),m=function(h){return h.filter(p=>!a(p)).map(p=>o.jsx(Dt.Fragment,{children:i[p.name](p)},p.name))},c="flex flex-col gap-3",r=m(d);let _;return e[2]!==r?(_=o.jsx("div",{className:c,children:r}),e[2]=r,e[3]=_):_=e[3],_};function Cs(){return!1}const Pt=Z.createContext(void 0),ze=()=>{"use forget";const s=Z.useContext(Pt);if(!s)throw new Error("useAuthFormStyleContext must be used within AuthFormStyleProvider");return s},Tt=s=>{"use forget";const e=M.c(3),{value:t,children:n}=s;let i;return e[0]!==n||e[1]!==t?(i=o.jsx(Pt.Provider,{value:t,children:n}),e[0]=n,e[1]=t,e[2]=i):i=e[2],i},It=s=>{"use forget";const e=M.c(10),{children:t,className:n}=s,{shouldUseSmallerButton:i}=ze(),a=i?"my-0.5":"my-2";let l;e[0]!==n||e[1]!==a?(l=je("grid grid-cols-[1fr_max-content_1fr] items-center dark:text-gray-500",a,n),e[0]=n,e[1]=a,e[2]=l):l=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=o.jsx("div",{className:"h-px bg-[var(--border-heavy)]"}),e[3]=d):d=e[3];let m;e[4]!==t?(m=o.jsx("div",{className:"mx-6 text-[13px] font-medium uppercase",children:t}),e[4]=t,e[5]=m):m=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=o.jsx("div",{className:"h-px bg-[var(--border-heavy)]","gray-500":!0}),e[6]=c):c=e[6];let r;return e[7]!==l||e[8]!==m?(r=o.jsxs("div",{className:l,children:[d,m,c]}),e[7]=l,e[8]=m,e[9]=r):r=e[9],r},Os=it(()=>nt(()=>import("./ghewn7l2ynbm32fm.js").then(s=>s.vJ),__vite__mapDeps([0,1,2])),{loading:s=>lt(s)});function As(s){"use forget";var x;const e=M.c(48),{user:t,clearUser:n,location:i}=s,a=J(),l=Z.useRef(null);let d;e[0]!==a?(d=Gt(a),e[0]=a,e[1]=d):d=e[1];const m=d,[c,r]=Nt(m);let _;e[2]!==a?(_=gs(a),e[2]=a,e[3]=_):_=e[3];const g=_;let u;e[4]!==n||e[5]!==i?(u=A=>{A.stopPropagation(),n(),Pe.addAction("login-form.profile-card.remove-user"),Q.logAuthModalProfileCardRemoval({location:i})},e[4]=n,e[5]=i,e[6]=u):u=e[6];const h=u;let p;e:{if(!t){p=null;break e}let A;e[7]!==a||e[8]!==i||e[9]!==r||e[10]!==t.email||e[11]!==t.phoneNumber?(A=()=>{var U;const O=(U=t.email)!=null?U:t.phoneNumber;r(!0),Vt(a,{additionalAuthParams:{screen_hint:"login_or_signup",login_hint:O},callback:$=>{Pe.addAction("login-form.profile-card.login"),Q.logAuthModalProfileCardLogin({location:i})},skipLoginModal:!1})},e[7]=a,e[8]=i,e[9]=r,e[10]=t.email,e[11]=t.phoneNumber,e[12]=A):A=e[12];const b=A;let N;e[13]!==b?(N=O=>{O.key==="Enter"&&b()},e[13]=b,e[14]=N):N=e[14];const B=N;let y;e[15]!==g||e[16]!==t.connectionType||e[17]!==t.name||e[18]!==t.picture?(y=(()=>{const O=o.jsx(ss,{user:{picture:t.picture,name:t.name},size:"large"});if(!g)return O;switch(t.connectionType){case Ze.Google:return o.jsx(et,{name:"google",size:48});case Ze.Microsoft:return o.jsx(et,{name:"microsoft",size:48});case Ze.Apple:return o.jsx(et,{name:"apple",size:48});default:return O}})(),e[15]=g,e[16]=t.connectionType,e[17]=t.name,e[18]=t.picture,e[19]=y):y=e[19];const R=y;let v;e[20]!==R?(v=o.jsx("div",{className:"me-2 shrink-0",children:R}),e[20]=R,e[21]=v):v=e[21];let k;e[22]!==t.name?(k=o.jsx("div",{className:"text-token-text-primary truncate text-base",children:t.name}),e[22]=t.name,e[23]=k):k=e[23];let L;e[24]!==c||e[25]!==t.email||e[26]!==t.phoneNumber?(L=c?o.jsx(K,{id:"rTrcUH",defaultMessage:"Logging in..."}):(x=t.email)!=null?x:t.phoneNumber,e[24]=c,e[25]=t.email,e[26]=t.phoneNumber,e[27]=L):L=e[27];let E;e[28]!==L?(E=o.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:L}),e[28]=L,e[29]=E):E=e[29];let I;e[30]!==E||e[31]!==k?(I=o.jsxs("div",{className:"flex min-w-0 flex-col",children:[k,E]}),e[30]=E,e[31]=k,e[32]=I):I=e[32];let P;e[33]!==I||e[34]!==v?(P=o.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[v,I]}),e[33]=I,e[34]=v,e[35]=P):P=e[35];let D;e[36]!==h||e[37]!==c?(D=o.jsx("div",{className:"shrink-0",children:c?o.jsx(yt,{className:"text-token-text-tertiary"}):o.jsx(Yt,{label:o.jsx(K,{id:"6G1qdV",defaultMessage:"Remove account"}),side:"top",sideOffset:14,withArrow:!0,children:o.jsx(Te,{type:"button",color:"ghost",onClick:h,onKeyDown:js,className:"size-10 rounded-full",children:o.jsx(Os,{})})})}),e[36]=h,e[37]=c,e[38]=D):D=e[38];let j;e[39]!==B||e[40]!==b||e[41]!==P||e[42]!==D?(j=o.jsxs("div",{className:"btn btn-secondary flex w-full cursor-pointer items-center justify-between overflow-hidden rounded-3xl p-4 focus-visible:outline-black dark:focus-visible:outline-white",role:"button",ref:l,tabIndex:0,onClick:b,onKeyDown:B,children:[P,D]}),e[39]=B,e[40]=b,e[41]=P,e[42]=D,e[43]=j):j=e[43],p=j}const S=p;let f;e[44]!==S?(f=S&&o.jsx(ve.div,q(W({},vs),{onAnimationComplete:()=>{var A;(A=l.current)==null||A.focus()},children:S}),"profile-card"),e[44]=S,e[45]=f):f=e[45];let C;return e[46]!==f?(C=o.jsx(o.Fragment,{children:o.jsx(Ve,{mode:"wait",children:f})}),e[46]=f,e[47]=C):C=e[47],C}function js(s){return s.stopPropagation()}const vs={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.22,ease:[.4,0,.2,1]}},tn=s=>{"use forget";const e=M.c(56),{onSwitchToGenericLoginOrSignup:t,title:n,subtitle:i,callbackUrl:a,authorizationParams:l,isSsoOptionsVisible:d,location:m}=s,c=d===void 0?!1:d,[r,_]=Z.useState(!1);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>_(!1),e[0]=g):g=e[0],Ct(g);const{accountInfo:u,removeAccount:h}=ns(),p=J();let S;e[1]!==l||e[2]!==a||e[3]!==p?(S=At(p,a,l),e[1]=l,e[2]=a,e[3]=p,e[4]=S):S=e[4];const f=S;let C;e[5]!==l||e[6]!==f?(C=async G=>{_(!0),await jt(f,G,l[X],ot.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL)},e[5]=l,e[6]=f,e[7]=C):C=e[7];const x=C,A=vt(!1);let b;e[8]!==A?(b=A(),e[8]=A,e[9]=b):b=e[9];const N=b;let B;e[10]!==x||e[11]!==r||e[12]!==N?(B=o.jsx(Et,{loginStrategy:"existing_user",google:G=>{const{tempDisabled:z}=G;return o.jsx(Le,{provider:"google",disabled:z||r,className:"".concat(N?"h-12":"h-13"," rounded-full text-base"),onClick:()=>x("google")})},microsoft:G=>{const{tempDisabled:z}=G;return o.jsx(Le,{provider:"microsoft",disabled:z||r,className:"".concat(N?"h-12":"h-13"," rounded-full text-base"),onClick:()=>x("microsoft")})},apple:G=>{const{tempDisabled:z}=G;return o.jsx(Le,{provider:"apple",disabled:z||r,className:"".concat(N?"h-12":"h-13"," rounded-full text-base"),onClick:()=>x("apple")})},email:Ls,phone_number:Es}),e[10]=x,e[11]=r,e[12]=N,e[13]=B):B=e[13];const y=B,R=Ye();let v;e[14]!==N?(v={shouldUseSmallerButton:N},e[14]=N,e[15]=v):v=e[15];let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=je("flex flex-col items-stretch gap-5 py-10 pt-0",R?"px-4":"px-6"),e[16]=k):k=e[16];let L;e[17]!==n?(L=n!=null?n:o.jsx(K,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[17]=n,e[18]=L):L=e[18];let E;e[19]!==L?(E=o.jsx("h2",{className:"text-center text-3xl font-normal",children:L}),e[19]=L,e[20]=E):E=e[20];let I;e[21]!==(u==null?void 0:u.user)||e[22]!==i?(I=i!=null?i:u!=null&&u.user?o.jsx(ve.div,q(W({},tt),{children:o.jsx(K,{id:"logBack.subtitle.chooseAccount",defaultMessage:"Choose an account to continue."})}),"subtitle"):o.jsx(ve.div,q(W({},tt),{children:o.jsx(K,{id:"logBack.subtitle.genericSubtitle",defaultMessage:"Log in to use smarter models, create images, and save your chats."})}),"subtitle-generic"),e[21]=u==null?void 0:u.user,e[22]=i,e[23]=I):I=e[23];let P;e[24]!==I?(P=o.jsx("div",{className:"mb-4 px-4 text-center text-base",children:o.jsx(Ve,{mode:"wait",children:I})}),e[24]=I,e[25]=P):P=e[25];const D=u==null?void 0:u.user;let j;e[26]!==m||e[27]!==h||e[28]!==D?(j=o.jsx(As,{user:D,clearUser:h,location:m}),e[26]=m,e[27]=h,e[28]=D,e[29]=j):j=e[29];let O;e[30]!==(u==null?void 0:u.user)?(O=(u==null?void 0:u.user)&&o.jsx(ve.div,q(W({},tt),{children:o.jsx(It,{className:"my-1!",children:o.jsx(K,{id:"logBackForm.or",defaultMessage:"OR"})})})),e[30]=u==null?void 0:u.user,e[31]=O):O=e[31];let U;e[32]!==O?(U=o.jsx(Ve,{mode:"wait",children:O}),e[32]=O,e[33]=U):U=e[33];let $;e[34]!==r||e[35]!==c||e[36]!==t||e[37]!==N?($=!c&&o.jsx("div",{className:"flex flex-col gap-3",children:[{key:"logBack.loginToAnotherAccount",node:o.jsx(K,{id:"logBack.loginToAnotherAccount",defaultMessage:"Log in to another account"})},{key:"logBack.createAccount",node:o.jsx(K,{id:"logBack.createAccount",defaultMessage:"Create account"})}].map(G=>{const{key:z,node:se}=G;return o.jsx(Te,{type:"button",onClick:()=>t(!1),className:"".concat(N?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:r,children:se},z)})}),e[34]=r,e[35]=c,e[36]=t,e[37]=N,e[38]=$):$=e[38];let T;e[39]!==r||e[40]!==c||e[41]!==t||e[42]!==N||e[43]!==y?(T=c&&o.jsxs(o.Fragment,{children:[o.jsx(Te,{type:"button",onClick:()=>t(!0),className:"-mb-2 ".concat(N?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:r,children:o.jsx(K,{id:"logBack.loginOrCreateAccount",defaultMessage:"Log in or create account"})}),y]}),e[39]=r,e[40]=c,e[41]=t,e[42]=N,e[43]=y,e[44]=T):T=e[44];let V;e[45]===Symbol.for("react.memo_cache_sentinel")?(V=o.jsx("input",{type:"text",className:"-mt-4 h-0 w-0 border-0 p-0",tabIndex:0,autoFocus:!0,id:"log-back-focus-input"}),e[45]=V):V=e[45];let Y;e[46]!==E||e[47]!==P||e[48]!==j||e[49]!==U||e[50]!==$||e[51]!==T?(Y=o.jsxs("div",{className:k,"data-testid":"log-back-form",children:[E,P,j,U,$,T,V]}),e[46]=E,e[47]=P,e[48]=j,e[49]=U,e[50]=$,e[51]=T,e[52]=Y):Y=e[52];let ee;return e[53]!==Y||e[54]!==v?(ee=o.jsx(Tt,{value:v,children:Y}),e[53]=Y,e[54]=v,e[55]=ee):ee=e[55],ee},tt={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.18,ease:[.4,0,.2,1]}};function Ls(){return null}function Es(){return null}function Ps(){return cs(ms,arguments)}const Ts=s=>{"use forget";var g;const e=M.c(14);let t,n,i;e[0]!==s?(g=s,{className:t,isPending:n}=g,i=Qe(g,["className","isPending"]),e[0]=s,e[1]=t,e[2]=n,e[3]=i):(t=e[1],n=e[2],i=e[3]);const{shouldUseSmallerButton:a}=ze();let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx(K,{id:"continueButton.continue",defaultMessage:"Continue"}),e[4]=l):l=e[4];const d=l,m="mt-1.5 ".concat(a?"h-12":"h-13"," w-full rounded-full text-base");let c;e[5]!==t||e[6]!==m?(c=je(m,t),e[5]=t,e[6]=m,e[7]=c):c=e[7];let r;e[8]!==n?(r=n?o.jsxs(o.Fragment,{children:[o.jsx(yt,{className:"text-base"}),o.jsx("span",{className:"sr-only",children:d})]}):d,e[8]=n,e[9]=r):r=e[9];let _;return e[10]!==i||e[11]!==c||e[12]!==r?(_=o.jsx(Te,q(W({type:"submit",onClick:Is,className:c},i),{children:r})),e[10]=i,e[11]=c,e[12]=r,e[13]=_):_=e[13],_};function Is(){return Pe.addAction("login-form.continue")}const ws=s=>{"use forget";const e=M.c(31),{usernameKind:t,emailProps:n,phoneProps:i,emailField:a,phoneNumberField:l,disabled:d,authSessionLoggingId:m,usernameKindSwitching$:c,exitUsernameKindSwitching:r,usernameKindSwitched:_}=s,g=bt(),u=ks(),{shouldUseSmallerButton:h}=ze();let p;e[0]!==g?(p=g.formatMessage({id:"dynamicUsernameInput.email",defaultMessage:"Email address"}),e[0]=g,e[1]=p):p=e[1];const S=p,f=Jt(c);let C;e[2]===Symbol.for("react.memo_cache_sentinel")?(C={duration:.1},e[2]=C):C=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x={opacity:C,height:{duration:.22,ease:"easeInOut"}},e[3]=x):x=e[3];const A=x;let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b={initial:{opacity:0,height:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:"auto"},transition:A,layout:!0},e[4]=b):b=e[4];const N=b;let B;e[5]===Symbol.for("react.memo_cache_sentinel")?(B={initial:{opacity:0,height:60},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:60},transition:A,layout:!0},e[5]=B):B=e[5];const y=B;let R;e[6]!==r?(R=function(){r()},e[6]=r,e[7]=R):R=e[7];const v=R;let k;e[8]!==m?(k=()=>Q.logAuthModalEmailTyped(m),e[8]=m,e[9]=k):k=e[9];const L=dt(k);let E;e[10]!==m?(E=()=>Q.logAuthModalPhoneNumberTyped(m),e[10]=m,e[11]=E):E=e[11];const I=dt(E);let P;e[12]===Symbol.for("react.memo_cache_sentinel")?(P=Ye(),e[12]=P):P=e[12];const D=P;let j;e[13]!==d||e[14]!==a||e[15]!==S||e[16]!==n||e[17]!==g||e[18]!==L||e[19]!==I||e[20]!==l||e[21]!==i||e[22]!==h||e[23]!==u||e[24]!==t||e[25]!==_||e[26]!==f?(j=t==="email"?o.jsx(ve.div,q(W({className:"-m-1 overflow-hidden p-1"},f?W({},N):{}),{children:o.jsx(gt,{disabled:D&&!_,children:U=>{var T;const{ref:$}=U;return o.jsx(rs,q(W({ref:$,name:a.name,value:a.state.value,onChange:V=>{a.handleChange(V.target.value),L()},inputClassName:"w-full rounded-full! text-base! sm:text-base! px-5! py-3! ".concat(h?"h-12!":"h-13!"),error:(T=a.state.meta.errors.join(","))!=null?T:void 0,showErrorIcon:!0,ariaLabel:S,placeholder:S,className:"focus-within:border-token-border-heavy! rounded-full! border-[var(--border-heavy)] p-0! px-0! py-0! focus-within:ring-1",autoComplete:"email",autoFocus:!D},n),{disabled:d}))}})}),"email"):t==="phone_number"?o.jsx(ve.div,q(W({className:"-m-1 overflow-hidden p-1"},f?W({},y):{}),{children:o.jsx(gt,{children:U=>{var T;const{ref:$}=U;return o.jsx(us,q(W({nativeInputRef:$,countries:u,shouldUseSmallerButton:h,value:l.state.value,setValue:V=>{l.handleChange(V),I()},error:(T=l.state.meta.errors.join(","))!=null?T:void 0,label:g.formatMessage({id:"dynamicUsernameInput.phone",defaultMessage:"Phone number"})},i),{disabled:d,appearance:{phoneInputStyle:"cohesive"}}))}})}),"phone_number"):null,e[13]=d,e[14]=a,e[15]=S,e[16]=n,e[17]=g,e[18]=L,e[19]=I,e[20]=l,e[21]=i,e[22]=h,e[23]=u,e[24]=t,e[25]=_,e[26]=f,e[27]=j):j=e[27];let O;return e[28]!==v||e[29]!==j?(O=o.jsx("div",{className:"relative",children:o.jsx(Ve,{mode:"wait",initial:!1,onExitComplete:v,children:j})}),e[28]=v,e[29]=j,e[30]=O):O=e[30],O},Fs=Ht({countryCodes:zt(qt())});function ks(){"use forget";const s=M.c(4),e=J();let t;s[0]!==e?(t=Ee(e,"1063781658",Fs,{countryCodes:[]}),s[0]=e,s[1]=t):t=s[1];const{countryCodes:n}=t;let i;return s[2]!==n?(i=n==null?void 0:n.filter(Ms),s[2]=n,s[3]=i):i=s[3],i}function Ms(s){return Ps(s)}const gt=s=>{"use forget";const e=M.c(7),{children:t,disabled:n}=s,i=n===void 0?!1:n,a=Z.useRef(null);let l,d;e[0]!==i?(l=()=>{if(a.current&&!i)return ds(a.current)},d=[i],e[0]=i,e[1]=l,e[2]=d):(l=e[1],d=e[2]),Z.useEffect(l,d);let m;e[3]!==t?(m=t({ref:a}),e[3]=t,e[4]=m):m=e[4];let c;return e[5]!==m?(c=o.jsx(o.Fragment,{children:m}),e[5]=m,e[6]=c):c=e[6],c};function Us(s,e){const[t,n]=$t(),i=Object.fromEntries(t);return[xt(i,s)?i:e,n,(c,r)=>{n(W(W({},Object.fromEntries(t)),c),r)}]}const Ds=Xt(["email","phone_number"]),pt="email",$s=Qt({usernameKind:Ds});function Ws(s){"use forget";const e=M.c(3),{allowPhone:t}=s;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={usernameKind:pt},e[0]=n):n=e[0];const[i]=Us($s,n),[a,l]=Z.useState(t?i.usernameKind:pt);let d;return e[1]!==a?(d=[a,l],e[1]=a,e[2]=d):d=e[2],d}const Ks=it(()=>nt(()=>import("./fp27qqwhg12gsehb.js").then(s=>s._),__vite__mapDeps([3,1])),{loading:s=>lt(s)}),Bs=it(()=>nt(()=>import("./e8a1uw0zdlt1m0jy.js").then(s=>s._),__vite__mapDeps([4,1])),{loading:s=>lt(s)}),ht=s=>{"use forget";const e=M.c(20),{usernameKind:t,setUsernameKind:n,form:i,align:a,disabled:l,authSessionLoggingId:d}=s,m=a===void 0?"left":a;let c;e[0]!==i||e[1]!==n?(c=St(async u=>{await n(u),await new Promise(Rs),i.reset()},50,{leading:!0,trailing:!1}),e[0]=i,e[1]=n,e[2]=c):c=e[2];const r=c;let _;e[3]!==d||e[4]!==r?(_=async(u,h)=>{Q.logUsernameKindSwitched(d,u),Pe.addAction(h),await r(u)},e[3]=d,e[4]=r,e[5]=_):_=e[5];const g=_;switch(t){case"email":{let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(K,{id:"logIn.continueWithPhone",defaultMessage:"Continue with phone"}),e[6]=u):u=e[6];let h;e[7]!==g?(h=()=>g("phone_number","login-form.switch_to_phone"),e[7]=g,e[8]=h):h=e[8];let p;return e[9]!==m||e[10]!==l||e[11]!==h?(p=o.jsx(_t,{size:17,text:u,icon:Ks,onClick:h,align:m,disabled:l}),e[9]=m,e[10]=l,e[11]=h,e[12]=p):p=e[12],p}case"phone_number":{let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(K,{id:"logIn.continueWithEmail",defaultMessage:"Continue with email"}),e[13]=u):u=e[13];let h;e[14]!==g?(h=()=>g("email","login-form.switch_to_email"),e[14]=g,e[15]=h):h=e[15];let p;return e[16]!==m||e[17]!==l||e[18]!==h?(p=o.jsx(_t,{size:19,text:u,icon:Bs,onClick:h,align:m,disabled:l}),e[16]=m,e[17]=l,e[18]=h,e[19]=p):p=e[19],p}}},_t=s=>{"use forget";const e=M.c(9),{text:t,icon:n,onClick:i,size:a,disabled:l}=s,{shouldUseSmallerButton:d}=ze(),m="".concat(d?"h-12":"h-13"," rounded-full text-base");let c;e[0]!==n||e[1]!==a?(c=o.jsx("span",{className:"relative grid h-4 w-4 place-items-center",children:o.jsx("span",{className:"absolute",children:o.jsx(n,{width:a,height:a})})}),e[0]=n,e[1]=a,e[2]=c):c=e[2];let r;return e[3]!==l||e[4]!==i||e[5]!==m||e[6]!==c||e[7]!==t?(r=o.jsxs(Te,{as:"button",type:"button",onClick:i,className:m,contentWrapperClassName:"gap-2",color:"secondary",disabled:l,children:[c,t]}),e[3]=l,e[4]=i,e[5]=m,e[6]=c,e[7]=t,e[8]=r):r=e[8],r};function Rs(s){return setTimeout(s,300)}const sn=s=>{"use forget";const e=M.c(114),{onClose:t,title:n,subtitle:i,callbackUrl:a,authorizationParams:l,isStayLoggedOutVisible:d,isUsernameOnTop:m}=s,c=m===void 0?!1:m,r=bt();let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={loginStrategy:"existing_user"},e[0]=_):_=e[0];const{phoneNumberOption:g,emailOption:u,optionsForDisplay:h}=Lt(_),p=h.length>1;let S;e[1]!==g.enabled?(S={allowPhone:g.enabled},e[1]=g.enabled,e[2]=S):S=e[2];const[f,C]=Ws(S),[x,A]=Z.useState(!1),b=u.tempDisabled,N=g.tempDisabled,B=f==="email"&&b||f==="phone_number"&&N,[y,R]=Z.useState(!1);let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=()=>R(!1),e[3]=v):v=e[3],Ct(v);const k=J();let L;e[4]!==k?(L=Zt(k),e[4]=k,e[5]=L):L=e[5];const[E,I]=Nt(L),P=Z.useId(),D=J();let j;e[6]!==l||e[7]!==a||e[8]!==D?(j=At(D,a,l),e[6]=l,e[7]=a,e[8]=D,e[9]=j):j=e[9];const O=j;let U;e[10]!==l||e[11]!==O?(U=async w=>{R(!0),await jt(O,w,l[X],ot.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL)},e[10]=l,e[11]=O,e[12]=U):U=e[12];const $=U,T=ls(!1);let V;e[13]!==T?(V=St(()=>T.set(!1),800,{leading:!1,trailing:!0}),e[13]=T,e[14]=V):V=e[14];const Y=V;let ee;e[15]!==C||e[16]!==Y||e[17]!==T?(ee=async w=>{A(!0),Ye()||(T.set(!0),await new Promise(Gs),Y()),C(w)},e[15]=C,e[16]=Y,e[17]=T,e[18]=ee):ee=e[18];const G=es(ee);let z;e[19]===Symbol.for("react.memo_cache_sentinel")?(z={email:"",phoneNumber:""},e[19]=z):z=e[19];let se;e[20]!==l||e[21]!==I||e[22]!==O||e[23]!==f?(se=async w=>{const{value:F}=w;R(!0),I(!0),await O({screen_hint:"login_or_signup",login_hint:f==="email"?F.email:F.phoneNumber},()=>{Q.logLoginModalContinueAction(l[X],Ae.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE,Ge.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,f==="email"?ut.ACCESS_FLOW_FIELD_EMAIL:ut.ACCESS_FLOW_FIELD_PHONE)})},e[20]=l,e[21]=I,e[22]=O,e[23]=f,e[24]=se):se=e[24];let oe;e[25]!==l||e[26]!==r||e[27]!==f?(oe={onSubmit:w=>{const{value:F}=w,ne={};return F.email=F.email.trim(),F.phoneNumber=F.phoneNumber.trim(),f==="email"?F.email?os.test(F.email)||(ne.email=r.formatMessage({id:"loginForm.emailInvalid",defaultMessage:"Email is not valid."})):ne.email=r.formatMessage({id:"loginForm.emailRequired",defaultMessage:"Email is required."}):f==="phone_number"&&(F.phoneNumber?fs(F.phoneNumber)||(ne.phoneNumber=r.formatMessage({id:"loginForm.phoneNumberInvalid",defaultMessage:"Phone number is not valid."})):ne.phoneNumber=r.formatMessage({id:"loginForm.phoneNumberRequired",defaultMessage:"Phone number is required."})),(ne.email||ne.phoneNumber)&&Q.logAuthModalInvalidUsername(l[X],{usernameKind:f,username:f==="email"?F.email:F.phoneNumber}),{fields:ne}}},e[25]=l,e[26]=r,e[27]=f,e[28]=oe):oe=e[28];let Fe;e[29]!==se||e[30]!==oe?(Fe={defaultValues:z,onSubmit:se,validators:oe},e[29]=se,e[30]=oe,e[31]=Fe):Fe=e[31];const H=as(Fe),qe=vt(!1);let ke;e[32]!==qe?(ke=qe(),e[32]=qe,e[33]=ke):ke=e[33];const te=ke;let ie;e[34]!==f?(ie=w=>f===w.name,e[34]=f,e[35]=ie):ie=e[35];let le,ae,re;e[36]!==$||e[37]!==y||e[38]!==te?(le=w=>{const{tempDisabled:F}=w;return o.jsx(Le,{provider:"google",disabled:F||y,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("google")})},ae=w=>{const{tempDisabled:F}=w;return o.jsx(Le,{provider:"microsoft",disabled:F||y,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("microsoft")})},re=w=>{const{tempDisabled:F}=w;return o.jsx(Le,{provider:"apple",disabled:F||y,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("apple")})},e[36]=$,e[37]=y,e[38]=te,e[39]=le,e[40]=ae,e[41]=re):(le=e[39],ae=e[40],re=e[41]);let ce,me;e[42]!==l||e[43]!==y||e[44]!==G||e[45]!==H||e[46]!==f?(ce=()=>o.jsx(ht,{usernameKind:f,setUsernameKind:G,form:H,disabled:y,authSessionLoggingId:l[X]}),me=()=>o.jsx(ht,{usernameKind:f,setUsernameKind:G,form:H,disabled:y,authSessionLoggingId:l[X]}),e[42]=l,e[43]=y,e[44]=G,e[45]=H,e[46]=f,e[47]=ce,e[48]=me):(ce=e[47],me=e[48]);let Me;e[49]!==ie||e[50]!==le||e[51]!==ae||e[52]!==re||e[53]!==ce||e[54]!==me?(Me=o.jsx(Et,{loginStrategy:"existing_user",omitIf:ie,google:le,microsoft:ae,apple:re,email:ce,phone_number:me}),e[49]=ie,e[50]=le,e[51]=ae,e[52]=re,e[53]=ce,e[54]=me,e[55]=Me):Me=e[55];const Ue=Me;let ue;e[56]!==l||e[57]!==Y||e[58]!==y||e[59]!==b||e[60]!==N||e[61]!==H.Field||e[62]!==f||e[63]!==x||e[64]!==T?(ue=w=>o.jsx(H.Field,{name:"phoneNumber",children:F=>o.jsx(ws,{usernameKind:f,emailProps:{disabled:b},phoneProps:{disabled:N},emailField:w,phoneNumberField:F,disabled:y,authSessionLoggingId:l[X],usernameKindSwitching$:T,exitUsernameKindSwitching:Y,usernameKindSwitched:x})}),e[56]=l,e[57]=Y,e[58]=y,e[59]=b,e[60]=N,e[61]=H.Field,e[62]=f,e[63]=x,e[64]=T,e[65]=ue):ue=e[65];let de;e[66]!==ue||e[67]!==H.Field?(de=o.jsx(H.Field,{name:"email",children:ue}),e[66]=ue,e[67]=H.Field,e[68]=de):de=e[68];const Je=B||y;let fe;e[69]!==E||e[70]!==Je?(fe=o.jsx(Ts,{color:"primary",disabled:Je,isPending:E}),e[69]=E,e[70]=Je,e[71]=fe):fe=e[71];let De;e[72]!==de||e[73]!==fe?(De=o.jsxs(o.Fragment,{children:[de,fe]}),e[72]=de,e[73]=fe,e[74]=De):De=e[74];const $e=De;let We;e[75]===Symbol.for("react.memo_cache_sentinel")?(We=o.jsx(It,{children:o.jsx(K,{id:"loginForm.or",defaultMessage:"OR"})}),e[75]=We):We=e[75];const at=We,wt=Ye();let ge;e[76]!==te?(ge={shouldUseSmallerButton:te},e[76]=te,e[77]=ge):ge=e[77];let Ke;e[78]===Symbol.for("react.memo_cache_sentinel")?(Ke=je("flex flex-col items-stretch gap-5 pb-10",wt?"px-4":"px-6"),e[78]=Ke):Ke=e[78];let pe;e[79]!==n?(pe=n!=null?n:o.jsx(K,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[79]=n,e[80]=pe):pe=e[80];let he;e[81]!==pe?(he=o.jsx("h2",{className:"text-center text-3xl font-normal",children:pe}),e[81]=pe,e[82]=he):he=e[82];const Xe=te?"mb-1.5":"mb-4";let _e;e[83]!==Xe?(_e=je("px-4 text-center text-base",Xe),e[83]=Xe,e[84]=_e):_e=e[84];let be;e[85]!==i?(be=i!=null?i:o.jsx(K,{id:"loginForm.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."}),e[85]=i,e[86]=be):be=e[86];let xe;e[87]!==_e||e[88]!==be?(xe=o.jsx("p",{className:_e,children:be}),e[87]=_e,e[88]=be,e[89]=xe):xe=e[89];let ye;e[90]!==H?(ye=w=>{w.preventDefault(),H.handleSubmit()},e[90]=H,e[91]=ye):ye=e[91];let Se;e[92]!==p||e[93]!==c||e[94]!==Ue||e[95]!==$e?(Se=c?o.jsxs(o.Fragment,{children:[$e,p&&o.jsxs(o.Fragment,{children:[at,Ue]})]}):o.jsxs(o.Fragment,{children:[p&&o.jsxs(o.Fragment,{children:[Ue,at]}),$e]}),e[92]=p,e[93]=c,e[94]=Ue,e[95]=$e,e[96]=Se):Se=e[96];let Ne;e[97]!==l||e[98]!==y||e[99]!==d||e[100]!==t?(Ne=d&&o.jsx("div",{className:"text-center",children:o.jsx("a",{href:"#",className:je("text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",y&&"opacity-50"),onClick:w=>{w.preventDefault(),Q.logEventWithStatsig("No Auth Welcome Modal Stay Logged Out Link Clicked","chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",{location:"No Auth Login Modal",[X]:l[X]}),Pe.addAction("chatgpt_auth_modal_stay_logged_out"),Q.logStructuredEvent(ts,{authSessionLoggingId:l[X],actionType:Ae.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED,page:Ge.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL}),t("stay-logged-out-link")},"data-testid":"dismiss-welcome",children:o.jsx(K,{id:"LoginForm.stayLoggedOut",defaultMessage:"Stay logged out"})})}),e[97]=l,e[98]=y,e[99]=d,e[100]=t,e[101]=Ne):Ne=e[101];let Ce;e[102]!==P||e[103]!==ye||e[104]!==Se||e[105]!==Ne?(Ce=o.jsxs("form",{className:"flex flex-col gap-4","aria-labelledby":P,autoComplete:"on",onSubmit:ye,children:[Se,Ne]}),e[102]=P,e[103]=ye,e[104]=Se,e[105]=Ne,e[106]=Ce):Ce=e[106];let Oe;e[107]!==he||e[108]!==xe||e[109]!==Ce?(Oe=o.jsxs("div",{className:Ke,"data-testid":"login-form",children:[he,xe,Ce]}),e[107]=he,e[108]=xe,e[109]=Ce,e[110]=Oe):Oe=e[110];let Be;return e[111]!==ge||e[112]!==Oe?(Be=o.jsx(Tt,{value:ge,children:Oe}),e[111]=ge,e[112]=Oe,e[113]=Be):Be=e[113],Be},nn={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.22,ease:[.4,0,.2,1]}};function Gs(s){return setTimeout(s,50)}export{Ot as L,tn as a,sn as b,nn as c,en as g};
//# sourceMappingURL=hvuzea5wyep6l0ub.js.map
