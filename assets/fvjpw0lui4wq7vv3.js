const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3j20em1lilnrpdcm.js","assets/i8clt0mfz495j7ii.js","assets/ooz2slmm8agf6bjp.js","assets/nju52ppu7cxhyzrm.js","assets/m7ju152dn5ab1rui.js","assets/kaiq6xsce2ce9jwc.js","assets/nbvoa7ykcoxht9ww.js","assets/bci083mws0hai8bl.js","assets/d63jm146253lx3xq.js","assets/j0yo6uv6652vva62.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/hyffb9hwf4rwv3st.js","assets/dvgxijkvm216nr2s.js","assets/cr5h05bhk5js9k9c.js","assets/bz266lwuw1wvtx2p.js","assets/jaj7xqi147v16cd7.js","assets/gsyp9a9fup59ufmh.js","assets/1zc8cfpus30jg7jo.js","assets/hxkkwj0ueakf4s79.js","assets/bz46otimdhidcz20.js","assets/fv135gy2k0pewip3.js","assets/kgnykbdth8mb50na.js","assets/g8i6bixylsxyemsr.js","assets/pcwyhd2ia1xnez4s.js"])))=>i.map(i=>d[i]);
var de=Object.defineProperty,ue=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var F=(e,s,n)=>s in e?de(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,L=(e,s)=>{for(var n in s||(s={}))pe.call(s,n)&&F(e,n,s[n]);if(V)for(var n of V(s))me.call(s,n)&&F(e,n,s[n]);return e},z=(e,s)=>ue(e,ge(s));import{_ as c,u as G,r as D,e as j,j as t,M as p,k as _e,h as w}from"./i8clt0mfz495j7ii.js";import{o as l,L as g,u as x,p as k,aZ as Q,a5 as T,e as K,gH as he,e4 as i,e5 as xe,b0 as W,iE as N,mX as fe,mY as ve,as as R,eo as Ie,P as h,bI as $,br as J,B as je,ff as Me,H as X,bN as Se,dj as B,bb as be,bc as Pe,r as Ce,i4 as Y,T as Ee,cS as ke,aL as ye,a0 as Ae,a1 as H}from"./ghewn7l2ynbm32fm.js";import{ev as Oe,aP as E,ew as Le,ex as b,ey as De,ez as Z,eA as We,eB as we,bo as Te,eC as M,cv as Ne,eD as Re,aQ as Be,aR as ee,ae as Ue,eE as Ve,eF as te,eG as Fe,eH as ze,eI as He,eJ as qe,eK as Ge,eL as Qe,eM as Ke}from"./j0yo6uv6652vva62.js";import{g as se,b as $e,f as Je}from"./kgnykbdth8mb50na.js";const Xe=l(()=>c(()=>import("./3j20em1lilnrpdcm.js").then(e=>e._),__vite__mapDeps([0,1])),{loading:e=>g(e)}),ne=l(()=>c(()=>import("./ooz2slmm8agf6bjp.js").then(e=>e._),__vite__mapDeps([2,1])),{loading:e=>g(e)}),Ye=l(()=>c(()=>import("./nju52ppu7cxhyzrm.js").then(e=>e._),__vite__mapDeps([3,1])),{loading:e=>g(e)}),Ze=l(()=>c(()=>import("./m7ju152dn5ab1rui.js").then(e=>e._),__vite__mapDeps([4,1])),{loading:e=>g(e)});function et({currentAccount:e}){return t.jsx(oe,{workspace:e,isLoading:!1,currentWorkspaceId:e.id,showCheck:!1})}function tt({accountSwitcherRedirectUrl:e}){const s=x(),n=G(),{data:o}=k(),a=Q(o),[u,r]=D.useState(!1),d=T(),_=j(),f=K();if(!a||!o)return null;const v=a.isWorkspaceAccount(),y=o.accountItems.length>1,P=o.accountItems,C=he([P.find(m=>m.isPersonalAccount()),...P.filter(m=>!m.isPersonalAccount())]);return C.sort((m,S)=>m.isPersonalAccount()?1:S.isPersonalAccount()?-1:0),y?C.map(m=>{const S=m.isDeactivated(),A=()=>{if(S||m.id===(a==null?void 0:a.id))return;r(!0);const{willRedirect:O}=fe(n,m.id,s,_,f);O||ve(e)};return m.isDeactivated()?t.jsx(st,{workspace:m,isLoading:u},m.id):t.jsx(oe,{workspace:m,isLoading:u,currentWorkspaceId:a==null?void 0:a.id,onSelect:A},m.id)}):v?t.jsx(et,{currentAccount:a}):(d==null?void 0:d.email)&&t.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:d.email})}function oe({workspace:e,isLoading:s,currentWorkspaceId:n,showCheck:o=!0,onSelect:a}){const u=j(),r=e.canAccessWithCurrentSession,d=!s&&o&&e.id===n,f=e.data.ekmConfig!=null?t.jsxs("div",{className:"relative",children:[t.jsx(b,{iconSize:"small",workspace:e}),t.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:t.jsx(ne,{className:"h-2 w-2","aria-hidden":"true"})})]}):t.jsx(b,{iconSize:"small",workspace:e});return t.jsxs(i.RadioItem,{value:e.id,onSelect:a,icon:f,secondary:!r&&(e.ssoConnectionName?t.jsx(p,{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"}):t.jsx(p,{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"})),trailingColor:d?"primary":"tertiary",trailing:d?t.jsx(Ze,{className:"icon-sm"}):r?null:Xe,children:[t.jsx("div",{className:"line-clamp-1",children:se(u,e)}),s&&t.jsx(W,{})]})}function st({workspace:e,isLoading:s}){const n=j(),o=e.isOwnerOfAccount(),[a,u]=D.useState(!1),{count:r}=Oe(e.id);x();const d=Le(),_=e.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return D.useEffect(()=>{r!=null&&a&&(E.setPurchaseWorkspaceData({minimumSeats:Math.max(r,d),billingDetails:{currency:_},existingAccount:e}),u(!1))},[r,a,e,d,_]),t.jsxs(i.Item,{disabled:!0,icon:ne,trailing:!s&&t.jsxs(i.Root,{children:[t.jsx(i.BasicTrigger,{asChild:!0,children:t.jsx(N,{"aria-label":n.formatMessage({id:"1Fk+46",defaultMessage:"Workspace options"}),icon:Ye})}),t.jsx(i.Portal,{children:t.jsxs(i.Content,{alignOffset:2,sideOffset:-2,size:"auto",align:"end",children:[o&&t.jsx(t.Fragment,{children:t.jsx(i.Item,{onClick:()=>{r==null?u(!0):E.setPurchaseWorkspaceData({minimumSeats:Math.max(r,d),billingDetails:{currency:_},existingAccount:e})},children:a?t.jsx(W,{}):t.jsx(p,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),t.jsx(i.Item,{color:"danger",onClick:()=>{E.setLeaveWorkspaceData(e)},children:t.jsx(p,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]}),children:[t.jsx("div",{className:"line-clamp-1",children:se(n,e)}),t.jsx(xe,{children:t.jsx(p,{id:"navigation.deactivedWorkspacePill",defaultMessage:"Deactivated"})}),s&&t.jsx(W,{})]})}const ae=l(()=>c(()=>import("./kaiq6xsce2ce9jwc.js").then(e=>e._),__vite__mapDeps([5,1])),{loading:e=>g(e)}),nt=l(()=>c(()=>import("./nbvoa7ykcoxht9ww.js").then(e=>e._),__vite__mapDeps([6,1])),{loading:e=>g(e)}),ot=l(()=>c(()=>import("./bci083mws0hai8bl.js").then(e=>e._),__vite__mapDeps([7,1])),{loading:e=>g(e)}),at=l(()=>c(()=>import("./d63jm146253lx3xq.js").then(e=>e._),__vite__mapDeps([8,1])),{loading:e=>g(e)}),it=l(()=>c(()=>import("./j0yo6uv6652vva62.js").then(e=>e.yq),__vite__mapDeps([9,1,10,11,12])),{loading:e=>g(e)}),rt=l(()=>c(()=>import("./hyffb9hwf4rwv3st.js").then(e=>e._),__vite__mapDeps([13,1])),{loading:e=>g(e)}),ct=l(()=>c(()=>import("./ooz2slmm8agf6bjp.js").then(e=>e._),__vite__mapDeps([2,1])),{loading:e=>g(e)}),lt=l(()=>c(()=>import("./dvgxijkvm216nr2s.js").then(e=>e._),__vite__mapDeps([14,1])),{loading:e=>g(e)}),dt=l(()=>c(()=>import("./cr5h05bhk5js9k9c.js").then(e=>e._),__vite__mapDeps([15,1])),{loading:e=>g(e)}),ut=l(()=>c(()=>import("./bz266lwuw1wvtx2p.js").then(e=>e._),__vite__mapDeps([16,1])),{loading:e=>g(e)}),gt=l(()=>c(()=>import("./jaj7xqi147v16cd7.js").then(e=>e._),__vite__mapDeps([17,1])),{loading:e=>g(e)}),ie=l(()=>c(()=>import("./gsyp9a9fup59ufmh.js").then(e=>e._),__vite__mapDeps([18,1])),{loading:e=>g(e)}),pt=l(()=>c(()=>import("./1zc8cfpus30jg7jo.js").then(e=>e._),__vite__mapDeps([19,1])),{loading:e=>g(e)}),mt=l(()=>c(()=>import("./hxkkwj0ueakf4s79.js").then(e=>e._),__vite__mapDeps([20,1])),{loading:e=>g(e)}),_t=l(()=>c(()=>import("./bz46otimdhidcz20.js").then(e=>e._),__vite__mapDeps([21,1])),{loading:e=>g(e)});function ht(e){return e!=null&&e.isWorkspaceAccount()?!((e==null?void 0:e.isEdu())&&(e==null?void 0:e.isStandardUserOfAccount())):!1}const Vt=({clientThreadId:e})=>{const s=j(),n=x();return R(n)?null:t.jsx(Ie,{contentAlign:"end",sideOffset:4,triggerButton:t.jsx("button",{onClick:()=>{h.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":s.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus:outline-0",children:t.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 group-keyboard-focused:focus-ring flex h-9 w-9 items-center justify-center rounded-full",children:t.jsx(ft,{})})}),children:t.jsx(re,{clientThreadId:e})})};function Ft(){const e=M();return t.jsxs(i.Root,{onOpenChange:s=>{s&&h.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:e})},children:[t.jsx(xt,{isTinyBar:e==="tiny_bar"}),t.jsx(i.Portal,{children:t.jsx(i.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:t.jsx(re,{})})})]})}function xt({isTinyBar:e}){const s=x(),{data:n}=k(),o=Q(n),a=$e(),u=Je(),r=j(),{enableProfileUpgradePill:d}=te(),_=qe(),f=o==null?void 0:o.isSelfServeBusiness(),v=Ae(s,"1435014612"),y=!f&&_&&v.get("enable_v2_sidebar_upsell",!1),P=!f&&_&&v.get("enable_v2_sidebar_upsell_cap_button",!1),C=f&&v.get("enable_v2_sidebar_invite_cta",!1),m=f&&v.get("enable_v2_sidebar_invite_cta_cap_button",!1),S=d&&!y&&!P&&!C&&!m,A=w();if(!o||!n)return null;const O=o!=null&&o.isWorkspaceAccount(),ce=n!=null&&n.accountItems.length>1;let I;O||ce?I=a:o!=null&&o.isFree()?I=r.formatMessage(Ge().name):o!=null&&o.isPlus()?I=r.formatMessage(Qe().name):o!=null&&o.isPro()&&(I=r.formatMessage(Ke().name));const U=r.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),le=(o==null?void 0:o.data.ekmConfig)!=null?t.jsxs("div",{className:"relative",children:[t.jsx(b,{}),t.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:t.jsx(ct,{className:"h-2 w-2","aria-hidden":"true"})})]}):t.jsx(b,{});return t.jsx(i.BasicTrigger,{asChild:!0,children:t.jsx(Y,{as:"div",fillContainer:!0,"data-testid":"accounts-profile-button","aria-label":U,size:"large",icon:le,iconOnly:e,iconAriaLabel:U,label:u,role:"button",trailing:!e&&S?t.jsx(t.Fragment,{children:t.jsx(N,{onClick:()=>{ee(A,"sidebar profile")},"aria-label":r.formatMessage(H.upgrade),className:"-my-1.5 -ms-2 -me-2.5 cursor-default py-1.5 ps-2 pe-2.5",children:t.jsx("span",{className:"btn-secondary btn btn-small my-0 me-0 cursor-default hover:cursor-pointer",children:t.jsx(p,L({},H.upgrade))})})}):void 0,secondary:I&&t.jsx("div",{className:"truncate",dir:"auto",children:I})})})}const re=({clientThreadId:e})=>{const s=x(),n=R(s),o=$(),a=J(),u=o&&!a,r=De(s);return t.jsxs("div",{className:"flex flex-col",children:[n?t.jsx(vt,{}):t.jsx(Lt,{}),t.jsx(Pt,{}),t.jsx(i.Separator,{}),!n&&t.jsx(Wt,{clientThreadId:e}),n?t.jsx(St,{}):t.jsx(Z,{}),n&&!u&&t.jsx(Et,{}),(r||!1)&&t.jsx(i.Separator,{}),r&&t.jsx(We,{}),!1]})},ft=()=>{const e=x();return R(e)?t.jsx(b,{showPlanTypeBadge:!0}):t.jsx(at,{className:"icon-lg"})},vt=()=>{const e=je(),{data:s}=k(),n=s&&s.accountItems.length>1,o=$(),a=J(),u=n&&(!o||a),r=ht(e),d=_e(),_=d.pathname+d.search+(d.search?"&":"?")+"refresh_account=true";return t.jsxs(t.Fragment,{children:[t.jsx(It,{currentAccount:e}),u&&t.jsxs(t.Fragment,{children:[t.jsx(tt,{accountSwitcherRedirectUrl:_}),t.jsx(q,{shouldShowPlusIcon:r}),t.jsx(i.Separator,{})]}),!u&&t.jsx(q,{shouldShowPlusIcon:r}),t.jsx(Ot,{currentAccount:e}),t.jsx(Dt,{}),r&&t.jsx(jt,{}),!1,t.jsx(we,{}),t.jsx(bt,{})]})};function It({currentAccount:e}){var d;const s=j(),n=T(),o=w(),a=K();if(!n)return null;const u=e&&e.isWorkspaceAccount()&&!e.isEnterprisey(),r=s.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Business workspace"});return t.jsx(Y,{as:"div",onClick:async _=>{await Ue(n.id,a,_),a.success("Copied your User ID to clipboard")},icon:pt,className:"text-token-text-tertiary bg-transparent!",trailing:u&&t.jsx(Ee,{label:r,className:"leading-0",side:"right",children:t.jsx(N,{onClick:()=>{ee(o,"profile menu")},"aria-label":r,children:t.jsx(it,{className:"icon-sm"})})}),label:(d=n.email)!=null?d:n.name})}const jt=()=>{const e=M();return t.jsx(i.LinkItem,{to:"/admin",icon:ie,onClick:()=>{h.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:e})},children:t.jsx(p,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},Mt=()=>t.jsx(i.LinkItem,{icon:mt,external:!0,to:"https://openai.com/chatgpt/download",children:t.jsx(p,{id:"mDFGM/",defaultMessage:"Download apps"})}),St=()=>{const e=M();return t.jsxs(i.Sub,{onOpenChange:s=>{s&&(h.logEventWithStatsig("Account: Open Help Menu","chatgpt_account_help_menu_open",{location:e}),be.count(Pe.DEFAULT,"chatgpt_account_help_menu_open",{location:e}))},children:[t.jsx(i.SubMenuTrigger,{icon:lt,children:t.jsx(p,{defaultMessage:"Help",id:"navigation.helpMenu"})}),t.jsx(i.Portal,{children:t.jsxs(i.SubContent,{align:"end",children:[t.jsx(Z,{}),t.jsx(Re,{}),t.jsx(Mt,{}),t.jsx(Ct,{})]})})]})},bt=()=>{const e=M(),s=w(),n=G();return t.jsx(i.Item,{onClick:()=>{s("#settings/".concat(ye.Personalization)),h.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:e})},icon:ut,onMouseOver:()=>{n.prefetchQuery(ze())},children:t.jsx(p,{id:"S0v338",defaultMessage:"Personalization"})})},Pt=()=>{const{openSettings:e}=Te(),s=M();return t.jsx(i.Item,{icon:ot,onClick:()=>{h.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:s}),e()},"data-testid":"settings-menu-item",children:t.jsx(p,{defaultMessage:"Settings",id:"navigation.settings.0"})})},Ct=()=>t.jsx(i.Item,{className:"touch:hidden",icon:nt,onSelect:()=>{He.set(!0)},children:t.jsx(p,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),Et=()=>t.jsx(i.Item,{onSelect:()=>{h.logEvent("Account: Click Log Out",{eventSource:"mouse"}),h.logLogOutButtonClicked({location:"profile_drop_down"},Ce.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN),E.openModal(Be.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:gt,children:t.jsx(p,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),kt=l(()=>c(()=>import("./j0yo6uv6652vva62.js").then(e=>e.z8),__vite__mapDeps([9,1,10,11,12])).then(e=>e.AdminInviteModal)),yt=l(()=>c(()=>import("./fv135gy2k0pewip3.js"),__vite__mapDeps([22,1,9,10,11,12,23,24])).then(e=>e.default)),At=l(()=>c(()=>import("./pcwyhd2ia1xnez4s.js"),__vite__mapDeps([25,1,10,11,9,12])).then(e=>e.ThreadReportConversationModal)),Ot=({currentAccount:e})=>{const s=x(),n=e==null?void 0:e.isSelfServeBusiness(),o=e==null?void 0:e.isQuorum();return!n&&!o||!e?null:t.jsx(i.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{h.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),ke(s,"chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),B(s,kt,{workspace:e})},icon:_t,children:t.jsx(p,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})})},Lt=()=>t.jsx(i.LinkItem,{icon:ae,external:!0,to:"https://openai.com/chatgpt/pricing/",children:t.jsx(p,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),Dt=()=>{const{showUpgradePlan:e,onUpgradeClick:s}=Ve("chatgpt_upgrade_in_settings_menu_clicked","Upgrade In Settings Menu Clicked","profile-dropdown-menu"),{enableUpgradeMenuSparkleIcon:n}=te();return e?t.jsx(i.Item,{icon:n?t.jsx(Fe,{className:"icon-sm"}):ae,onSelect:()=>s("Upper right settings menu"),children:t.jsx(p,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})}):null},q=({shouldShowPlusIcon:e})=>{const s=x(),n=M(),o=T(),{data:a}=k(),u=!!(a!=null&&a.accountItems.some(_=>_.isEnterprisey())),r=(o==null?void 0:o.email_domain_type)==="professional";return!r||u||!(r&&!u&&X(s).getLayer("3217430380").get("enable_workspace_discovery",!1))?null:t.jsx(i.Item,{onSelect:()=>{h.logEventWithStatsig("Account: Open Workspace Discovery","chatgpt_workspace_discovery_modal_shown",{location:n}),B(s,yt,{mode:"dismissible",section:"discoverable",source:"find_workspaces"})},icon:e?rt:ie,children:t.jsx(p,{defaultMessage:"Find workspaces",id:"navigation.findWorkspaces"})})},Wt=({clientThreadId:e})=>{const s=x(),n=Me(e),o=Ne();if(e&&X(s).checkGate("3376455464")&&(n||o)){const a=Se(s,e);return t.jsx(i.Item,{icon:dt,onClick:()=>B(s,At,z(L({clientThreadId:e},o&&(a!=null&&a.sharedConversationId)?{serverThreadId:a.sharedConversationId,isSharedConversation:!0}:{}),{isStaticSharedThread:!1})),children:t.jsx(p,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})})}return null};export{tt as A,It as L,Vt as P,Ft as S};
//# sourceMappingURL=fvjpw0lui4wq7vv3.js.map
