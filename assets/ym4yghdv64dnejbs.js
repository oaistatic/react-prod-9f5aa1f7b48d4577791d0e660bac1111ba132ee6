const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o9hljbbpo7aqoo2o.js","assets/i8clt0mfz495j7ii.js"])))=>i.map(i=>d[i]);
var _=Object.defineProperty,M=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(a,s,i)=>s in a?_(a,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[s]=i,l=(a,s)=>{for(var i in s||(s={}))G.call(s,i)&&g(a,i,s[i]);if(f)for(var i of f(s))C.call(s,i)&&g(a,i,s[i]);return a},h=(a,s)=>M(a,P(s));import{e as z,r as v,u as k,j as e,M as d,f as B,_ as L}from"./i8clt0mfz495j7ii.js";import{n as y,C as I,q as A,o as E,$ as j,R as w,L as S}from"./ghewn7l2ynbm32fm.js";import{b9 as q}from"./j0yo6uv6652vva62.js";import{a as R}from"./j9agwrrvvs1s434x.js";const F=E(()=>L(()=>import("./o9hljbbpo7aqoo2o.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>S(a)});function O({isOpen:a,onClose:s,account:i,gpt:T}){const b=z(),[x,u]=v.useState(!1),[t,n]=v.useState(T),c=t==null?void 0:t.tools.filter(o=>o.type!==y.JIT_PLUGIN),p=t==null?void 0:t.tools.filter(o=>o.type===y.JIT_PLUGIN),N=k();return e.jsxs(I,{testId:"modal-approve-gpt",size:"custom",className:"max-w-lg text-sm",isOpen:a,onClose:A,type:"success",title:b.formatMessage(r.approveGPTTitle),children:[t==null?e.jsx("div",{className:"h-96",children:e.jsx(R,{popoverClassName:"bg-token-main-surface-secondary!",onSelect:o=>{n(o)}})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-token-border-default flex gap-4 border-b pb-6",children:[t.gizmo.display.profile_picture_url!=null?e.jsx("img",{src:t.gizmo.display.profile_picture_url,className:"h-24 w-24 rounded-full",width:96,height:96}):e.jsx(F,{className:"h-96 w-96 text-gray-400"}),e.jsxs("div",{className:"text-token-text-primary flex flex-col gap-1",children:[e.jsx("p",{className:"text-lg font-semibold",children:t.gizmo.display.name}),e.jsx("p",{children:t.gizmo.display.description}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,h(l({},r.gptByLine),{values:{authorName:t.gizmo.author.display_name}}))})]})]}),e.jsx("div",{className:"border-token-border-default flex border-b py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.capabilitiesTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:c&&c.length>0?c.map(o=>e.jsx("p",{children:q(i,o.type)},o.id)):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCapabilitiesEnabled))})})]})}),e.jsx("div",{className:"flex py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.actionsTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:p&&p.length>0?p.map(o=>{var m;return e.jsx("p",{children:(m=o.metadata.domain)!=null?m:""},o.id)}):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCustomActions))})})]})})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(j,{color:"secondary",onClick:()=>{n(void 0),s(!1)},loading:x,children:e.jsx(d,l({},r.cancelButtonText))}),e.jsx(j,{color:"primary",loading:x,disabled:t==null,onClick:()=>{t!=null&&(u(!0),w.safePost("/accounts/{account_id}/gpts/{third_party_gizmo_id}/approve",{parameters:{path:{account_id:i.id,third_party_gizmo_id:t.gizmo.id}}}).finally(()=>{N.invalidateQueries({queryKey:["gizmo"]}),s(!0),n(void 0),u(!1)}))},children:e.jsx(d,l({},r.approveButtonText))})]})]})}const r=B({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}});export{O as A};
//# sourceMappingURL=ym4yghdv64dnejbs.js.map
