const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/f510v2yorm9a64cn.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/nrby27vmpob112wj.js"])))=>i.map(i=>d[i]);
var mt=Object.defineProperty,dt=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var te=(e,r,n)=>r in e?mt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,N=(e,r)=>{for(var n in r||(r={}))ne.call(r,n)&&te(e,n,r[n]);if(v)for(var n of v(r))re.call(r,n)&&te(e,n,r[n]);return e},S=(e,r)=>dt(e,ht(r));var I=(e,r)=>{var n={};for(var t in e)ne.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&v)for(var t of v(e))r.indexOf(t)<0&&re.call(e,t)&&(n[t]=e[t]);return n};import{f6 as gt,wV as yt,wW as _t,wX as bt,wY as se,pn as wt,ll as Ae,wZ as Nt,w_ as oe,id as xt,w$ as D,uD as Ct,x0 as H,ft as Te,d5 as kt,q4 as St,v as k,eO as Et,x1 as Le,x2 as M,x3 as At,x4 as Tt,x5 as Lt,i as Rt,ce as Dt}from"./j0yo6uv6652vva62.js";import{u as Ot,ee as vt,a as Re,P as E,d as It,o as De,dj as Pt,bb as L,bc as R,e as Ft,T as Mt,b0 as jt,nE as Ut,nF as Oe,R as Bt,gK as Ht,d1 as $t,gj as W,cJ as Gt,dK as qt,jH as Kt,un as Wt,ak as zt,iX as Vt,ja as Yt,L as Xt,hp as F,mZ as ve,uo as Qt}from"./ghewn7l2ynbm32fm.js";import{r as C,j as w,_ as Ie,R as z,u as Jt,e as Zt,f as en,b as tn}from"./i8clt0mfz495j7ii.js";import{s as T,r as Pe,a as Fe}from"./lb3e2s17svct1mam.js";import{r as Me}from"./ieykhlrsk25lij4e.js";import{r as nn,a as je}from"./ozby1o16tp40naiq.js";import{w as V,s as Y,f as Ue,a as rn,h as Be,p as ie,n as ae,d as sn,r as on}from"./mzyl3pd4zxnxoe9i.js";import{k as ce}from"./lep2wptoy14cfe2w.js";import{c as le,f as an,r as He}from"./mjbhy8c4bs0n8qw2.js";import{u as $}from"./i03gut32e8jn5ajq.js";import{r as $e}from"./nfccle6oyncifphl.js";import{r as cn}from"./e26n6uhwwtwdmiki.js";const ln=De(()=>Ie(()=>import("./f510v2yorm9a64cn.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.SafeLinkWarningModal)),ue={},fe={},pe={};function me(e,r){return"".concat(e,"::").concat(r)}function un(i){var c=i,{node:e,onClick:r,children:n,messageId:t,href:s,disableSafeURLs:a}=c,o=I(c,["node","onClick","children","messageId","href","disableSafeURLs"]);var Q,J,Z,ee;const l=Ot(),u=vt();let d=r;const f=(Q=e==null?void 0:e.properties)==null?void 0:Q.href,g=C.useContext(gt),h=Re(()=>u==null?void 0:u.serverId$()),p=yt(h,s,(g==null?void 0:g.useSafeUrls)&&!a),m=_t(u==null?void 0:u.id,t),_=(ee=(Z=(J=m==null?void 0:m.metadata)==null?void 0:J.__internal)==null?void 0:Z.utm_tags)!=null?ee:{},b=bt(u==null?void 0:u.id),x=!a&&p===void 0;return t!=null&&typeof f=="string"&&f.includes("/bing/redirect")&&(ue[t]||(E.logEvent("Browsing Show Bing Link",{id:t,content:f}),ue[t]=!0),d=O=>{fe[t]||(E.logEvent("Browsing Click Bing Link",{id:t,content:f}),fe[t]=!0),r==null||r(O)}),d=O=>{const j=""+f;if(t&&!pe[me(t,j)]){const pt=p||x?"URL Clicked Allowed":"URL Clicked Blocked";E.logEvent(pt,{id:t,content:j}),pe[me(t,j)]=!0}r==null||r(O),x&&s&&(O.preventDefault(),Pt(l,ln,{urls:se(s,_,b)}))},w.jsx(w.Fragment,{children:w.jsx("a",S(N({onClick:d},o),{className:It(o.className,x&&"cursor-pointer"),href:p&&se(p,_,b),rel:"noopener",children:n}))})}const fn="w";function pn(a){var o=a,{messageId:e,conversation:r,text:n,children:t}=o,s=I(o,["messageId","conversation","text","children"]);const i=window.location.origin,c="".concat(i,"?q=").concat(encodeURIComponent(n)),l=wt(),u=C.useCallback(async d=>{d.preventDefault(),L.count(R.DEFAULT,"instant_follow_up_anchor_clicked"),E.logEventWithStatsig("Instant Follow Up Anchor Clicked","chatgpt_instant_follow_up_anchor_clicked",{clientThreadId:r.id,messageId:e}),l(d,{text:n,type:Ae.Reply},[],0)},[r,e,n,l]);return w.jsx(un,S(N({},s),{href:c,disableSafeURLs:!0,messageId:e,className:"cursor-pointer",onClick:u,children:t}))}const us=z.memo(pn),mn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],de={}.hasOwnProperty;function dn(e,r){const n=r||{};function t(s,...a){let o=t.invalid;const i=t.handlers;if(s&&de.call(s,e)){const c=String(s[e]);o=de.call(i,c)?i[c]:t.unknown}if(o)return o.call(this,s,...a)}return t.handlers=n.handlers||{},t.invalid=n.invalid,t.unknown=n.unknown,t}const hn=/^>|^->|<!--|-->|--!>|<!-$/g,gn=[">"],yn=["<",">"];function _n(e,r,n,t){return t.settings.bogusComments?"<?"+T(e.value,Object.assign({},t.settings.characterReferences,{subset:gn}))+">":"<!--"+e.value.replace(hn,s)+"-->";function s(a){return T(a,Object.assign({},t.settings.characterReferences,{subset:yn}))}}function bn(e,r,n,t){return"<!"+(t.settings.upperDoctype?"DOCTYPE":"doctype")+(t.settings.tightDoctype?"":" ")+"html>"}const y=qe(1),Ge=qe(-1),wn=[];function qe(e){return r;function r(n,t,s){const a=n?n.children:wn;let o=(t||0)+e,i=a[o];if(!s)for(;i&&V(i);)o+=e,i=a[o];return i}}const Nn={}.hasOwnProperty;function Ke(e){return r;function r(n,t,s){return Nn.call(e,n.tagName)&&e[n.tagName](n,t,s)}}const X=Ke({body:Cn,caption:U,colgroup:U,dd:An,dt:En,head:U,html:xn,li:Sn,optgroup:Tn,option:Ln,p:kn,rp:he,rt:he,tbody:Dn,td:ge,tfoot:On,th:ge,thead:Rn,tr:vn});function U(e,r,n){const t=y(n,r,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&V(t.value.charAt(0)))}function xn(e,r,n){const t=y(n,r);return!t||t.type!=="comment"}function Cn(e,r,n){const t=y(n,r);return!t||t.type!=="comment"}function kn(e,r,n){const t=y(n,r);return t?t.type==="element"&&(t.tagName==="address"||t.tagName==="article"||t.tagName==="aside"||t.tagName==="blockquote"||t.tagName==="details"||t.tagName==="div"||t.tagName==="dl"||t.tagName==="fieldset"||t.tagName==="figcaption"||t.tagName==="figure"||t.tagName==="footer"||t.tagName==="form"||t.tagName==="h1"||t.tagName==="h2"||t.tagName==="h3"||t.tagName==="h4"||t.tagName==="h5"||t.tagName==="h6"||t.tagName==="header"||t.tagName==="hgroup"||t.tagName==="hr"||t.tagName==="main"||t.tagName==="menu"||t.tagName==="nav"||t.tagName==="ol"||t.tagName==="p"||t.tagName==="pre"||t.tagName==="section"||t.tagName==="table"||t.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Sn(e,r,n){const t=y(n,r);return!t||t.type==="element"&&t.tagName==="li"}function En(e,r,n){const t=y(n,r);return!!(t&&t.type==="element"&&(t.tagName==="dt"||t.tagName==="dd"))}function An(e,r,n){const t=y(n,r);return!t||t.type==="element"&&(t.tagName==="dt"||t.tagName==="dd")}function he(e,r,n){const t=y(n,r);return!t||t.type==="element"&&(t.tagName==="rp"||t.tagName==="rt")}function Tn(e,r,n){const t=y(n,r);return!t||t.type==="element"&&t.tagName==="optgroup"}function Ln(e,r,n){const t=y(n,r);return!t||t.type==="element"&&(t.tagName==="option"||t.tagName==="optgroup")}function Rn(e,r,n){const t=y(n,r);return!!(t&&t.type==="element"&&(t.tagName==="tbody"||t.tagName==="tfoot"))}function Dn(e,r,n){const t=y(n,r);return!t||t.type==="element"&&(t.tagName==="tbody"||t.tagName==="tfoot")}function On(e,r,n){return!y(n,r)}function vn(e,r,n){const t=y(n,r);return!t||t.type==="element"&&t.tagName==="tr"}function ge(e,r,n){const t=y(n,r);return!t||t.type==="element"&&(t.tagName==="td"||t.tagName==="th")}const In=Ke({body:Mn,colgroup:jn,head:Fn,html:Pn,tbody:Un});function Pn(e){const r=y(e,-1);return!r||r.type!=="comment"}function Fn(e){const r=new Set;for(const t of e.children)if(t.type==="element"&&(t.tagName==="base"||t.tagName==="title")){if(r.has(t.tagName))return!1;r.add(t.tagName)}const n=e.children[0];return!n||n.type==="element"}function Mn(e){const r=y(e,-1,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&V(r.value.charAt(0)))&&!(r.type==="element"&&(r.tagName==="meta"||r.tagName==="link"||r.tagName==="script"||r.tagName==="style"||r.tagName==="template"))}function jn(e,r,n){const t=Ge(n,r),s=y(e,-1,!0);return n&&t&&t.type==="element"&&t.tagName==="colgroup"&&X(t,n.children.indexOf(t),n)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function Un(e,r,n){const t=Ge(n,r),s=y(e,-1);return n&&t&&t.type==="element"&&(t.tagName==="thead"||t.tagName==="tbody")&&X(t,n.children.indexOf(t),n)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const P={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\0	\n\f\r \"&'/<=>".split(""),"\0	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\0	\n\f\r \"&'<=>`".split("")],["\0	\n\f\r \"&'<=>`".split(""),"\0	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Bn(e,r,n,t){const s=t.schema,a=s.space==="svg"?!1:t.settings.omitOptionalTags;let o=s.space==="svg"?t.settings.closeEmptyElements:t.settings.voids.includes(e.tagName.toLowerCase());const i=[];let c;s.space==="html"&&e.tagName==="svg"&&(t.schema=Y);const l=Hn(t,e.properties),u=t.all(s.space==="html"&&e.tagName==="template"?e.content:e);return t.schema=s,u&&(o=!1),(l||!a||!In(e,r,n))&&(i.push("<",e.tagName,l?" "+l:""),o&&(s.space==="svg"||t.settings.closeSelfClosing)&&(c=l.charAt(l.length-1),(!t.settings.tightSelfClosing||c==="/"||c&&c!=='"'&&c!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(u),!o&&(!a||!X(e,r,n))&&i.push("</"+e.tagName+">"),i.join("")}function Hn(e,r){const n=[];let t=-1,s;if(r){for(s in r)if(r[s]!==null&&r[s]!==void 0){const a=$n(e,s,r[s]);a&&n.push(a)}}for(;++t<n.length;){const a=e.settings.tightAttributes?n[t].charAt(n[t].length-1):void 0;t!==n.length-1&&a!=='"'&&a!=="'"&&(n[t]+=" ")}return n.join("")}function $n(e,r,n){const t=Ue(e.schema,r),s=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,a=e.settings.allowDangerousCharacters?0:1;let o=e.quote,i;if(t.overloadedBoolean&&(n===t.attribute||n==="")?n=!0:(t.boolean||t.overloadedBoolean&&typeof n!="string")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const c=T(t.attribute,Object.assign({},e.settings.characterReferences,{subset:P.name[s][a]}));return n===!0||(n=Array.isArray(n)?(t.commaSeparated?rn:Nt)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?c:(e.settings.preferUnquoted&&(i=T(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:P.unquoted[s][a]}))),i!==n&&(e.settings.quoteSmart&&le(n,o)>le(n,e.alternative)&&(o=e.alternative),i=o+T(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?P.single:P.double)[s][a],attribute:!0}))+o),c+(i&&"="+i))}const Gn=["<","&"];function We(e,r,n,t){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:T(e.value,Object.assign({},t.settings.characterReferences,{subset:Gn}))}function qn(e,r,n,t){return t.settings.allowDangerousHtml?e.value:We(e,r,n,t)}function Kn(e,r,n,t){return t.all(e)}const Wn=dn("type",{invalid:zn,unknown:Vn,handlers:{comment:_n,doctype:bn,element:Bn,raw:qn,root:Kn,text:We}});function zn(e){throw new Error("Expected node, not `"+e+"`")}function Vn(e){const r=e;throw new Error("Cannot compile unknown node `"+r.type+"`")}const Yn={},Xn={},Qn=[];function Jn(e,r){const n=r||Yn,t=n.quote||'"',s=t==='"'?"'":'"';if(t!=='"'&&t!=="'")throw new Error("Invalid quote `"+t+"`, expected `'` or `\"`");return{one:Zn,all:er,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||mn,characterReferences:n.characterReferences||Xn,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Y:Be,quote:t,alternative:s}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function Zn(e,r,n){return Wn(e,r,n,this)}function er(e){const r=[],n=e&&e.children||Qn;let t=-1;for(;++t<n.length;)r[t]=this.one(n[t],t,e);return r.join("")}function tr(e){const r=this,n=N(N({},r.data("settings")),e);r.compiler=t;function t(s){return Jn(s,n)}}const ye=/[#.]/g;function nr(e,r){const n=e||"",t={};let s=0,a,o;for(;s<n.length;){ye.lastIndex=s;const i=ye.exec(n),c=n.slice(s,i?i.index:n.length);c&&(a?a==="#"?t.id=c:Array.isArray(t.className)?t.className.push(c):t.className=[c]:o=c,s+=c.length),i&&(a=i[0],s++)}return{type:"element",tagName:o||r||"div",properties:t,children:[]}}const rr=new Set(["button","menu","reset","submit"]),G={}.hasOwnProperty;function ze(e,r,n){const t=n&&ar(n);function s(a,o,...i){let c=-1,l;if(a==null){l={type:"root",children:[]};const u=o;i.unshift(u)}else if(l=nr(a,r),l.tagName=l.tagName.toLowerCase(),t&&G.call(t,l.tagName)&&(l.tagName=t[l.tagName]),sr(o,l.tagName)){let u;for(u in o)G.call(o,u)&&or(e,l.properties,u,o[u])}else i.unshift(o);for(;++c<i.length;)q(l.children,i[c]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return s}function sr(e,r){return e==null||typeof e!="object"||Array.isArray(e)?!1:r==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:r==="button"?rr.has(e.type.toLowerCase()):!("value"in e)}function or(e,r,n,t){const s=Ue(e,n);let a=-1,o;if(t!=null){if(typeof t=="number"){if(Number.isNaN(t))return;o=t}else typeof t=="boolean"?o=t:typeof t=="string"?s.spaceSeparated?o=oe(t):s.commaSeparated?o=ie(t):s.commaOrSpaceSeparated?o=oe(ie(t).join(" ")):o=_e(s,s.property,t):Array.isArray(t)?o=t.concat():o=s.property==="style"?ir(t):String(t);if(Array.isArray(o)){const i=[];for(;++a<o.length;){const c=_e(s,s.property,o[a]);i[a]=c}o=i}if(s.property==="className"&&Array.isArray(r.className)){const i=o;o=r.className.concat(i)}r[s.property]=o}}function q(e,r){let n=-1;if(r!=null)if(typeof r=="string"||typeof r=="number")e.push({type:"text",value:String(r)});else if(Array.isArray(r))for(;++n<r.length;)q(e,r[n]);else if(typeof r=="object"&&"type"in r)r.type==="root"?q(e,r.children):e.push(r);else throw new Error("Expected node, nodes, or string, got `"+r+"`")}function _e(e,r,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||ae(n)===ae(r)))return!0}return n}function ir(e){const r=[];let n;for(n in e)G.call(e,n)&&r.push([n,e[n]].join(": "));return r.join("; ")}function ar(e){const r={};let n=-1;for(;++n<e.length;)r[e[n].toLowerCase()]=e[n];return r}const cr=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],lr=ze(Be,"div"),ur=ze(Y,"g",cr),B={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fr(e,r){return Ve(e,{})||{type:"root",children:[]}}function Ve(e,r){const n=pr(e,r);return n&&r.afterTransform&&r.afterTransform(e,n),n}function pr(e,r){switch(e.nodeType){case 1:return gr(e,r);case 3:return dr(e);case 8:return hr(e);case 9:return be(e,r);case 10:return mr();case 11:return be(e,r);default:return}}function be(e,r){return{type:"root",children:Ye(e,r)}}function mr(){return{type:"doctype"}}function dr(e){return{type:"text",value:e.nodeValue||""}}function hr(e){return{type:"comment",value:e.nodeValue||""}}function gr(e,r){const n=e.namespaceURI,t=n===B.svg?ur:lr,s=n===B.html?e.tagName.toLowerCase():e.tagName,a=n===B.html&&s==="template"?e.content:e,o=e.getAttributeNames(),i={};let c=-1;for(;++c<o.length;)i[o[c]]=e.getAttribute(o[c])||"";return t(s,i,Ye(a,r))}function Ye(e,r){const n=e.childNodes,t=[];let s=-1;for(;++s<n.length;){const a=Ve(n[s],r);a!==void 0&&t.push(a)}return t}new DOMParser;function yr(e,r){const n=_r(e);return fr(n)}function _r(e){const r=document.createElement("template");return r.innerHTML=e,r.content}const we=(function(e,r,n){const t=xt(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof r=="number"){if(r<0||r===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(r=e.children.indexOf(r),r<0)throw new Error("Expected child node or index");for(;++r<e.children.length;)if(t(e.children[r],r,e))return e.children[r]}),Ne=/\n/g,xe=/[\t ]+/g,K=D("br"),Ce=D(Er),br=D("p"),ke=D("tr"),wr=D(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Sr,Ar]),Xe=D(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Nr(e,r){const n=r||{},t="children"in e?e.children:[],s=Xe(e),a=Ze(e,{whitespace:n.whitespace||"normal"}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...Je(e,{breakBefore:!0,breakAfter:!0}));let i=-1;for(;++i<t.length;)o.push(...Qe(t[i],e,{whitespace:a,breakBefore:i?void 0:s,breakAfter:i<t.length-1?K(t[i+1]):s}));const c=[];let l;for(i=-1;++i<o.length;){const u=o[i];typeof u=="number"?l!==void 0&&u>l&&(l=u):u&&(l!==void 0&&l>-1&&c.push("\n".repeat(l)||" "),l=-1,c.push(u))}return c.join("")}function Qe(e,r,n){return e.type==="element"?xr(e,r,n):e.type==="text"?n.whitespace==="normal"?Je(e,n):Cr(e):[]}function xr(e,r,n){const t=Ze(e,n),s=e.children||[];let a=-1,o=[];if(wr(e))return o;let i,c;for(K(e)||ke(e)&&we(r,e,ke)?c="\n":br(e)?(i=2,c=2):Xe(e)&&(i=1,c=1);++a<s.length;)o=o.concat(Qe(s[a],e,{whitespace:t,breakBefore:a?void 0:i,breakAfter:a<s.length-1?K(s[a+1]):c}));return Ce(e)&&we(r,e,Ce)&&o.push("	"),i&&o.unshift(i),c&&o.push(c),o}function Je(e,r){const n=String(e.value),t=[],s=[];let a=0;for(;a<=n.length;){Ne.lastIndex=a;const c=Ne.exec(n),l=c&&"index"in c?c.index:n.length;t.push(kr(n.slice(a,l).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?r.breakBefore:!0,l===n.length?r.breakAfter:!0)),a=l+1}let o=-1,i;for(;++o<t.length;)t[o].charCodeAt(t[o].length-1)===8203||o<t.length-1&&t[o+1].charCodeAt(0)===8203?(s.push(t[o]),i=void 0):t[o]?(typeof i=="number"&&s.push(i),s.push(t[o]),i=0):(o===0||o===t.length-1)&&s.push(0);return s}function Cr(e){return[String(e.value)]}function kr(e,r,n){const t=[];let s=0,a;for(;s<e.length;){xe.lastIndex=s;const o=xe.exec(e);a=o?o.index:e.length,!s&&!a&&o&&!r&&t.push(""),s!==a&&t.push(e.slice(s,a)),s=o?a+o[0].length:a}return s!==a&&!n&&t.push(""),t.join(" ")}function Ze(e,r){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":r.whitespace;case"textarea":return"pre-wrap"}}return r.whitespace}function Sr(e){return!!(e.properties||{}).hidden}function Er(e){return e.tagName==="td"||e.tagName==="th"}function Ar(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const Tr={},Lr=[];function et(e){const r=e||Tr;return function(n,t){Ct(n,"element",function(s,a){const o=Array.isArray(s.properties.className)?s.properties.className:Lr,i=o.includes("language-math"),c=o.includes("math-display"),l=o.includes("math-inline");let u=c;if(!i&&!c&&!l)return;let d=a[a.length-1],f=s;if(s.tagName==="code"&&i&&d&&d.type==="element"&&d.tagName==="pre"&&(f=d,d=a[a.length-2],u=!0),!d)return;const g=Nr(f,{whitespace:"pre"});let h;try{h=ce.renderToString(g,S(N({},r),{displayMode:u,throwOnError:!0}))}catch(m){const _=m,b=_.name.toLowerCase();t.message("Could not render math with KaTeX",{ancestors:[...a,s],cause:_,place:s.position,ruleId:b,source:"rehype-katex"}),b==="parseerror"?h=ce.renderToString(g,S(N({},r),{displayMode:u,strict:"ignore",throwOnError:!1})):h=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(r.errorColor||"#cc0000"),title:String(m)},children:[{type:"text",value:g}]}]}typeof h=="string"&&(h=yr(h).children);const p=d.children.indexOf(f);return d.children.splice(p,1,...h),H})}}function Rr(e){an(e,[/\r?\n|\r/g,Dr])}function Dr(){return{type:"break"}}function tt(){return function(e){Rr(e)}}const nt="sandbox:";function Or(e){const r=new URL(e).searchParams.get("se");if(!r)return!1;const n=Date.parse(r);return Number.isNaN(n)?!1:Date.now()>n}function fs(s){var a=s,{messageId:e,conversation:r,href:n}=a,t=I(a,["messageId","conversation","href"]);const o=Jt(),[i,c]=C.useState(!1),l=n.substring(nt.length),u=Re(()=>r.serverId$()),d=Zt(),f=Ft(),g=C.useCallback(_=>{const b=document.createElement("a");b.href=_,b.click(),c(!1)},[]),h=C.useCallback(_=>{c(!1),f.danger(_,{toastId:"file_download_failed"})},[f]),p=Ir(i,e,u,l,h,g).data,m=C.useCallback(async _=>{_.preventDefault();const b=(p==null?void 0:p.download_url)&&Or(p.download_url);(p===void 0||(p==null?void 0:p.status)!=="success"||b)&&o.invalidateQueries({queryKey:rt(e,l)}),(p==null?void 0:p.status)==="success"&&(p!=null&&p.download_url)&&!b?g(p.download_url):c(!0)},[p,o,e,l,g]);return w.jsx(Mt,{closeOnOutsideClick:!1,label:w.jsxs("span",{className:"flex items-center gap-1",children:[i?d.formatMessage(Se.startingDownload):d.formatMessage(Se.downloadFile),i&&w.jsx(jt,{})]}),side:"top",children:w.jsx("a",S(N({},t),{className:"cursor-pointer",onClick:_=>!i&&m(_)}))})}async function vr(e,r,n){const t=await Bt.safeGet("/conversation/{conversation_id}/interpreter/download",{parameters:{path:{conversation_id:r},query:{message_id:e,sandbox_path:n}}});if(t.status===Ht.Success)return t;throw new Oe("Could not download file from advanced data analysis","error_code"in t?t.error_code:"unknown_error")}function Ir(e,r,n,t,s,a){const o=Ut();return tn({queryKey:rt(r,t),queryFn:()=>{if(n)return vr(r,n,t).then(i=>((i==null?void 0:i.status)==="success"&&a(i.download_url),i)).catch(i=>{let c=o("default_download_link_error",{fileName:t});throw i instanceof Oe&&i.code!=null&&(c=o(i.code)),s==null||s(c),i})},enabled:!!(e&&r&&n&&t)})}function rt(e,r){return["downloadSandboxLink",e,r]}const Se=en({downloadFile:{id:"SandboxDownload.downloadFile",defaultMessage:"Download file"},startingDownload:{id:"SandboxDownload.startingDownload",defaultMessage:"Starting download"}}),Pr=De(()=>Ie(()=>import("./nrby27vmpob112wj.js").then(e=>e._),__vite__mapDeps([4,1])),{loading:e=>Xt(e)}),Fr="f",ps="dr",st=(e,r,n=!1)=>{const t=C.useRef(!1);C.useEffect(()=>{t.current||(t.current=!0,L.count(R.DEFAULT,"clickable_follow_up_text_shown"),n&&L.count(R.DEFAULT,"clickable_follow_up_deep_research_text_shown"),E.logEventWithStatsig("Clickable Follow Up Text Shown","chatgpt_clickable_follow_up_text_shown",N({},W({clientThreadId:e.id,messageId:r}))))},[e,r,n])},ot=({messageId:e,conversation:r,text:n})=>{const t=$t.useStore(),s=Te(r.id);st(r,e,!1);const a=C.useCallback(o=>{o.preventDefault(),L.count(R.DEFAULT,"clickable_follow_up_text_clicked"),E.logEventWithStatsig("Clickable Follow Up Text Clicked","chatgpt_clickable_follow_up_text_clicked",W({clientThreadId:r.id,messageId:e}));const i=t.getActiveSystemHintType();kt({conversation:r,sourceEvent:o,promptMessage:qt(n.toLowerCase(),{suggestion_type:Ae.Reply}),completionMetadata:{systemHints:i?[i]:[],conversationMode:s!=null?s:{kind:Gt.PrimaryAssistant}}})},[r,s,e,t,n]);return w.jsx("span",{className:"decoration-token-text-secondary hover:text-token-text-secondary cursor-pointer underline decoration-dotted decoration-[12%] underline-offset-4 transition-colors duration-200 ease-in-out",onClick:a,children:n})},Mr=({messageId:e,conversation:r,text:n})=>w.jsx(ot,{messageId:e,conversation:r,text:n}),ms=z.memo(Mr),jr=({messageId:e,conversation:r,text:n})=>{const t=Kt(),{setThreadSystemHintMode:s}=St(),a=!!Wt(),o=Te(r.id);st(r,e,!0);const i=C.useCallback(c=>{c.preventDefault(),L.count(R.DEFAULT,"clickable_follow_up_text_clicked"),L.count(R.DEFAULT,"clickable_follow_up_deep_research_text_clicked"),E.logEventWithStatsig("Clickable Follow Up Text Clicked","chatgpt_clickable_follow_up_text_clicked",W({clientThreadId:r.id,messageId:e}));const l={clientThreadId:r.id};s(zt.Research,!0,l);{const u=Vt(t);u.focus(),Yt(u,n)}},[r,e,n,t,s,o]);return a?w.jsx(ot,{messageId:e,conversation:r,text:n}):w.jsxs("span",{className:"decoration-token-text-secondary hover:text-token-text-secondary cursor-pointer underline decoration-dotted decoration-[12%] underline-offset-4 transition-colors duration-200 ease-in-out",onClick:i,children:[w.jsx(Pr,{className:"icon me-1 inline-block"}),n]})},Ur=({messageId:e,conversation:r,text:n})=>w.jsx(jr,{messageId:e,conversation:r,text:n}),ds=z.memo(Ur);function Br(){return e=>{k(e,{tagName:"table"},r=>{var s,a,o,i,c,l,u,d;const n=(o=(a=(s=r.children.find(f=>A(f,"thead")))==null?void 0:s.children.find(f=>A(f,"tr")))==null?void 0:a.children.filter(f=>A(f,"th")))!=null?o:[],t=(l=(c=(i=r.children.find(f=>A(f,"tbody")))==null?void 0:i.children.filter(f=>A(f,"tr")))==null?void 0:c.map(f=>f.children.filter(g=>A(g,"td"))))!=null?l:[];for(let f=0;f<n.length;f++){const g=n[f];let h=Ee(g);for(let m=0;m<t.length;m++)h=Math.max(h,Ee((u=t[m])==null?void 0:u[f]));const p=h>160?"xl":h>100?"lg":h>40?"md":"sm";g.properties["data-col-size"]=p;for(let m=0;m<t.length;m++)(d=t[m])!=null&&d[f]&&(t[m][f].properties["data-col-size"]=p)}})}}function A(e,r){return e.type==="element"&&e.tagName===r}function Ee(e){let r=0;return e&&k(e,"text",n=>{r+=n.value.length}),r}const Hr=new Set([fn,Fr]),hs=e=>e.startsWith(nt)||Hr.has(e)||e.startsWith("tel:")||e.startsWith("sms:")?e:sn(e);function it(){return e=>{k(e,"list",r=>{for(const n of r.children)n.spread=!0})}}function $r(){return(e,r)=>{let n=0;const t=String(r.value),s=(a,o,i)=>{var u;const c=(u=a.data)!=null?u:a.data={};c.hName=F;const l=n++;c.hProperties=S(N({},o),{content:i,index:l})};k(e,(a,o,i)=>{var c,l,u,d,f,g,h;if(At(a)){if(a.name!==F)return;const p=(l=(c=a.position)==null?void 0:c.start)==null?void 0:l.offset,m=(d=(u=a.position)==null?void 0:u.end)==null?void 0:d.offset;if(p==null||m==null)return;const b=t.slice(p,m).replace(/^:::[^\n]*\n?/,"").replace(/\n?:::\s*$/,""),x=Gr(a.attributes);s(a,x,b);return}if(Tt(a)){if(o==null||i==null)return;const p=[[a.lang,a.meta].filter(Boolean).join(" "),(f=a.meta)!=null?f:"",(g=a.lang)!=null?g:""];let m=null;for(const x of p)if(x&&(m=Lt(x),m))break;if(!m&&p.some(x=>x.includes("{"))&&(m={}),!m)return;const _=(h=a.value)!=null?h:"",b={type:"containerDirective",name:F,attributes:m,children:[],position:a.position,data:a.data?N({},a.data):void 0};s(b,m,_),i.children[o]=b}})}}function Gr(e){if(!e)return{};const r={};for(const[n,t]of Object.entries(e))typeof t=="string"&&(r[n]=t);return r}function gs(e){return r=>{k(r,n=>{Object.defineProperties(n,{markdownSource:{get(){try{return e.slice(this.position.start.offset,this.position.end.offset)}catch(t){return""}}}})})}}const ys=[[He,{singleTilde:!1}],tt,it,[nn,{singleDollarTextMath:!1}],Pe,$r,je,Fe,...M?[M]:[],Me,at,ct];function at(){return e=>{k(e,"textDirective",r=>{r.name!==ve&&(r.type="text",r.value=":".concat(r.name))})}}const qr=/\u200b/g;function ct(){return e=>{k(e,"text",r=>{r.value=r.value.replace(qr,"")})}}function Kr(){return e=>{var n;const r=(n=e.position)==null?void 0:n.end.offset;k(e,"element",(t,s)=>{var u;const{position:a}=t;if(!a)return;const{start:o,end:i}=a,c=o.offset,l=i.offset;(u=t.properties)!=null||(t.properties={}),c!=null&&(t.properties["data-start"]=c),l!=null&&(t.properties["data-end"]=l,r===l&&(t.properties["data-is-last-node"]=""),s===e.children.length-1&&(t.properties["data-is-only-node"]=""))})}}const _s=[et,Kr,Br,[Et,{target:"_new",rel:"noopener noreferrer"}],Le],Wr=[[et,{output:"mathml"}],Le],lt=[[He,{singleTilde:!1}],tt,it,Pe,je,Fe,...M?[M]:[],Me,at,ct];function zr(e,r){const n=Qt(e,r);return ut(n,r)}function ut(e,r){const n=$().use($e).use(lt).use([[ft,r!=null?r:[]]]).use(cn,{rule:"-",tightDefinitions:!0,handlers:{text:i=>(i.value=i.value.replaceAll("\\[","["),i.value),break:()=>"\n",link:Vr}}),t=$().use(on).use(Wr).use(tr),s=n.runSync(n.parse(e)),a=n.stringify(s),o=t.stringify(t.runSync(s));return{"text/plain":a,"text/html":o}}const Vr=(e,r,n,t)=>{const s=n.createTracker(t),a=n.enter("link"),o=n.enter("label");let i=s.move("[");return i+=s.move(n.containerPhrasing(e,N({before:i,after:"]("},s.current()))),i+=s.move("]("),o(),i+=s.move(e.url.replace(/[\x00-\x1F\x7F-\x9F()"]/g,Yr)),e.title&&(i+=s.move(" "+JSON.stringify(e.title))),i+=s.move(")"),a(),i};function Yr(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase().padStart(2,"0")}function ft(e){return r=>{const n={},t=(s,a)=>{var o;switch(a.type){case"grouped_webpages":{const i=[];for(const c of a.items)if(c.url&&c.title){let l=n[c.url];l||(l=n[c.url]={type:"definition",identifier:String(Object.keys(n).length+1),url:c.url,title:c.title}),i.push({type:"linkReference",referenceType:"shortcut",identifier:l.identifier,children:[{type:"text",value:(o=c.attribution)!=null?o:Dt(c.url)}]})}return i.length===0?[]:[{type:"text",value:"("},...i.flatMap((c,l,u)=>l<u.length-1?[c,{type:"text",value:", "}]:[c]),{type:"text",value:")"}]}case"title_citation":case"location_search":case"time":case"image_v2":case"nav_list":case"file_navlist":case"file":case"grouped_webpages_model_predicted_fallback":case"map":case"tldr":case"navigation":case"stock":case"calculator":case"python":case"container":case"code_execution":case"forecast":case"businesses_map":case"entity_metadata":case"video":case"entity":case"sources_footnote":case"sports_standings":case"sports_schedule":case"attribution":case"webpage_extended":case"checkout_confirmation":case"image_inline":case"image_group":case"product_entity":case"products":case"product":case"alt_text":case"product_reviews":case"product_rationale":case"dil":case"link_title":case"strix":if(a.alt){const i=$().use($e).use(lt).parse(a.alt);if(s.type!=="textDirective")return i.children;const c=i.children[0];if(c.type==="paragraph")return c.children}return[];case"hidden":case"status":case"optimistic_image_citation":case"webpage":case"optimistic_image_inline":case"invalid":case"attribution_footer":case"sports":case"grouped_webpages_v2":return[]}};k(r,Rt,(s,a,o)=>{var l;if(o==null||a==null)return;if(s.type==="containerDirective"&&s.name===F){const u=Array.isArray(s.children)?s.children:[];return o.children.splice(a,1,...u),[H,a]}const i=Xr(s,e),c=i?(l=t(s,i))!=null?l:[s]:[];return o.children.splice(a,1,...c),[H,a+c.length]}),r.children.push(...Object.values(n))}}function Xr(e,r){var n;if(e.name===ve){const t=(n=e.attributes)==null?void 0:n.index;if(t)return r[parseInt(t,10)]}}const bs=Object.freeze(Object.defineProperty({__proto__:null,markdownToClipboardContent:ut,messageTextToClipboardContent:zr,replaceDirectivesForClipboard:ft},Symbol.toStringTag,{value:"Module"}));export{Fr as C,fn as I,un as M,ys as R,nt as S,ft as a,ct as b,_s as c,fs as d,us as e,ms as f,ps as g,ds as h,gs as i,bs as j,ut as m,tt as r,hs as u};
//# sourceMappingURL=gvo1fqf7h2313x3d.js.map
