const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/emdum0m248izhpjl.js","assets/ef28lc1b3o54kec9.js"])))=>i.map(i=>d[i]);
var de=Object.defineProperty,ue=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var se=(e,s,a)=>s in e?de(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,y=(e,s)=>{for(var a in s||(s={}))ge.call(s,a)&&se(e,a,s[a]);if(ee)for(var a of ee(s))fe.call(s,a)&&se(e,a,s[a]);return e},F=(e,s)=>ue(e,me(s));import{r as p,j as t,_ as D,e as J,c as z,f as he,M as R}from"./i8clt0mfz495j7ii.js";import{u as B,h as xe,cH as oe,bO as Y,co as pe,hv as te,hg as Se,o as K,L as W,bN as ve,ff as _e,a0 as be,a as je,de as Ce,i as Me,iA as Pe,fg as Ee,aG as Ne,as as G,$ as H,T as X,br as Ae,bj as ke,d as V,b1 as ye,v as q,P as Q}from"./ghewn7l2ynbm32fm.js";import{az as ie,ay as re,e9 as le,ea as Ie,eb as Le,ec as Te,ed as we,ee as Oe,ef as Be,eg as Ue,eh as Fe,ei as Re,ej as Ge,aP as ce,d6 as Z,ek as He,el as Ve,em as De,en as ze,eo as Ke,P as ne,ep as We,bs as $e,eq as qe,er as Qe,es as Ye,et as Je,cD as Xe,cS as Ze,eu as es}from"./j0yo6uv6652vva62.js";import{P as ss}from"./fvjpw0lui4wq7vv3.js";import{g as ts}from"./olrcssu7duieo6m7.js";const ns=p.createContext(void 0);function as(e){var l;const s=Y.getConversationTurns(e),a=s.findIndex(r=>r.role===pe.Assistant);if(a===-1)return;const n=s[a];for(let r=0;r<n.messageGroups.length;r++)if(n.messageGroups[r].type===te.SearchGPTQuery){const o=n.messageGroups.slice(r+1).find(({type:m})=>m===te.Text);if(o==null)return;const u=Se(o.messages[0]);if(((l=u==null?void 0:u[0])==null?void 0:l.type)==="navigation")return{turnIndex:a,navigationCitation:u[0],message:o.messages[0]}}}function os(e,s){var n,l;if(s==null||e==null)return e;const a=new Set(e.domains.map(r=>r.url));return F(y({},e),{domains:[...e.domains,...s.domains.filter(r=>!a.has(r.url))],safe_urls:[...(n=e.safe_urls)!=null?n:[],...(l=s.safe_urls)!=null?l:[]]})}function bs({query:e}){return t.jsx(ie,{horizontalPadding:"standard",children:t.jsx(re,{className:le({isUserTurn:!0}),children:t.jsx("div",{className:ts(!0),children:t.jsx(Ie,{containsImagesOrAttachments:!1,children:t.jsx(Le,{text:e})})})})})}function js({clientThreadId:e,prefetchNavlink:s,clearPrefetchNavlink:a}){var m;const n=p.use(s),l=B(),r=xe(l,"1032814809");p.useEffect(()=>{window.__oai_SSR_NAVLINK&&Te.logEvent("Search Tool Page Load Time To Fast Nav SSR",{server_timing:n==null?void 0:n.timing},window.__oai_SSR_NAVLINK)},[]),p.useEffect(()=>{n==null&&a()},[n,a]);const i=p.useMemo(()=>n==null?null:F(y({},n.navlink),{domains:n.navlink.domains.map(d=>{var g;return F(y({},d),{subtitle:(g=d.subtitle)!=null?g:d.domain})})}),[n]),o=oe(e,as),u=p.useMemo(()=>os(i,o==null?void 0:o.navigationCitation),[o,i]);return n==null||u==null?null:t.jsxs("div",{children:[t.jsx("div",{className:"mt-10",children:t.jsx(ie,{horizontalPadding:"standard",children:t.jsxs(re,{className:le({isUserTurn:!1}),children:[t.jsx(we,{clientThreadId:e,turnIndex:(m=o==null?void 0:o.turnIndex)!=null?m:2,nextMessage:o==null?void 0:o.message,navigationCitation:u}),r?t.jsxs("div",{className:"text-token-text-secondary relative -top-2 flex justify-end gap-2 font-mono text-xs",children:[t.jsxs("div",{elementtiming:"navlink",children:["server: ",n.timing,"ms"]}),t.jsx(is,{})]}):null]})})}),t.jsx(Oe,{scriptSrc:"requestAnimationFrame(()=>window.__oai_SSR_NAVLINK=window.__oai_SSR_NAVLINK||performance.now());"})]})}function is(){const[e,s]=p.useState(null);return p.useEffect(()=>{const a=new PerformanceObserver(n=>{n.getEntries().forEach(l=>{if(l.identifier==="navlink"){const r=l.renderTime;s(i=>i==null?r:i)}})});return a.observe({type:"element",buffered:!0}),()=>a.disconnect()},[]),e==null?null:t.jsxs("span",{children:["render: ",e,"ms"]})}const rs=K(()=>D(()=>import("./j0yo6uv6652vva62.js").then(e=>e.ym),__vite__mapDeps([0,1,2,3,4])),{loading:e=>W(e)}),ls=K(()=>D(()=>import("./emdum0m248izhpjl.js").then(e=>e._),__vite__mapDeps([5,1])),{loading:e=>W(e)}),ae=K(()=>D(()=>import("./ef28lc1b3o54kec9.js").then(e=>e._),__vite__mapDeps([6,1])),{loading:e=>W(e)}),cs=K(()=>D(()=>import("./j0yo6uv6652vva62.js").then(e=>e.yy),__vite__mapDeps([0,1,2,3,4])),{loading:e=>W(e)});function Cs({showShareButton:e,showProfileDropdown:s,showConversationPrivacyIndicator:a,clientThreadId:n}){const l=B(),r=ve(l,n),i=_e(n),o=J(),u=be(l,"1547743984"),[m,d,g,h,_,x,f]=oe(n,c=>[Y.hasUserMessage(c),Y.getGizmoId(c),c==null?void 0:c.title,c==null?void 0:c.is_do_not_remember,c==null?void 0:c.isStarred,c==null?void 0:c.continuingFromSharedProjectConversationId,c==null?void 0:c.sharedProjectConversationOwner]),E=je(()=>{var c;return(c=Ze(r))==null?void 0:c.value}),I=p.useMemo(()=>Be({clientThreadId:f!=null&&f.id&&x?x:n,gizmoId:d,conversationTitle:g,conversationAsyncStatus:E,isDoNotRemember:h,isStarred:_,owner:f!=null&&f.id?{user_id:f.id}:null}),[f==null?void 0:f.id,x,n,d,g,E,h,_]),b=Ce(n),N=p.use(ns)!=null,A=Me(l),T=Pe(),w=u.get("show_share_button_text",!1)&&!A,S=o.formatMessage({id:"GizmoInformation.shareChat",defaultMessage:"Share"}),j=Ee(l,d),C=Ne(),k=!G(l),{shouldShowProjectsChatShareModal:O,openProjectsChatShareModal:M}=Ue({clientThreadId:n}),v=()=>O?M():ce.openSharingModal(i);return t.jsxs(t.Fragment,{children:[G(l)?t.jsx(Fe,{}):null,G(l)&&(C==null?void 0:C.includes("caterpillar"))&&t.jsx(Re,{}),d&&j&&t.jsx(Ge,{gizmoId:d,serverThreadId:i!=null?i:x}),e&&(i!=null?i:x)&&t.jsx(t.Fragment,{children:w?t.jsx(H,{onClick:v,icon:ae,label:S,"data-testid":"share-chat-button",color:"ghost",className:"text-token-text-primary mx-2",style:{viewTransitionName:"var(--vt_share_chat_wide_button)"},children:S}):t.jsx(X,{label:o.formatMessage({id:"CPEfES",defaultMessage:"Share chat"}),children:t.jsx(Z,{"data-testid":"share-chat-button",onClick:v,icon:ae,style:{viewTransitionName:"var(--vt_share_chat_compact_button)"}})})}),t.jsxs("div",{className:"flex items-center",children:[null,!k&&!d&&b&&!N&&!m&&!A&&!T&&t.jsx(t.Fragment,{children:t.jsx(He,{clientThreadId:n})}),a&&t.jsx("div",{className:"me-2",children:t.jsx(Ve,{clientThreadId:n,gizmoId:d})}),t.jsx(De,{}),(i!=null||x!=null)&&!k&&t.jsx(ze,{conversation:I,inMainScreen:!0,isActiveConversation:!0,inChatWindow:!0,children:t.jsx(Ke,{"aria-label":o.formatMessage({id:"9Mk/E3",defaultMessage:"Open conversation options"}),"data-testid":"conversation-options-button"})}),s&&t.jsx(ds,{clientThreadId:n})]})]})}const ds=e=>{"use forget";const s=z.c(9),{clientThreadId:a}=e,n=B(),l=Ae();ne.markStart("LoginOrProfileMenu"),ne.markRendered("LoginOrProfileMenu");let r;s[0]!==n||s[1]!==l?(r=!l&&!G(n)&&t.jsx(gs,{}),s[0]=n,s[1]=l,s[2]=r):r=s[2];let i;s[3]!==a||s[4]!==l?(i=!l&&t.jsx(ss,{clientThreadId:a}),s[3]=a,s[4]=l,s[5]=i):i=s[5];let o;return s[6]!==r||s[7]!==i?(o=t.jsxs(t.Fragment,{children:[r,i]}),s[6]=r,s[7]=i,s[8]=o):o=s[8],o};function us(e){"use forget";const s=z.c(15),{location:a,className:n,testId:l}=e,r=B(),i=J();let o;s[0]!==i?(o=i.formatMessage({id:"OFyxqj",defaultMessage:"New chat"}),s[0]=i,s[1]=o):o=s[1];const u=o;let m;s[2]!==n?(m=V("flex",n),s[2]=n,s[3]=m):m=s[3];let d;s[4]!==r||s[5]!==a?(d=_=>{es(r,_,{location:a})},s[4]=r,s[5]=a,s[6]=d):d=s[6];let g;s[7]!==u||s[8]!==d||s[9]!==l?(g=t.jsx(Z,{onClick:d,icon:cs,"aria-label":u,"data-testid":l,as:"link"}),s[7]=u,s[8]=d,s[9]=l,s[10]=g):g=s[10];let h;return s[11]!==u||s[12]!==m||s[13]!==g?(h=t.jsx(X,{label:u,className:m,children:g}),s[11]=u,s[12]=m,s[13]=g,s[14]=h):h=s[14],h}function Ms(e){"use forget";const s=z.c(5),{hideNewChat:a}=e,n=a===void 0?!1:a;if(!Xe())return null;let r;s[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(ms,{}),s[0]=r):r=s[0];let i;s[1]!==n?(i=!n&&t.jsx(us,{location:"Navigation actions"}),s[1]=n,s[2]=i):i=s[2];let o;return s[3]!==i?(o=t.jsxs("div",{className:"flex items-center",children:[r,i]}),s[3]=i,s[4]=o):o=s[4],o}function ms(){const e=J(),s=Ye(),{isUnauthenticated:a}=ye(),n=Je(ls,rs,!1,!0);return a||s?null:t.jsx(X,{label:e.formatMessage({id:"cElEQV",defaultMessage:"Open sidebar"}),className:"flex",children:t.jsx(Z,{"aria-label":e.formatMessage({id:"pV/Etp",defaultMessage:"Open sidebar"}),onClick:()=>{ce.setSidebarOpen(!0)},icon:n})})}function gs(){"use forget";const e=z.c(40),s=B();let a;e[0]!==s?(a=We(s),e[0]=s,e[1]=a):a=e[1];const n=a,l=$e(fs.signUpCta),r=qe(),i=ke.ACCESS_FLOW_ENTRY_POINT_CHAT_HEADER;let o;e[2]!==s?(o=Qe(s),e[2]=s,e[3]=o):o=e[3];const u=o,m=!u;let d;e[4]!==s?(d=()=>{q(s,{fallbackScreenHint:"login",callback:P=>{Q.logLogInButtonClicked({location:"Chat header",provider:P},i)},skipLoginModal:!1})},e[4]=s,e[5]=d):d=e[5];const g=d;let h;e[6]!==s?(h=()=>{q(s,{fallbackScreenHint:"signup",callback:P=>{Q.logSignUpButtonClicked({location:"Chat header",provider:P},i)},skipLoginModal:!1})},e[6]=s,e[7]=h):h=e[7];const _=h;let x;e[8]!==s?(x=()=>{q(s,{fallbackScreenHint:"login_or_signup",callback:P=>{Q.logLoginOrSignUpButtonClicked({location:"Chat header",provider:P},i)},skipLoginModal:!1})},e[8]=s,e[9]=x):x=e[9];const f=x,E=m?"primary":"secondary",I=!m&&"screen-arch:hidden md:screen-arch:flex";let b;e[10]!==I?(b=V(I),e[10]=I,e[11]=b):b=e[11];let L;e[12]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(R,{id:"B1SN7b",defaultMessage:"Log in"}),e[12]=L):L=e[12];let N;e[13]!==g||e[14]!==E||e[15]!==b?(N=t.jsx(H,{onClick:g,color:E,"data-testid":"login-button",className:b,children:L},"login"),e[13]=g,e[14]=E,e[15]=b,e[16]=N):N=e[16];const A=N,T=m?"secondary":"primary",w=m&&"screen-arch:hidden md:screen-arch:flex";let S;e[17]!==w?(S=V(w),e[17]=w,e[18]=S):S=e[18];let j;e[19]!==u||e[20]!==l?(j=u?t.jsx(R,{id:"LoginModule.createFreeAccount",defaultMessage:"Create a free account"}):t.jsx(R,y({},l)),e[19]=u,e[20]=l,e[21]=j):j=e[21];let C;e[22]!==_||e[23]!==T||e[24]!==S||e[25]!==j?(C=t.jsx(H,{color:T,onClick:_,"data-testid":"signup-button",className:S,children:j},"signup"),e[22]=_,e[23]=T,e[24]=S,e[25]=j,e[26]=C):C=e[26];const k=C,O=m&&"screen-arch:hidden md:screen-arch:flex";let M;e[27]!==O?(M=V(O),e[27]=O,e[28]=M):M=e[28];let v;e[29]!==r?(v=t.jsx(R,y({},r)),e[29]=r,e[30]=v):v=e[30];let c;e[31]!==f||e[32]!==M||e[33]!==v?(c=t.jsx(H,{color:"primary",onClick:f,"data-testid":"login-or-signup-button",className:M,children:v},"signup"),e[31]=f,e[32]=M,e[33]=v,e[34]=c):c=e[34];const $=c;let U;if(e[35]!==A||e[36]!==$||e[37]!==k||e[38]!==n){const P=n?[$]:[A,k];U=t.jsx("div",{className:"flex items-center justify-center gap-2",children:P}),e[35]=A,e[36]=$,e[37]=k,e[38]=n,e[39]=U}else U=e[39];return U}const fs=he({signUpCta:{id:"P6cySK",defaultMessage:"Sign up"}});export{Cs as C,ms as E,ds as L,Ms as N,bs as P,js as a,ns as b,us as c,gs as d};
//# sourceMappingURL=mpzbsmypy64alaao.js.map
