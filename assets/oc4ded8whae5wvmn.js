import{c as O,e as R,r as k,j as i}from"./i8clt0mfz495j7ii.js";import{i as _,P as B}from"./dyjp0wep007vxvkq.js";import{M as W,C as q}from"./ghewn7l2ynbm32fm.js";import{u as v}from"./n9o3jmandthwagbb.js";import{g as z}from"./oq0ty7dhrig965ux.js";import"./j0yo6uv6652vva62.js";import"./ia54sddtrl9qa2wj.js";import"./b4m3iyvkh53qge6q.js";import"./hlon4mihnqp86jji.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./1u88i8jf4mwk3mc5.js";import"./kl7c6054usfnqmd4.js";import"./k97n0y6ba9c9h39c.js";import"./ivwhma44lqs3zafn.js";import"./gbxm5e2h7cqar0c9.js";import"./jazk8nkug8tgfqml.js";import"./cx4oo5wqa9uf3in8.js";import"./mq11hu99eist2abq.js";import"./fe1zgnccg3ea7jld.js";import"./ji1868fe7hk3rgcl.js";import"./izvx0vf35f3cqx26.js";import"./o1s10g7vrpyumh3e.js";import"./e2bky2k6amgws3b2.js";import"./kplnfohfof8ely0n.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./iej0cupg2dqkmejt.js";import"./n8tfpmgkqe98i7yl.js";import"./mtmwfv9ttg0ed53k.js";import"./j8fof3z05lnsjkwf.js";import"./emqvkcmhapaejsp0.js";import"./gbb3ypbzzsv572sp.js";import"./mswbd123kh66753a.js";import"./h1jbqtena24viel6.js";import"./farp4ffzwyayoj75.js";import"./hhiw5qgz6x2exdni.js";import"./ipjqlhzf62msbem0.js";import"./o8mzfdie6iqv52bf.js";import"./kmbpv6g63y0ugt37.js";import"./nrrhfi0a0bbsg9w2.js";import"./b8tpr97hiac72ds9.js";import"./hf25g8jqpmy99k5w.js";import"./haxs88dyx78kruos.js";import"./s7nhmyc9nrsk1i39.js";import"./e93h41nejhumufi1.js";import"./ncfg0tfjoho50i9v.js";import"./odpifkjrqetqttqw.js";import"./kmo5unuf793khl43.js";import"./mzyl3pd4zxnxoe9i.js";import"./gy1lpvuoewmzh42c.js";import"./i03gut32e8jn5ajq.js";import"./h1em0bjkpkjv8ykw.js";import"./nfccle6oyncifphl.js";import"./hu1bt0oauegdhua6.js";import"./mjbhy8c4bs0n8qw2.js";import"./hxdh3tr5l8kut4ed.js";import"./jdc3bzio55nlbh7j.js";import"./n10ipxmdcsw9dq1x.js";import"./dbdg2o93q6s69qkd.js";import"./f5bdf2ynleqr2zah.js";import"./g4tl5lt9yqf20m4s.js";import"./gutjuo0v1j4y19t1.js";import"./gk19dtvu6bikdyrw.js";import"./zm1ki9l766pgg0bx.js";import"./fb6vz8ocwdhsud6p.js";const A=s=>{if(typeof s!="object"||s===null||typeof s.session_id!="string")return!1;const t=s.factor;return!(typeof t!="object"||t===null||typeof t.id!="string")};function Yt(s){"use forget";const t=O.c(47),{onClose:l,onOtpRequested:w}=s,e=R(),[o,D]=k.useState(""),[m,I]=k.useState(null),n=v();let N;t[0]!==n||t[1]!==e||t[2]!==l||t[3]!==w||t[4]!==o?(N=async()=>{I(null),n.mutateAsync({factor:"sms",phoneNumber:o}).then(r=>{if(!A(r))throw new Error("Unsupported enrollment response shape");l(),w({phoneNumber:o.trim(),enrollmentSessionId:r.session_id,factorId:r.factor.id})}).catch(r=>{I(e.formatMessage(z(r,!0)))})},t[0]=n,t[1]=e,t[2]=l,t[3]=w,t[4]=o,t[5]=N):N=t[5];const p=N;let a;t[6]!==e?(a=e.formatMessage({id:"qU7XHp",defaultMessage:"Enter your phone number"}),t[6]=e,t[7]=a):a=t[7];let f;t[8]!==a?(f=i.jsx("span",{className:"text-heading-3",children:a}),t[8]=a,t[9]=f):f=t[9];let u;t[10]!==e?(u=e.formatMessage({id:"s65ktO",defaultMessage:"Send code"}),t[10]=e,t[11]=u):u=t[11];let d;t[12]!==n.isPending||t[13]!==o?(d=o.trim().length===0||n.isPending||!_(o),t[12]=n.isPending,t[13]=o,t[14]=d):d=t[14];let c;t[15]!==p||t[16]!==u||t[17]!==d?(c=i.jsx(W.Button,{title:u,color:"primary",disabled:d,onClick:p}),t[15]=p,t[16]=u,t[17]=d,t[18]=c):c=t[18];let h;t[19]!==p?(h=r=>{r.preventDefault(),p()},t[19]=p,t[20]=h):h=t[20];let x;t[21]!==e?(x=e.formatMessage({id:"UzZdQv",defaultMessage:"We’ll text you a code to confirm it’s really you"}),t[21]=e,t[22]=x):x=t[22];let g;t[23]!==x?(g=i.jsx("p",{children:x}),t[23]=x,t[24]=g):g=t[24];let y;t[25]!==e?(y=e.formatMessage({id:"gn7CkF",defaultMessage:"Phone number"}),t[25]=e,t[26]=y):y=t[26];let M;t[27]!==m?(M=r=>{D(r),m&&I(null)},t[27]=m,t[28]=M):M=t[28];let S,j;t[29]===Symbol.for("react.memo_cache_sentinel")?(S=["US","CA"],j={layout:"inline",showDialCodePrefix:!1,rounded:"lg",densePadding:!0,triggerShowOnlyDialCode:!0,fullWidthJustifyDialCode:!1,placeholderTextSize:"sm",dropdownPanelWidthPx:320},t[29]=S,t[30]=j):(S=t[29],j=t[30]);const U=m!=null?m:void 0;let b;t[31]!==o||t[32]!==y||t[33]!==M||t[34]!==U?(b=i.jsx(B,{label:y,value:o,setValue:M,defaultCountry:"US",countries:S,appearance:j,error:U}),t[31]=o,t[32]=y,t[33]=M,t[34]=U,t[35]=b):b=t[35];let P;t[36]!==b||t[37]!==g?(P=i.jsxs("div",{className:"flex flex-col items-start gap-[12px] self-stretch",children:[g,b]}),t[36]=b,t[37]=g,t[38]=P):P=t[38];let C;t[39]!==P||t[40]!==h?(C=i.jsx("form",{onSubmit:h,className:"text-token-text-primary self-stretch text-sm",children:P}),t[39]=P,t[40]=h,t[41]=C):C=t[41];let E;return t[42]!==l||t[43]!==C||t[44]!==f||t[45]!==c?(E=i.jsx(q,{testId:"modal-enter-phone-number",isOpen:!0,onClose:l,type:"success",noPadding:!0,className:"w-[432px]! max-w-[432px]!",contentClassName:"flex flex-col items-start gap-[24px] p-[24px]",headerClassName:"!p-6",showCloseButton:!0,hasSeparator:!0,title:f,primaryButton:c,children:C}),t[42]=l,t[43]=C,t[44]=f,t[45]=c,t[46]=E):E=t[46],E}export{Yt as EnterPhoneNumberModal};
//# sourceMappingURL=oc4ded8whae5wvmn.js.map
