var v=Object.defineProperty;var R=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var T=(s,t,e)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,C=(s,t)=>{for(var e in t||(t={}))S.call(t,e)&&T(s,e,t[e]);if(R)for(var e of R(t))x.call(t,e)&&T(s,e,t[e]);return s};import{A as y,ad as E,a4 as $,r as A}from"./i8clt0mfz495j7ii.js";import{u as I,a_ as b,bN as N,bT as O,cn as P,co as w,mT as G}from"./ghewn7l2ynbm32fm.js";import{f as L,h as j}from"./j0yo6uv6652vva62.js";import"./kj8h59p17s2tn6gp.js";import"./hlon4mihnqp86jji.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./f6ek1vdaohim72xh.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./mh1u90j45tiq86ol.js";import"./hht3m8p9e0s4tqnx.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";const te=()=>[{title:"ChatGPT"}],se=()=>!1;function k(s){var p,c,m,l,u,f,h,_,g;const t={},e="client-created-root";t[e]={id:e,message:{id:e,author:{role:w.Root},content:{content_type:P.Text,parts:[]}},parent:"",children:[]};let n=e;const d=[],a=new Set;for(const o of s.messages)a.add(o.id);for(const o of s.messages){let i=(c=(p=o.metadata)==null?void 0:p.parent_id)!=null?c:n;a.has(i)||(i=n),t[o.id]={id:o.id,message:o,parent:i,children:[]},n=o.id,d.push(...(l=(m=o.metadata)==null?void 0:m.safe_urls)!=null?l:[])}for(const[o,i]of Object.entries(t))i.parent!==""&&((f=(u=t[i.parent])==null?void 0:u.children)==null||f.push(o));const r=(h=s.conversation_id)!=null?h:s.id;return C({title:(_=s.title)!=null?_:null,conversation_id:r,mapping:t,current_node:n,moderation_results:[],safe_urls:(g=s.safe_urls)!=null?g:d},G(s,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const oe=y(function(){var p;const t=I(),e=E(),n=$(),d=e!=null?e:n;b.debug("IN: POST=".concat(e==null?void 0:e.length,", GET=").concat(n==null?void 0:n.length));const a=JSON.parse(d),r=(p=a.conversation_id)!=null?p:a.id;return N(t,r,{sharedConversationId:r}),A.useEffect(()=>{const c=k(a);L(r,c),j(r),O(r,m=>{m.continuingFromSharedConversationId=r})},[]),b.debug("Ready ".concat(r," (SERVER: false) : ").concat(d.length," byte(s)")),null});export{oe as default,te as meta,se as shouldRevalidate};
//# sourceMappingURL=bi5syqso4lpacxag.js.map
