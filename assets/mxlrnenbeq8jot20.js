const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/r6e3jmdpbftg6rrq.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css"])))=>i.map(i=>d[i]);
var K=Object.defineProperty;var G=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var q=(t,e,s)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,D=(t,e)=>{for(var s in e||(e={}))J.call(e,s)&&q(t,s,e[s]);if(G)for(var s of G(e))U.call(e,s)&&q(t,s,e[s]);return t};import{c as C,f as I,j as n,M as k,e as F,L as H,b as V,_ as W,A as L,ab as Y,ai as X,h as Z,k as ee,r as O}from"./i8clt0mfz495j7ii.js";import{ba as te,bb as se}from"./j0yo6uv6652vva62.js";import{$ as ne,u as B,a as ae,h as oe,hr as T,eK as ce,eh as re,R as le,o as ie,e as de,mP as me,qO as fe,a1 as ue,dj as pe,qP as xe}from"./ghewn7l2ynbm32fm.js";import{g as ge}from"./hhiw5qgz6x2exdni.js";import{s as he}from"./e93h41nejhumufi1.js";import{N as be}from"./nsu9912kxa9o0yyo.js";import{a as Ne}from"./b8tpr97hiac72ds9.js";const z=I({connect:{id:"h5cN0b",defaultMessage:"Connect"},disconnect:{id:"ic2CMk",defaultMessage:"Disconnect"}});function ye(t){"use forget";const e=C.c(24),{connector:s,connectorName:o,hasConnection:a,isButtonBusy:r,isButtonDisabled:c,onConnect:i,onDisconnect:m}=t,{description:d}=s;let f;e[0]!==s?(f=n.jsx(te,{connector:s,size:"xxlarge",className:"flex-shrink-0"}),e[0]=s,e[1]=f):f=e[1];let l;e[2]!==o?(l=n.jsx("h1",{className:"text-xl font-semibold",children:o}),e[2]=o,e[3]=l):l=e[3];let g;e[4]!==d?(g=d?n.jsx("p",{className:"text-muted-foreground mt-2 text-sm leading-6",children:d}):null,e[4]=d,e[5]=g):g=e[5];let h;e[6]!==l||e[7]!==g?(h=n.jsxs("div",{className:"min-w-0 flex-1",children:[l,g]}),e[6]=l,e[7]=g,e[8]=h):h=e[8];let b;e[9]!==a||e[10]!==i||e[11]!==m?(b=()=>{if(a){m();return}i()},e[9]=a,e[10]=i,e[11]=m,e[12]=b):b=e[12];const j=a?z.disconnect:z.connect;let N;e[13]!==j?(N=n.jsx(k,D({},j)),e[13]=j,e[14]=N):N=e[14];let u;e[15]!==r||e[16]!==c||e[17]!==b||e[18]!==N?(u=n.jsx(ne,{type:"button",color:"primary",size:"large",className:"rounded-full px-6",disabled:c,loading:r,onClick:b,children:N}),e[15]=r,e[16]=c,e[17]=b,e[18]=N,e[19]=u):u=e[19];let y;return e[20]!==f||e[21]!==h||e[22]!==u?(y=n.jsxs("section",{className:"bg-token-bg-primary mb-6 flex flex-wrap items-center gap-4",children:[f,h,u]}),e[20]=f,e[21]=h,e[22]=u,e[23]=y):y=e[23],y}function je(t){"use forget";const e=C.c(12),{connectorName:s,connectorPath:o}=t,a=F();let r;e[0]!==a?(r=a.formatMessage({id:"gypoma",defaultMessage:"Apps"}),e[0]=a,e[1]=r):r=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=n.jsx(k,{id:"k3o6Wf",defaultMessage:"Apps"}),e[2]=c):c=e[2];let i;e[3]!==r?(i=n.jsx(H,{to:"/apps","aria-label":r,className:"hover:bg-token-bg-secondary focus-visible:outline-token-outline-primary text-token-text-primary inline-flex items-center justify-center rounded-lg px-2 py-1 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",children:c}),e[3]=r,e[4]=i):i=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=n.jsx(se,{className:"icon-sm text-token-text-tertiary","aria-hidden":"true"}),e[5]=m):m=e[5];let d;e[6]!==s||e[7]!==o?(d=n.jsx(H,{to:o,"aria-label":s,className:"hover:bg-token-bg-secondary focus-visible:outline-token-outline-primary text-token-text-primary inline-flex items-center justify-center rounded-lg px-2 py-1 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",children:s}),e[6]=s,e[7]=o,e[8]=d):d=e[8];let f;return e[9]!==i||e[10]!==d?(f=n.jsxs("div",{className:"flex items-center gap-1 px-6 py-4",children:[i,m,d]}),e[9]=i,e[10]=d,e[11]=f):f=e[11],f}function _e(){"use forget";const t=C.c(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["#0169cc","#e04c91","#00a240"],t[0]=e):e=t[0];const s=e;let o;t[1]===Symbol.for("react.memo_cache_sentinel")?(o=n.jsx("div",{className:"absolute inset-0"}),t[1]=o):o=t[1];let a;return t[2]===Symbol.for("react.memo_cache_sentinel")?(a=n.jsxs("div",{className:"relative h-[440px] w-full py-6",children:[o,n.jsx("div",{className:"relative z-10 flex h-full w-full items-center justify-center px-3",children:n.jsx("div",{className:"flex h-full w-full items-stretch justify-center gap-6",children:s.map(we)})})]}),t[2]=a):a=t[2],a}function we(t){return n.jsx("div",{className:"flex h-full w-56 flex-col items-stretch gap-3",children:n.jsx("div",{className:"aspect-square w-full rounded-xl",style:{backgroundColor:"".concat(t,"1a")}})},t)}function Se(t){"use forget";const e=C.c(6),{connectorName:s,connectorPath:o}=t;let a;e[0]!==s||e[1]!==o?(a=n.jsx(je,{connectorName:s,connectorPath:o}),e[0]=s,e[1]=o,e[2]=a):a=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=n.jsx("div",{className:"flex justify-center gap-6",children:n.jsx(_e,{})}),e[3]=r):r=e[3];let c;return e[4]!==a?(c=n.jsxs("header",{className:"bg-token-bg-tertiary h-64 overflow-hidden",children:[a,r]}),e[4]=a,e[5]=c):c=e[5],c}const R=I({functionsHeading:{id:"1Nnof3",defaultMessage:"Functions"},informationHeading:{id:"q4RRak",defaultMessage:"Information"},createdAtLabel:{id:"a7VJd0",defaultMessage:"Created at"},connectedOnLabel:{id:"YQAQMf",defaultMessage:"Connected on"}});function Me(t){"use forget";const e=C.c(7),{functionCards:s}=t;let o;e[0]!==s?(o=s===void 0?[]:s,e[0]=s,e[1]=o):o=e[1];const a=o;if(a.length===0)return null;let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=n.jsx("h2",{className:"mb-3 text-base font-semibold",children:n.jsx(k,D({},R.functionsHeading))}),e[2]=r):r=e[2];let c;e[3]!==a?(c=a.map(Ce),e[3]=a,e[4]=c):c=e[4];let i;return e[5]!==c?(i=n.jsxs("section",{className:"mb-8",children:[r,n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:c})]}),e[5]=c,e[6]=i):i=e[6],i}function Ce(t){return n.jsxs("div",{className:"bg-token-bg-tertiary shadow-xxs flex min-w-[200px] flex-col rounded-2xl px-5 py-4",children:[n.jsx("span",{className:"text-base",children:t.title}),n.jsx("span",{className:"text-token-text-tertiary mt-1 text-sm leading-5",children:t.description})]},t.title)}function Ee(t){"use forget";var p,x,M,w,v;const e=C.c(27),{connector:s}=t,o=F(),a=B(),r=(p=ae(()=>re(a)))!=null?p:!1;let c;e[0]!==a?(c=oe(a,"4026425501"),e[0]=a,e[1]=c):c=e[1];const i=c;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={productSku:T.CONNECTOR_SETTING},e[2]=m):m=e[2];const{connectorLinks:d}=ce(m);let f;e[3]!==s||e[4]!==d?(f=(M=(x=d==null?void 0:d.get(s.id))==null?void 0:x[0])!=null?M:null,e[3]=s,e[4]=d,e[5]=f):f=e[5];const l=f;l==null||l.auth_type;const g=l==null?void 0:l.auth_type;let h;e[6]!==s||e[7]!==i||e[8]!==o||e[9]!==r||e[10]!==g?(h=ge(s,o,{isDeveloperMode:r,linkAuthType:g,ecosystemDebugShowAppUrlsInSettings:i}),e[6]=s,e[7]=i,e[8]=o,e[9]=r,e[10]=g,e[11]=h):h=e[11];const b=h;let j;e[12]!==(l==null?void 0:l.created_at)||e[13]!==o?(j=l!=null&&l.created_at?o.formatMessage(R.connectedOnLabel):o.formatMessage(R.createdAtLabel),e[12]=l==null?void 0:l.created_at,e[13]=o,e[14]=j):j=e[14];const N=j;let u;e[15]!==(l==null?void 0:l.created_at)||e[16]!==s?(u=new Date((v=(w=l==null?void 0:l.created_at)!=null?w:s.created_at)!=null?v:"").toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),e[15]=l==null?void 0:l.created_at,e[16]=s,e[17]=u):u=e[17];const y=u;let _;e[18]!==N||e[19]!==y?(_={title:N,value:y},e[18]=N,e[19]=y,e[20]=_):_=e[20];let E;e[21]!==b||e[22]!==_?(E=[_,...b],e[21]=b,e[22]=_,e[23]=E):E=e[23];const $=E;let S;e[24]===Symbol.for("react.memo_cache_sentinel")?(S=n.jsx("h2",{className:"border-border mb-3 border-b pb-3 text-base font-semibold",children:n.jsx(k,D({},R.informationHeading))}),e[24]=S):S=e[24];let A;return e[25]!==$?(A=n.jsxs("section",{className:"mb-6 pt-4",children:[S,n.jsx("dl",{className:"space-y-3",children:$.map(Ae)})]}),e[25]=$,e[26]=A):A=e[26],A}function Ae(t){const{title:e,value:s}=t;return n.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-start sm:gap-8",children:[n.jsx("dt",{className:"text-token-text-secondary w-40 shrink-0 text-sm",children:e}),n.jsx("dd",{className:"text-sm",children:s})]},e)}const $e=t=>t!=null,ve=t=>["fetchApp",t].filter($e),De=async t=>await le.safeGet("/connectors/directory/{connector_id}",{parameters:{path:{connector_id:t}}});function Pe(t,e){"use forget";const s=C.c(8),o=!0;let a;s[0]!==t?(a=ve(t),s[0]=t,s[1]=a):a=s[1];let r;s[2]!==t?(r=async()=>t?await De(t):null,s[2]=t,s[3]=r):r=s[3];let c;return s[4]!==o||s[5]!==a||s[6]!==r?(c={queryKey:a,queryFn:r,enabled:o},s[4]=o,s[5]=a,s[6]=r,s[7]=c):c=s[7],V(c)}const Q=t=>encodeURIComponent(t),ke=ie(()=>W(()=>import("./r6e3jmdpbftg6rrq.js").then(t=>t.c),__vite__mapDeps([0,1,2,3])).then(t=>t.ConnectorLinkModal));function Oe(){"use no forget";const t=B(),{connector_id:e,connector_name:s}=Y(),o=Ne(t),{data:a,isLoading:r,error:c,refetch:i}=Pe(e);if(!o)return n.jsx(X,{to:"/",replace:!0});if(r)return n.jsx("main",{className:"p-6",children:n.jsx("p",{className:"text-muted-foreground text-sm",children:n.jsx(k,D({},P.loadingConnector))})});const{connector:m,link:d}=a!=null?a:{};return c||!m||!e?n.jsx(be,{}):n.jsx(Re,{connector:m,connectorNameParam:s,activeConnectorLink:d!=null?d:null,refetchApp:i})}const Qe=L(Oe);function Re({connector:t,connectorNameParam:e,activeConnectorLink:s,refetchApp:o}){"use no forget";const a=B(),r=Z(),c=ee(),i=F(),m=de(),d=me(),f=fe(),[l,g]=O.useState(!1),[h,b]=O.useState(!1),j=t.name,N="/apps/".concat(Q(t.name),"/").concat(t.id),u=!!s,y=s==null?void 0:s.id;O.useEffect(()=>{if(!t.name)return;const p=Q(t.name);e!==p&&r("/apps/".concat(p,"/").concat(t.id).concat(c.search).concat(c.hash),{replace:!0})},[t.id,t.name,e,c.hash,c.search,r]),O.useEffect(()=>{if(!t.name)return;const p=document.title,x=i.formatMessage(ue.title);return document.title="ChatGPT - ".concat(t.name),()=>{document.title=p||x}},[t.name,i]);const _=async(p,x,M)=>{if(!u){g(!0),M(!0);try{he(d?"popup":"redirect");const w="".concat(window.location.pathname).concat(window.location.search).concat(window.location.hash);await xe({connector:t,shouldRedirectToConnectorDetails:!1,openPopup:d,toaster:m,intl:i,redirectAfter:w,authTypeOverride:p})?(m.success(i.formatMessage(P.connectSuccess,{connectorName:t.name})),x==null||x(),await o()):d&&(x==null||x(),await o())}catch(w){const v=w instanceof Error&&w.message?w.message:i.formatMessage(P.connectError,{connectorName:t.name});m.danger(v,{toastId:"connector-connect-error"})}finally{g(!1),M(!1)}}},E=()=>{u||pe(a,ke,{connector:t,productSku:T.CONNECTOR_SETTING,onConnect:(p,x,M)=>{_(p,x,M)}})},$=async()=>{if(!(!u||!y)){b(!0);try{await f(y,async()=>{m.success(i.formatMessage(P.disconnectSuccess,{connectorName:t.name})),await o()},T.CONNECTOR_SETTING)}catch(p){const x=p instanceof Error&&p.message?p.message:i.formatMessage(P.disconnectError,{connectorName:t.name});m.danger(x,{toastId:"connector-disconnect-error"})}finally{b(!1)}}},S=u?h:l,A=S||u&&!y;return n.jsxs(n.Fragment,{children:[n.jsx(Se,{connectorName:j,connectorPath:N}),n.jsxs("main",{className:"mx-auto max-w-2xl py-6",children:[n.jsx(ye,{connector:t,connectorName:j,hasConnection:u,isButtonBusy:S,isButtonDisabled:A,onConnect:E,onDisconnect:()=>{$()}}),n.jsx(Me,{}),n.jsx(Ee,{connector:t})]})]})}const P=I({loadingConnector:{id:"9IH1gr",defaultMessage:"Loading connectorâ€¦"},connectSuccess:{id:"KkkPaz",defaultMessage:"Connected {connectorName}."},connectError:{id:"GL1WJQ",defaultMessage:"Something went wrong while connecting {connectorName}."},disconnectSuccess:{id:"s7J3NI",defaultMessage:"Disconnected {connectorName}."},disconnectError:{id:"uw3ImT",defaultMessage:"Something went wrong while disconnecting {connectorName}."}});export{Qe as default};
//# sourceMappingURL=mxlrnenbeq8jot20.js.map
