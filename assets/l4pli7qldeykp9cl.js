const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghewn7l2ynbm32fm.js","assets/i8clt0mfz495j7ii.js","assets/root-c4psboex.css","assets/mytnxs3zwbflla4u.js","assets/3j20em1lilnrpdcm.js","assets/bgxcag65uz54fc39.js","assets/gsas8pb1acnf7jnd.js","assets/j0yo6uv6652vva62.js","assets/conversation-small-lq38g8zw.css","assets/mdgmhl7nsma70wnx.js","assets/mpmpsfijpnedwcl4.js","assets/ooz2slmm8agf6bjp.js","assets/luswc49dwcmlqecs.js","assets/gsyp9a9fup59ufmh.js","assets/mm3tthua8vl6qps5.js"])))=>i.map(i=>d[i]);
var Mt=Object.defineProperty,Pt=Object.defineProperties;var Ot=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Je=(t,e,n)=>e in t?Mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q=(t,e)=>{for(var n in e||(e={}))Xe.call(e,n)&&Je(t,n,e[n]);if(Ne)for(var n of Ne(e))Ze.call(e,n)&&Je(t,n,e[n]);return t},ce=(t,e)=>Pt(t,Ot(e));var Ye=(t,e)=>{var n={};for(var a in t)Xe.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&Ne)for(var a of Ne(t))e.indexOf(a)<0&&Ze.call(t,a)&&(n[a]=t[a]);return n};import{r as z,_ as G,c as fe,j as s,e as he,b as Lt,M as L,u as Nt}from"./i8clt0mfz495j7ii.js";import{p0 as Rt,o as H,L as oe,d as Oe,T as De,B as pt,p8 as ye,pa as Ae,en as ft,e4 as A,R as gt,u as ht,e as xt,z as Dt,a5 as At,eS as O,gf as Tt,ek as Vt,a4 as Wt,bb as et,bc as tt,C as $t,eW as Ut,D as Bt,$ as Ue,ks as zt,e$ as qt,dj as st,f4 as nt,P as Re,m as Kt}from"./ghewn7l2ynbm32fm.js";import{mR as Qt,ai as F,V as _e,d$ as Ft,bA as Gt,mS as _t,mT as Ht,mU as Jt,as as at,mV as it,mu as Xt,dz as Zt,dy as Yt,mW as es,mX as Be}from"./j0yo6uv6652vva62.js";import{L as ts,R as ss,X as ns}from"./jq6zcafi39e65jll.js";import{C as as}from"./ip1bg22t0287c8cy.js";import{c as is,E as os}from"./ebe73b5ila3cf4xf.js";import{_ as rs,a as ot,g as ls,b as cs,d as ze,v as ds,e as rt,u as us,f as ms,S as ps,c as qe}from"./8ogegalkndkolczu.js";import{a as fs}from"./hf25g8jqpmy99k5w.js";import"./kfdkis1zwf4ccfgg.js";import"./ol9d5wxhynx9q2is.js";import"./mbmcx8v24u1ao1ke.js";import"./ln88gzx578175chd.js";var gs=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],lt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),i=String(a.getOptionValue(n)).toLowerCase(),u=String(a.getOptionLabel(n)).toLowerCase();return i===r||u===r},Ke={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,a,r){return!(!e||n.some(function(i){return lt(e,i,r)})||a.some(function(i){return lt(e,i,r)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function hs(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,a=t.createOptionPosition,r=a===void 0?"last":a,i=t.formatCreateLabel,u=i===void 0?Ke.formatCreateLabel:i,o=t.isValidNewOption,x=o===void 0?Ke.isValidNewOption:o,m=t.getNewOptionData,l=m===void 0?Ke.getNewOptionData:m,c=t.onCreateOption,f=t.options,h=f===void 0?[]:f,S=t.onChange,g=rs(t,gs),b=g.getOptionValue,R=b===void 0?cs:b,M=g.getOptionLabel,P=M===void 0?ls:M,d=g.inputValue,_=g.isLoading,v=g.isMulti,w=g.value,D=g.name,C=z.useMemo(function(){return x(d,ot(w),h,{getOptionValue:R,getOptionLabel:P})?l(d,u(d)):void 0},[u,l,P,R,d,x,h,w]),q=z.useMemo(function(){return(n||!_)&&C?r==="first"?[C].concat(ze(h)):[].concat(ze(h),[C]):h},[n,r,_,C,h]),J=z.useCallback(function($,B){if(B.action!=="select-option")return S($,B);var te=Array.isArray($)?$:[$];if(te[te.length-1]===C){if(c)c(d);else{var N=l(d,d),ne={action:"create-option",name:D,option:N};S(ds(v,[].concat(ze(ot(w)),[N]),N),ne)}return}S($,B)},[l,d,v,D,C,c,S,w]);return rt(rt({},g),{},{options:q,onChange:J})}var xs=z.forwardRef(function(t,e){var n=us(t),a=hs(n);return z.createElement(ms,Rt({ref:e},a))}),_s=xs;const ys=H(()=>G(()=>import("./ghewn7l2ynbm32fm.js").then(t=>t.vJ),__vite__mapDeps([0,1,2])),{loading:t=>oe(t)}),vs=H(()=>G(()=>import("./mytnxs3zwbflla4u.js"),__vite__mapDeps([3,1])).then(t=>t.DirectorySyncResourceManagedIndication));function yt({value:t,onChange:e,options:n,onSearch:a,placeholder:r,trailingComponent:i,isLoading:u,menuIsOpen:o,classNames:x,noOptionsMessage:m,inputValue:l,onKeyDown:c,getMultiValueConfig:f}){const h=he(),S=h.formatMessage({id:"F+GhgL",defaultMessage:"People outside of your workspace cannot be added"}),g=d=>s.jsx(qe.IndicatorsContainer,ce(Q({},d),{children:i})),b=(d,_)=>_.context==="value"?d.label:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:d.label}),d.sublabel&&s.jsx("span",{className:"text-token-text-secondary text-xs",children:d.sublabel})]}),d.kind==="group"&&d.isScimManaged&&s.jsx(vs,{})]});return{className:"react-select-container min-w-0",classNamePrefix:"react-select",isMulti:!0,isClearable:!1,isLoading:u,menuIsOpen:o,options:n,value:t,classNames:x,inputValue:l,getOptionValue:d=>"".concat(d.kind,":").concat(d.id),getOptionLabel:d=>d.label,onChange:d=>e(d),onInputChange:(d,_)=>{_.action!=="menu-close"&&_.action!=="input-blur"&&a(d,_)},placeholder:r,openMenuOnFocus:!0,openMenuOnClick:!0,hideSelectedOptions:!1,closeMenuOnSelect:!1,backspaceRemovesValue:!0,controlShouldRenderValue:!0,components:{DropdownIndicator:()=>null,ClearIndicator:()=>null,IndicatorsContainer:g,MultiValue:d=>{var $,B;const _=d.data,v=f==null?void 0:f(_),w=($=v==null?void 0:v.tone)!=null?$:"default",D="m-1 cursor-pointer rounded-md border px-1.5 py-1 text-sm transition-colors",C={danger:"bg-token-bg-status-error text-token-interactive-label-danger-secondary-default border-token-interactive-border-danger-secondary-default",default:"text-token-text-primary bg-token-bg-tertiary border-transparent hover:bg-token-bg-secondary hover-border-token-border-light"},q=Oe(D,(B=C[w])!=null?B:C.default,v==null?void 0:v.className),J=s.jsx("div",ce(Q({className:q,role:"button",tabIndex:0},d.removeProps),{children:s.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[v==null?void 0:v.leadingIcon,s.jsx("span",{className:"min-w-0",children:d.children}),v==null?void 0:v.trailingIcon,s.jsx(ys,{className:"icon-sm"})]})}));return v!=null&&v.tooltip?s.jsx(qe.MultiValue,ce(Q({},d),{children:s.jsx(De,{label:v.tooltip,side:"top",delayDuration:150,children:J})})):s.jsx(qe.MultiValue,ce(Q({},d),{children:J}))},Option:d=>{const{isFocused:_,isSelected:v,innerProps:w,innerRef:D,data:C}=d;return s.jsx("div",ce(Q({},w),{ref:D,className:Oe("cursor-pointer rounded-md p-2",v?"bg-token-interactive-bg-secondary-press":_?"bg-token-interactive-bg-secondary-hover":"bg-transparent"),children:b(C,{context:"menu"})}))},MultiValueRemove:()=>null},formatOptionLabel:b,noOptionsMessage:d=>m?m(d):S,loadingMessage:()=>h.formatMessage(Qt.loading),filterOption:(d,_)=>{var v;return d.data.label.toLowerCase().includes(_.toLowerCase())||((v=d.data.sublabel)!=null?v:"").toLowerCase().includes(_.toLowerCase())},onKeyDown:c}}function bs(t){"use forget";const e=fe.c(2),n=yt(t);let a;return e[0]!==n?(a=s.jsx(ps,Q({},n)),e[0]=n,e[1]=a):a=e[1],a}function js(t){"use forget";var c;const e=fe.c(16);let n,a,r,i,u;e[0]!==t?(c=t,{onCreateOption:i,isValidNewOption:r,formatCreateLabel:n,getMultiValueConfig:a}=c,u=Ye(c,["onCreateOption","isValidNewOption","formatCreateLabel","getMultiValueConfig"]),e[0]=t,e[1]=n,e[2]=a,e[3]=r,e[4]=i,e[5]=u):(n=e[1],a=e[2],r=e[3],i=e[4],u=e[5]);let o;e[6]!==a||e[7]!==u?(o=ce(Q({},u),{getMultiValueConfig:a}),e[6]=a,e[7]=u,e[8]=o):o=e[8];const x=yt(o);let m;e[9]!==r?(m=(f,h,S)=>{var g;return(g=r==null?void 0:r(f))!=null?g:!0},e[9]=r,e[10]=m):m=e[10];let l;return e[11]!==x||e[12]!==n||e[13]!==i||e[14]!==m?(l=s.jsx(_s,ce(Q({},x),{onCreateOption:i,isValidNewOption:m,formatCreateLabel:n})),e[11]=x,e[12]=n,e[13]=i,e[14]=m,e[15]=l):l=e[15],l}const ks=H(()=>G(()=>import("./3j20em1lilnrpdcm.js").then(t=>t._),__vite__mapDeps([4,1])),{loading:t=>oe(t)}),ws=H(()=>G(()=>import("./bgxcag65uz54fc39.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>oe(t)}),Cs=H(()=>G(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([6,1])),{loading:t=>oe(t)}),Ss=H(()=>G(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yA),__vite__mapDeps([7,1,0,2,8])),{loading:t=>oe(t)}),ct=H(()=>G(()=>import("./mdgmhl7nsma70wnx.js").then(t=>t._),__vite__mapDeps([9,1])),{loading:t=>oe(t)}),vt=new Set;function T(t){return t.toLowerCase().trim()}function Te(t){return t.kind==="email"?"".concat(t.kind,":").concat(T(t.id)):"".concat(t.kind,":").concat(t.id)}function Es(t,e){const n=T(e);return t.some(a=>a.kind==="email"?T(a.id)===n:a.kind==="user"&&a.sublabel?T(a.sublabel)===n:!1)}function Is(t){return t.can_write?ws:(t.can_view_config,ct)}function Ve(t){return t.can_write?F.shareProjectPermissionCanEdit:t.can_view_config?F.shareProjectPermissionCanChat:F.shareProjectPermissionUnknown}function Ms(t){return t.can_write?"edit":"view"}function bt(t){"use forget";const e=fe.c(14),{capabilities:n,selected:a}=t,r=he(),i=n.can_write?"edit":"view",u=a?"selected":"default";let o;e[0]!==n?(o=Is(n),e[0]=n,e[1]=o):o=e[1];let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(A.RadioItemCheck,{}),e[2]=x):x=e[2];let m;e[3]!==n||e[4]!==r?(m=r.formatMessage(Ve(n)),e[3]=n,e[4]=r,e[5]=m):m=e[5];const l=n.can_write?F.shareProjectPermissionEditDescription:F.shareProjectPermissionViewDescription;let c;e[6]!==l?(c=s.jsx(L,Q({},l)),e[6]=l,e[7]=c):c=e[7];let f;return e[8]!==i||e[9]!==u||e[10]!==o||e[11]!==m||e[12]!==c?(f=s.jsx(A.RadioItem,{value:i,color:u,icon:o,trailing:x,label:m,secondary:c}),e[8]=i,e[9]=u,e[10]=o,e[11]=m,e[12]=c,e[13]=f):f=e[13],f}function Fe(t){"use forget";const e=fe.c(21),{capabilities:n,onChange:a,triggerClassNames:r}=t;let i;e[0]!==r?(i=Oe("text-token-text-secondary hover:bg-token-interactive-bg-secondary-hover radix-state-open:bg-token-interactive-bg-secondary-press whitespace-nowrap",r),e[0]=r,e[1]=i):i=e[1];let u;e[2]!==n?(u=Ve(n),e[2]=n,e[3]=u):u=e[3];let o;e[4]!==u?(o=s.jsx(L,Q({},u)),e[4]=u,e[5]=o):o=e[5];let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(Ss,{className:"icon-sm"}),e[6]=x):x=e[6];let m;e[7]!==i||e[8]!==o?(m=s.jsxs(A.Trigger,{color:"secondary",className:i,children:[o,x]}),e[7]=i,e[8]=o,e[9]=m):m=e[9];const l=n.can_write?"edit":"view";let c;e[10]!==a?(c=g=>{a(g==="edit"?Ae:ye)},e[10]=a,e[11]=c):c=e[11];let f;e[12]!==n?(f=[ye,Ae].map((g,b)=>s.jsx(bt,{capabilities:g,selected:ft(g,n)},b)),e[12]=n,e[13]=f):f=e[13];let h;e[14]!==l||e[15]!==c||e[16]!==f?(h=s.jsx(A.Portal,{children:s.jsx(A.Content,{className:"max-w-[320px]",children:s.jsx(A.RadioGroup,{value:l,onValueChange:c,children:f})})}),e[14]=l,e[15]=c,e[16]=f,e[17]=h):h=e[17];let S;return e[18]!==m||e[19]!==h?(S=s.jsxs(A.Root,{children:[m,h]}),e[18]=m,e[19]=h,e[20]=S):S=e[20],S}function jt(t){"use forget";var re,ge,Z,de,le,ie,ue;const e=fe.c(44),{publishedGizmo:n,subjects:a,workspaceMembersByEmailRef:r,existingMemberEmails:i}=t,u=he(),[,o]=z.useTransition(),[x,m]=z.useState(""),l=pt(),[c,f]=z.useState(""),[h]=fs(c,100),S=i!=null?i:vt,g=Ft(l==null?void 0:l.id,0,h,10);(re=g.data)==null||re.items;let b;e[0]!==(n==null?void 0:n.gizmo)||e[1]!==((ge=g.data)==null?void 0:ge.items)?(b=(le=(de=(Z=g.data)==null?void 0:Z.items)==null?void 0:de.filter(I=>I.account_user_id!==(n==null?void 0:n.gizmo.author.user_id)).map(Ps))!=null?le:[],e[0]=n==null?void 0:n.gizmo,e[1]=(ie=g.data)==null?void 0:ie.items,e[2]=b):b=e[2];const R=b;let M;if(e[3]!==S||e[4]!==R){let I;e[6]!==S?(I=Y=>Y.kind!=="user"||!Y.sublabel?!0:!S.has(T(Y.sublabel)),e[6]=S,e[7]=I):I=e[7],M=R.filter(I),e[3]=S,e[4]=R,e[5]=M}else M=e[5];const P=M,d=l==null?void 0:l.id;let _;e[8]!==h||e[9]!==d?(_=[d,"groups","filtered",h],e[8]=h,e[9]=d,e[10]=_):_=e[10];let v;e[11]!==l||e[12]!==h?(v=l?()=>gt.safeGet("/accounts/{account_id}/groups",{parameters:{path:{account_id:l.id},query:{query:h,offset:0,orderby:"@score",limit:20}}}):void 0,e[11]=l,e[12]=h,e[13]=v):v=e[13];let w;e[14]!==l||e[15]!==h?(w=h.trim()!==""&&l!=null&&!!l.getWorkspaceId(),e[14]=l,e[15]=h,e[16]=w):w=e[16];let D;e[17]!==_||e[18]!==v||e[19]!==w?(D={queryKey:_,queryFn:v,enabled:w},e[17]=_,e[18]=v,e[19]=w,e[20]=D):D=e[20];const{data:C,isLoading:q}=Lt(D);let J;e[21]!==(C==null?void 0:C.items)||e[22]!==u?(J=(ue=C==null?void 0:C.items.slice(0,10).map(I=>{var Y;return{kind:"group",id:I.id,label:I.name,sublabel:u.formatMessage(F.shareProjectGroupMembersCount,{numMembers:(Y=I.num_members)!=null?Y:0}),isScimManaged:!!I.is_scim_managed}}))!=null?ue:[],e[21]=C==null?void 0:C.items,e[22]=u,e[23]=J):J=e[23];const $=J;let B;e[24]!==a?(B=new Set(a.map(Te)),e[24]=a,e[25]=B):B=e[25];const te=B;let N;e[26]!==$||e[27]!==te||e[28]!==P?(N=[...P,...$].filter(I=>!te.has(Te(I))),e[26]=$,e[27]=te,e[28]=P,e[29]=N):N=e[29];const ne=N;let U,se;e[30]!==R||e[31]!==r?(U=()=>{if(r)for(const I of R)I.sublabel&&r.current.set(T(I.sublabel),I)},se=[R,r],e[30]=R,e[31]=r,e[32]=U,e[33]=se):(U=e[32],se=e[33]),z.useEffect(U,se);let K;e[34]!==o?(K=(I,Y)=>{m(I),o(()=>{f(I)})},e[34]=o,e[35]=K):K=e[35];const X=K;let ae;return e[36]!==q||e[37]!==X||e[38]!==x||e[39]!==ne||e[40]!==o||e[41]!==P||e[42]!==g?(ae={groupsLoading:q,handleSearch:X,inputValue:x,options:ne,userOptions:P,setInputValue:m,setQuery:f,startQueryTransition:o,usersQuery:g},e[36]=q,e[37]=X,e[38]=x,e[39]=ne,e[40]=o,e[41]=P,e[42]=g,e[43]=ae):ae=e[43],ae}function Ps(t){var e,n;return{kind:"user",id:t.account_user_id,label:(e=t.name)!=null?e:"Unknown User",sublabel:(n=t.email)!=null?n:""}}function Os(t){"use forget";const e=fe.c(25),{publishedGizmo:n,capabilities:a,setCapabilities:r,subjects:i,setSubjects:u,workspaceMembersByEmailRef:o}=t,x=he();let m;e[0]!==n||e[1]!==i||e[2]!==o?(m={publishedGizmo:n,subjects:i,workspaceMembersByEmailRef:o},e[0]=n,e[1]=i,e[2]=o,e[3]=m):m=e[3];const{groupsLoading:l,handleSearch:c,inputValue:f,options:h,usersQuery:S}=jt(m);let g;e[4]!==f?(g=f.trim(),e[4]=f,e[5]=g):g=e[5];const b=g;let R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R={menuList:Ns,control:Ls},e[6]=R):R=e[6];let M;e[7]!==u?(M=D=>u([...D]),e[7]=u,e[8]=M):M=e[8];const P=b!=="";let d;e[9]!==x?(d=x.formatMessage(F.shareProjectSearchPeopleOrGroups),e[9]=x,e[10]=d):d=e[10];let _;e[11]!==a||e[12]!==r||e[13]!==i.length?(_=i.length>0&&s.jsx(Fe,{capabilities:a,onChange:r,triggerClassNames:"text-token-text-secondary"}),e[11]=a,e[12]=r,e[13]=i.length,e[14]=_):_=e[14];const v=S.isLoading||l;let w;return e[15]!==c||e[16]!==f||e[17]!==h||e[18]!==i||e[19]!==M||e[20]!==P||e[21]!==d||e[22]!==_||e[23]!==v?(w=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(bs,{value:i,classNames:R,onChange:M,onSearch:c,menuIsOpen:P,inputValue:f,options:h,placeholder:d,trailingComponent:_,isLoading:v})}),e[15]=c,e[16]=f,e[17]=h,e[18]=i,e[19]=M,e[20]=P,e[21]=d,e[22]=_,e[23]=v,e[24]=w):w=e[24],w}function Ls(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-1! cursor-text!"}function Ns(){return"bg-token-bg-primary"}function Rs(t){"use forget";const e=fe.c(78),{publishedGizmo:n,capabilities:a,setCapabilities:r,subjects:i,setSubjects:u,existingMemberEmails:o,allowExternalDomainInvites:x,normalizedVerifiedDomainHostnames:m,workspaceMembersByEmailRef:l}=t,c=he(),f=o!=null?o:vt;let h;e[0]!==o||e[1]!==n||e[2]!==i||e[3]!==l?(h={publishedGizmo:n,subjects:i,workspaceMembersByEmailRef:l,existingMemberEmails:o},e[0]=o,e[1]=n,e[2]=i,e[3]=l,e[4]=h):h=e[4];const{groupsLoading:S,handleSearch:g,inputValue:b,options:R,userOptions:M,setInputValue:P,setQuery:d,startQueryTransition:_,usersQuery:v}=jt(h);let w,D,C,q;if(e[5]!==b||e[6]!==c||e[7]!==i.length){q=b.trim(),w=T(q);let y;e[12]!==c?(y=c.formatMessage(F.shareProjectSearchPeopleGroupsOrEmail),e[12]=c,e[13]=y):y=e[13],D=y,C=i.length>0||_e.test(q),e[5]=b,e[6]=c,e[7]=i.length,e[8]=w,e[9]=D,e[10]=C,e[11]=q}else w=e[8],D=e[9],C=e[10],q=e[11];const J=C;let $;e:{if(!_e.test(w)){$=void 0;break e}if(f.has(w)){$=void 0;break e}let y;if(e[14]!==w||e[15]!==M){let j;e[17]!==w?(j=W=>W.kind==="user"&&W.sublabel?T(W.sublabel)===w:!1,e[17]=w,e[18]=j):j=e[18],y=M.find(j),e[14]=w,e[15]=M,e[16]=y}else y=e[16];$=y}const B=$;let te;e[19]!==f||e[20]!==i||e[21]!==l?(te=(y,j)=>{const W=j===void 0?i:j,ee=T(y);return f.has(ee)||l.current.has(ee)?!0:Es(W,ee)},e[19]=f,e[20]=i,e[21]=l,e[22]=te):te=e[22];const N=te;let ne;e[23]!==f||e[24]!==N||e[25]!==u?(ne=y=>{u(j=>{const W=Te(y);return j.some(ee=>Te(ee)===W)||y.kind==="user"&&y.sublabel&&f.has(T(y.sublabel))||y.kind==="email"&&N(y.id,j)?j:[...j,y]})},e[23]=f,e[24]=N,e[25]=u,e[26]=ne):ne=e[26];const U=ne;let se;e[27]!==U||e[28]!==f||e[29]!==N||e[30]!==P||e[31]!==d||e[32]!==_||e[33]!==l?(se=y=>{const j=T(y);if(!_e.test(j))return;if(f.has(j)){_(()=>{d("")}),P("");return}const W=l.current.get(j);if(W){if(W.sublabel&&f.has(T(W.sublabel))){_(()=>{d("")}),P("");return}U(W),_(()=>{d("")}),P("");return}if(N(j)){P("");return}U({kind:"email",id:j,label:j}),_(()=>{d("")}),P("")},e[27]=U,e[28]=f,e[29]=N,e[30]=P,e[31]=d,e[32]=_,e[33]=l,e[34]=se):se=e[34];const K=se;let X;e[35]!==N?(X=y=>{const j=T(y);return _e.test(j)&&!N(j)},e[35]=N,e[36]=X):X=e[36];const ae=X;let re;e[37]!==c?(re=y=>c.formatMessage(F.shareProjectInviteEmailOption,{email:y.trim()}),e[37]=c,e[38]=re):re=e[38];const ge=re;let Z;e[39]!==c||e[40]!==N?(Z=y=>{const{inputValue:j}=y,W=T(j);return N(W)?c.formatMessage(F.shareProjectMemberAlreadyAdded):_e.test(W)?c.formatMessage(F.shareProjectInviteEmailPressEnter):c.formatMessage(F.shareProjectEnterEmailNoOptions)},e[39]=c,e[40]=N,e[41]=Z):Z=e[41];const de=Z;let le;e[42]!==U||e[43]!==K||e[44]!==b||e[45]!==B||e[46]!==P||e[47]!==d||e[48]!==_?(le=y=>{if(y.nativeEvent.isComposing)return;const{key:j}=y,W=j===","||j===" "||j==="Spacebar"||j==="Space",ee=j==="Enter",xe=j==="Tab";if(!(!W&&!ee&&!xe)){if(B){y.preventDefault(),U(B),_(()=>{d("")}),P("");return}xe||_e.test(T(b))&&(y.preventDefault(),K(b))}},e[42]=U,e[43]=K,e[44]=b,e[45]=B,e[46]=P,e[47]=d,e[48]=_,e[49]=le):le=e[49];const ie=le;let ue;e[50]!==a||e[51]!==r||e[52]!==J?(ue=J?s.jsx(Fe,{capabilities:a,onChange:r,triggerClassNames:"text-token-text-secondary"}):void 0,e[50]=a,e[51]=r,e[52]=J,e[53]=ue):ue=e[53];const I=ue;let Y;e[54]!==x||e[55]!==c||e[56]!==m||e[57]!==l?(Y=y=>{var Ee,Ie;if(y.kind!=="email")return;const j=y.id,W=T(j),ee=(Ie=(Ee=j.split("@")[1])==null?void 0:Ee.toLowerCase())!=null?Ie:"";if(l.current.has(W))return;const xe=m.length>0,Le=ee!==""&&xe&&m.includes(ee);return x===!1&&(ee!==""&&!Le)?{tooltip:c.formatMessage(F.shareProjectExternalInviteBlockedTooltip),tone:"danger",leadingIcon:s.jsx("span",{"aria-hidden":!0,className:"text-token-interactive-label-danger-secondary-default inline-flex h-4 w-4 shrink-0 items-center justify-center [&>svg]:h-4 [&>svg]:w-4",children:s.jsx(ks,{className:"h-4 w-4","aria-hidden":!0})})}:{tooltip:c.formatMessage(F.shareProjectExternalInviteNonMemberTooltip),leadingIcon:s.jsx("span",{"aria-hidden":!0,className:"text-token-text-tertiary inline-flex h-4 w-4 shrink-0 items-center justify-center [&>svg]:h-4 [&>svg]:w-4",children:s.jsx(Cs,{className:"h-4 w-4","aria-hidden":!0})})}},e[54]=x,e[55]=c,e[56]=m,e[57]=l,e[58]=Y):Y=e[58];const Ce=Y;let ve;e[59]===Symbol.for("react.memo_cache_sentinel")?(ve={menuList:As,control:Ds},e[59]=ve):ve=e[59];let me;e[60]!==u?(me=y=>u([...y]),e[60]=u,e[61]=me):me=e[61];const Se=q!=="",be=v.isLoading||S;let je;return e[62]!==de||e[63]!==ge||e[64]!==Ce||e[65]!==K||e[66]!==ie||e[67]!==g||e[68]!==b||e[69]!==ae||e[70]!==R||e[71]!==D||e[72]!==i||e[73]!==me||e[74]!==Se||e[75]!==be||e[76]!==I?(je=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(js,{value:i,classNames:ve,onChange:me,onSearch:g,menuIsOpen:Se,inputValue:b,options:R,placeholder:D,trailingComponent:I,isLoading:be,noOptionsMessage:de,onCreateOption:K,isValidNewOption:ae,formatCreateLabel:ge,getMultiValueConfig:Ce,onKeyDown:ie})}),e[62]=de,e[63]=ge,e[64]=Ce,e[65]=K,e[66]=ie,e[67]=g,e[68]=b,e[69]=ae,e[70]=R,e[71]=D,e[72]=i,e[73]=me,e[74]=Se,e[75]=be,e[76]=I,e[77]=je):je=e[77],je}function Ds(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-1! cursor-text!"}function As(){return"bg-token-bg-primary"}function Ts(t){const e=new Set,n=[];for(const a of t){const r=a.toLowerCase();e.has(r)||(e.add(r),n.push(r))}return n}function Vs(t){"use forget";const e=fe.c(15),{capabilities:n,setCapabilities:a,emails:r,setEmails:i}=t,u=he();let o;e[0]!==r?(o=r.map(zs),e[0]=r,e[1]=o):o=e[1];const x=o;let m;e[2]!==i?(m=R=>{const M=R.map(Bs);i(Ts(M))},e[2]=i,e[3]=m):m=e[3];const l=m;let c;e[4]!==u?(c=u.formatMessage(F.shareProjectEmailPlaceholder),e[4]=u,e[5]=c):c=e[5];const f=c,h=Us;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S={menuList:$s,control:Ws},e[6]=S):S=e[6];let g;e[7]!==n||e[8]!==a?(g=s.jsx(Fe,{capabilities:n,onChange:a,triggerClassNames:"text-token-text-secondary"}),e[7]=n,e[8]=a,e[9]=g):g=e[9];let b;return e[10]!==x||e[11]!==l||e[12]!==f||e[13]!==g?(b=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(os,{value:x,onChange:l,placeholder:f,classNames:S,trailingComponent:g,shouldShowTrailingComponent:h})}),e[10]=x,e[11]=l,e[12]=f,e[13]=g,e[14]=b):b=e[14],b}function Ws(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-0! cursor-text!"}function $s(){return"bg-token-bg-primary"}function Us(t,e){return t&&t.length>0?!0:!!(e&&_e.test(e))}function Bs(t){return t.value}function zs(t){return is(t!=null?t:"")}const qs=H(()=>G(()=>import("./mpmpsfijpnedwcl4.js"),__vite__mapDeps([10,1,0,2,7,8])).then(t=>t.ShareOutsideWorkspaceConfirmModal)),kt=H(()=>G(()=>import("./ooz2slmm8agf6bjp.js").then(t=>t._),__vite__mapDeps([11,1])),{loading:t=>oe(t)}),Ks=H(()=>G(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([6,1])),{loading:t=>oe(t)}),wt=H(()=>G(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yv),__vite__mapDeps([7,1,0,2,8])),{loading:t=>oe(t)}),Qs=H(()=>G(()=>import("./luswc49dwcmlqecs.js").then(t=>t._),__vite__mapDeps([12,1])),{loading:t=>oe(t)}),Ct=H(()=>G(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yA),__vite__mapDeps([7,1,0,2,8])),{loading:t=>oe(t)}),St=H(()=>G(()=>import("./gsyp9a9fup59ufmh.js").then(t=>t._),__vite__mapDeps([13,1])),{loading:t=>oe(t)}),Fs=H(()=>G(()=>import("./mytnxs3zwbflla4u.js"),__vite__mapDeps([3,1])).then(t=>t.DirectorySyncResourceManagedIndication));function Et(t,e){return t===void 0||e===void 0?!1:t.split("__")[0]===e.split("__")[0]}function Gs(t,e){return t===void 0||e===void 0?!1:T(t)===T(e)}function dt(t,e){return Et(t==null?void 0:t.user_id,e==null?void 0:e.id)||Gs(t==null?void 0:t.user_email,e==null?void 0:e.email)}function Hs(t,e){const n=new Set,a=new Set,r=new Set,i=new Set,u=[...t];for(const o of t)o.type===O.USER?n.add(o.user_id):o.type===O.EMAIL?r.add(o.user_email):o.type===O.GROUP?a.add(o.group_id):i.add(o.type);for(const o of e)if(o.type===O.EMAIL){if(r.has(o.user_email))continue;r.add(o.user_email),u.push(o)}else if(o.type===O.USER){if(n.has(o.user_id))continue;n.add(o.user_id),u.push(o)}else if(o.type===O.GROUP){if(a.has(o.group_id))continue;a.add(o.group_id),u.push(o)}else{if(i.has(o.type))continue;i.add(o.type),u.push(o)}return u}function Js(t,e){const n=t.filter(a=>es(a));return e!=null&&n.push(e),n}function Xs(t){return t.some(e=>e.type===O.ALL)?Be.Link:t.some(e=>e.type===O.WORKSPACE)?Be.WorkspaceLink:Be.Private}function Pe(t){var e,n,a,r,i;return t.type===O.GROUP?(n=(e=t.group_name)!=null?e:t.group_id)!=null?n:"Unknown group":(i=(r=(a=t.user_name)!=null?a:t.user_email)!=null?r:t.user_id)!=null?i:"Unknown user"}function Zs(t){return t?t.filter(e=>e.status===Bt.VERIFIED&&!!e.hostname).map(e=>e.hostname.toLowerCase()):[]}function Ys({subjects:t,allowExternalDomainInvites:e,normalizedVerifiedDomainHostnames:n,workspaceMembersByEmailRef:a}){var x,m;const r=[],i=new Set;let u=!1;const o=n.length>0;for(const l of t){if(l.kind!=="email")continue;const c=T(l.id),f=(m=(x=l.id.split("@")[1])==null?void 0:x.toLowerCase())!=null?m:"",h=a.current.has(c),S=f!==""&&o&&n.includes(f);if(e===!1&&!h&&(f!==""&&!S)){u=!0;continue}i.has(c)||(i.add(c),r.push(l.id))}return{uniquePendingExternalEmails:r,hasBlockedExternalEmails:u}}function en(t){switch(t){case O.ALL:return"link";case O.WORKSPACE:return"workspaceLink";default:return"invite"}}function It(t){"use forget";const e=fe.c(4),{subjectType:n,workspaceName:a}=t;if(n===O.ALL){let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(L,{id:"Mr1Pk0",defaultMessage:"Anyone with a link"}),e[0]=i):i=e[0],i}if(n===O.WORKSPACE){let i;return e[1]!==a?(i=s.jsx(L,{id:"okIeDq",defaultMessage:"Anyone at {workspaceName} with the link",values:{workspaceName:a}}),e[1]=a,e[2]=i):i=e[2],i}let r;return e[3]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(L,{id:"fAE/rP",defaultMessage:"Only those invited"}),e[3]=r):r=e[3],r}const ut=t=>e=>{var n,a;return e.kind==="user"?{type:O.USER,user_id:e.id,user_name:e.label,user_email:(n=e.sublabel)!=null?n:"",avatar_url:(a=e.avatarUrl)!=null?a:null,capabilities:t}:{type:O.GROUP,group_id:e.id,group_name:e.label,is_scim_managed:!!e.isScimManaged,capabilities:t}},mt=t=>e=>({type:O.EMAIL,user_email:e,capabilities:t});function _n({gizmo:t,publishedGizmo:e,onClose:n}){"use no forget";var ee,xe,Le,We,Ee,Ie,Ge,He;const a=ht(),r=he(),i=xt(),u=Dt(a),o=pt(),x=z.useRef(new Map),m=o==null?void 0:o.id,l=(ee=u==null?void 0:u.isWorkspaceAccount())!=null?ee:!1,c=At(),f=r.formatMessage({id:"nJUofg",defaultMessage:"your workspace"}),h=(xe=o==null?void 0:o.name)!=null?xe:f,S=Gt(),[g,b]=z.useState((We=(Le=t.sharing)==null?void 0:Le.subjects)!=null?We:[]),R=z.useMemo(()=>{const p=new Set;for(const k of g)(k.type===O.USER&&k.user_email||k.type===O.EMAIL)&&p.add(T(k.user_email));const E=e.gizmo.author.user_email;return E&&p.add(T(E)),p},[g,e.gizmo.author.user_email]),[M,P]=z.useState(!1),d=Nt(),{canEdit:_}=Tt(e);z.useEffect(()=>{d.invalidateQueries({queryKey:Vt(d,e.gizmo.id).queryKey})},[e.gizmo.id,d]);const v=p=>{if(p.type===O.USER&&p.user_id.indexOf("__")===-1){const E=u==null?void 0:u.getWorkspaceId();return ce(Q({},p),{user_id:E!=null&&E.length>0?"".concat(p.user_id,"__").concat(E):p.user_id})}return p},w=async(p,E,k)=>{var Me,ke;if(M)return;P(!0);const V=E?k.map(v):k,pe=Xs(V);try{const we=await S.mutateAsync({id:p,update:{sharing:{recipient:pe,subjects:V}}});we!=null&&we.resource&&b(Xt(we.resource).sharing.subjects)}catch(we){const $e=qt(we);i.warning($e!=null?$e:"Error",{duration:2}),b((ke=(Me=t.sharing)==null?void 0:Me.subjects)!=null?ke:[])}P(!1),d.invalidateQueries({queryKey:["gizmos"]}),d.refetchQueries({queryKey:["gizmos","discovery"]}),d.refetchQueries({queryKey:["gizmo",{gizmoId:p}]}),d.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:p}]}),d.invalidateQueries({queryKey:["workspace"]}),et.count(tt.PROJECTS,"snorlax_share_project_modal_invited_users",{is_workspace_sharing:E?"true":"false",num_users_invited:k.length.toString(),recipient:pe})},D=Et(e.gizmo.author.user_id.split("__")[0],c==null?void 0:c.id),C=_t(g),q=(C==null?void 0:C.type)!==O.WORKSPACE&&(C==null?void 0:C.type)!==O.ALL,J=q?kt:l?St:wt,$=s.jsx(L,{id:"wDjvNM",defaultMessage:"Only the owner can change permissions. Contact them if you'd like to update someone's access."}),B=s.jsx(De,{label:$,side:"top",children:s.jsx(It,{subjectType:C==null?void 0:C.type,workspaceName:h})}),te=p=>s.jsx(De,{label:$,side:"top",children:s.jsx("span",{className:"text-token-text-primary pe-4 text-sm",children:s.jsx(L,Q({},Ve(p.capabilities)))})}),N=H(()=>G(()=>import("./mm3tthua8vl6qps5.js"),__vite__mapDeps([14,1,0,2])).then(p=>p.SnorlaxRemoveUserConfirmationModal)),ne=p=>s.jsxs(A.Root,{children:[s.jsxs(A.Trigger,{color:"secondary",className:"text-token-text-primary text-normal hover:bg-token-interactive-bg-secondary-hover radix-state-open:bg-token-interactive-bg-secondary-press whitespace-nowrap",disabled:M,children:[s.jsx(L,Q({},Ve(p.capabilities))),s.jsx(Ct,{className:"icon-sm"})]}),s.jsx(A.Portal,{children:s.jsxs(A.Content,{className:"max-w-[320px]",children:[s.jsx(A.RadioGroup,{value:Ms(p.capabilities),onValueChange:E=>{const k=g.map(V=>V===p?ce(Q({},V),{capabilities:E==="edit"?Ae:ye}):V);b(k),w(e.gizmo.id,l,k)},children:[ye,Ae].map((E,k)=>s.jsx(bt,{capabilities:E,selected:ft(E,p.capabilities)},k))}),s.jsx(A.Item,{onClick:()=>{var k;const E=it(p);st(a,N,{label:(k=E==null?void 0:E.label)!=null?k:E==null?void 0:E.sublabel,projectName:e.gizmo.display.name,onConfirm:async()=>{const V=g.filter(pe=>pe!==p);b(V),await w(e.gizmo.id,l,V),nt(a,N)},onClose:()=>nt(a,N)})},color:"danger",icon:Qs,children:s.jsx(L,{id:"HEaMqG",defaultMessage:"Remove from project"})})]})})]}),[U,se]=z.useState(ye),[K,X]=z.useState([]),[ae,re]=z.useState([]),ge=K.length>0||ae.length>0,{data:Z}=Ht(m!=null?m:void 0,m!=null),de=Z==null?void 0:Z.allow_external_domain_invites,le=Zs(Z==null?void 0:Z.domains),{uniquePendingExternalEmails:ie,hasBlockedExternalEmails:ue}=Ys({subjects:K,allowExternalDomainInvites:de,normalizedVerifiedDomainHostnames:le,workspaceMembersByEmailRef:x}),I=l&&Wt(a,"1585040960").get("enabled",!1),Y=p=>{!I||p<=0||Re.logEventWithStatsig("Share Project: Workspace Invite Sent","chatgpt_share_project_workspace_invite_sent",Q({invite_count:p,project_id:e.gizmo.id},m?{workspace_account_id:m}:{}))},Ce=async p=>{if(!m||p.length===0)return;const E=r.formatMessage({id:"v0nBhH",defaultMessage:"We couldn't send those workspace invites. Try again."});try{const{errored_emails:k=[]}=await gt.safePost("/accounts/{account_id}/invites",{parameters:{path:{account_id:m}},requestBody:{email_addresses:p,role:Kt.STANDARD,resend_emails:!1}});if(k.length>0){const V=r.formatMessage({id:"+HIh5u",defaultMessage:"We couldn't invite: {emails}."},{emails:k.map(pe=>pe.email_address).join(", ")});throw new Error(V)}}catch(k){const V=k instanceof Error&&k.message?k.message:E;throw i.danger(V,{loggingTitle:V,loggingDescription:k instanceof Error?k.message:void 0,toastId:"share-project-workspace-invite"}),k}},ve=async()=>{const E=l?(V=>{if(I){const pe=[],Me=[];for(const ke of V)ke.kind==="email"?Me.push(ke.id):pe.push(ke);return[...pe.map(ut(U)),...Me.map(mt(U))]}return V.map(ut(U))})(K):ae.map(mt(U)),k=Hs(g,E);b(k),await w(e.gizmo.id,l,k),re([]),X([])},me=M||I&&ue,Se=async()=>{await Ce(ie),Y(ie.length);const p=new Set(ie.map(E=>T(E)));X(E=>E.filter(V=>V.kind!=="email"?!0:!p.has(T(V.id))))},be=async()=>{if(I&&ie.length>0){st(a,qs,{emails:ie,workspaceName:h,onSend:async()=>{await Se()}});return}await ve()},je=()=>{X([]),re([])},y=s.jsx(Ue,{color:"secondary",disabled:M,onClick:je,children:s.jsx(L,{id:"Pxo4Mv",defaultMessage:"Cancel"})}),j=l?s.jsx("div",{className:"text-token-text-secondary flex text-xs",children:s.jsx(L,{id:"uAtWCq",defaultMessage:"Project files, chats, and instructions are shared."})}):null,W=ge&&_?l?s.jsxs("div",{className:"flex items-center gap-2",children:[y,s.jsx(Ue,{color:"blue",disabled:me,loading:M,onClick:be,children:s.jsx(L,{id:"BdwAiM",defaultMessage:"Invite"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[y,s.jsx(Ue,{color:"blue",disabled:me,loading:M,onClick:be,children:s.jsx(L,{id:"n1mfg+",defaultMessage:"Invite"})})]}):s.jsx(sn,{gizmo:e,isBusinessWorkspace:l});return z.useEffect(()=>{et.count(tt.PROJECTS,"snorlax_share_project_modal_opened")},[]),s.jsx($t,{testId:"modal-share-project",type:"success",className:"max-w-[512px]",size:"custom",isOpen:!0,onClose:n,footerContent:j,footerClassName:"mt-5 sm:mt-4",modalActionsClassName:"mt-0!",footerIsSpacedBetween:!0,primaryButton:W,title:r.formatMessage(F.projectShareTitle),showCloseButton:!0,children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[_&&(l?I?s.jsx(Rs,{publishedGizmo:e,capabilities:U,setCapabilities:se,subjects:K,setSubjects:X,existingMemberEmails:R,allowExternalDomainInvites:de,normalizedVerifiedDomainHostnames:le,workspaceMembersByEmailRef:x}):s.jsx(Os,{publishedGizmo:e,capabilities:U,setCapabilities:se,subjects:K,setSubjects:X,workspaceMembersByEmailRef:x}):s.jsx(Vs,{capabilities:U,setCapabilities:se,emails:ae,setEmails:re})),s.jsx("div",{className:"text-token-text-secondary mb-2 text-sm font-normal",children:s.jsx(L,{id:"eMoeS0",defaultMessage:"Who has access"})}),s.jsxs(Jt,{className:"max-h-[220px] overflow-y-auto",children:[s.jsx(Qe,{icon:s.jsx("div",{className:"flex h-6 w-6 items-center justify-center",children:s.jsx(J,{className:q?"h-5 w-5":"h-6 w-6"})}),children:D?s.jsx(nn,{newSharingSubjects:g,setNewSharingSubjects:b,saveProject:w,publishedGizmo:e,isBusinessWorkspace:l,isSaving:M,workspaceName:h}):B}),s.jsx(Qe,{icon:s.jsx(at,{monogram:{id:(Ee=e.gizmo.author.user_id)!=null?Ee:"Owner",label:(Ie=e.gizmo.author.display_name)!=null?Ie:"User",sublabel:e.gizmo.author.user_email},showTooltip:!l}),trailing:s.jsx("span",{className:"text-token-text-primary pe-4 text-sm",children:s.jsx(L,{id:"qb439J",defaultMessage:"Owner"})}),children:D?s.jsx(L,{id:"I6hNog",defaultMessage:"{userName} {you}",values:{userName:(Ge=c==null?void 0:c.name)!=null?Ge:c==null?void 0:c.email,you:s.jsx("span",{className:"text-token-text-secondary",children:s.jsx(L,{id:"VZNoWp",defaultMessage:"(you)"})})}}):(He=e.gizmo.author.display_name)!=null?He:e.gizmo.author.user_email}),g.map((p,E)=>{var V;const k=p.type===O.EMAIL;return Ut(p)&&s.jsx(Qe,{icon:s.jsx(at,{monogram:it(p),showTooltip:(p==null?void 0:p.user_name)&&(p==null?void 0:p.user_email)}),trailing:D?ne(p):te(p),disabled:k,children:s.jsxs("div",{className:"flex flex-col justify-center",children:[l&&s.jsxs("span",{className:"flex flex-row items-center",children:[s.jsx("span",{className:Oe("truncate text-sm leading-tight",k?"text-token-text-secondary":"text-token-text-primary"),children:p.type===O.GROUP?p.group_name:k?Pe(p):s.jsx(L,{id:"B3bf3E",defaultMessage:"{userName} {you}",values:{userName:Pe(p),you:dt(p,c)?s.jsx("span",{className:"text-token-text-secondary",children:s.jsx(L,{id:"VZNoWp",defaultMessage:"(you)"})}):null}})}),p.type===O.GROUP&&p.is_scim_managed&&s.jsx(Fs,{})]}),!l&&s.jsx("span",{className:Oe("group-data-[disabled]/sharing-row:text-token-text-tertiary truncate text-sm leading-tight",k?"text-token-text-secondary":"text-token-text-primary"),children:dt(p,c)?s.jsx(L,{id:"hxmjY2",defaultMessage:"{user} {you}",values:{user:Pe(p),you:s.jsx("span",{className:"text-token-text-secondary group-data-[disabled]/sharing-row:text-token-text-tertiary",children:s.jsx(L,{id:"VZNoWp",defaultMessage:"(you)"})})}}):k?s.jsx(L,{id:"L+nbVd",defaultMessage:"{email} {maybe_invite_sent}",values:{email:(V=p.user_email)!=null?V:Pe(p),maybe_invite_sent:s.jsx("span",{className:"text-token-text-secondary group-data-[disabled]/sharing-row:text-token-text-tertiary",children:s.jsx(L,{id:"FkuKTS",defaultMessage:"(invite sent)"})})}}):Pe(p)})]})},E)}),s.jsx("hr",{className:"border-token-border-light sticky bottom-0 hidden group-data-scrolled-from-end/scrollport:block"})]}),!l&&s.jsx(tn,{})]})})}function tn(){return s.jsxs("div",{className:"bg-token-bg-tertiary flex flex-row items-center gap-3 rounded-xl p-3",children:[s.jsx(Ks,{className:"icon text-token-text-secondary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-token-text-primary text-xs font-medium",children:s.jsx(L,{id:"pD1bmW",defaultMessage:"This project may include personal information"})}),s.jsx("span",{className:"text-token-text-secondary text-xs",children:s.jsx(L,{id:"EonGo6",defaultMessage:"All project contents are visible to collaborators. Personal memories are disabled for shared projects."})})]})]})}function sn({gizmo:t,isBusinessWorkspace:e}){const n=ht(),a=xt(),r=Zt(n,t),i=t.gizmo.display.name;return s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"https://www.linkedin.com/shareArticle?url=".concat(encodeURIComponent(r),"&text=").concat(encodeURIComponent(i)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: LinkedIn Social Clicked","chatgpt_share_project_linkedin_social_clicked",{projectTitle:i})},children:s.jsx(ts,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})}),s.jsx("a",{href:"https://www.reddit.com/submit?url=".concat(encodeURIComponent(r),"&title=").concat(encodeURIComponent(i)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: Reddit Social Clicked","chatgpt_share_project_reddit_social_clicked",{projectTitle:i})},children:s.jsx(ss,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})}),s.jsx("a",{href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(r),"&text=").concat(encodeURIComponent(i)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: X Social Clicked","chatgpt_share_project_x_social_clicked",{projectTitle:i})},children:s.jsx(ns,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})})]}),s.jsx(as,{onClickCopy:u=>Yt(n,t,a,u)})]})}function nn({newSharingSubjects:t,setNewSharingSubjects:e,saveProject:n,publishedGizmo:a,isBusinessWorkspace:r,isSaving:i,workspaceName:u}){var f;const o=he(),x=(f=_t(t))==null?void 0:f.type,m=x===O.WORKSPACE,l=x===O.ALL,c=m||l;return s.jsxs(A.Root,{children:[s.jsx(De,{label:s.jsx(L,{id:"gWJtAX",defaultMessage:"Shared links give chat-only access. Users can be upgraded to edit access after joining."}),triggerAs:null,disabled:!c,side:"top",children:s.jsxs(A.Trigger,{className:"px-0","data-no-hover-bg":!0,disabled:i,children:[s.jsx(It,{subjectType:x,workspaceName:u}),s.jsx(Ct,{className:"icon-sm"})]})}),s.jsx(A.Portal,{children:s.jsx(A.Content,{children:s.jsxs(A.RadioGroup,{value:en(x),onValueChange:h=>{const S=Js(t,h==="link"?{type:O.ALL,capabilities:ye}:h==="workspaceLink"?{type:O.WORKSPACE,capabilities:ye}:null);e(S),n(a.gizmo.id,r,S)},children:[s.jsx(A.RadioItem,{icon:kt,value:"invite",label:o.formatMessage({id:"fAE/rP",defaultMessage:"Only those invited"}),trailing:s.jsx(A.RadioItemCheck,{}),color:c?"default":"selected"}),r&&s.jsx(A.RadioItem,{icon:St,value:"workspaceLink",label:o.formatMessage({id:"a6GwHG",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:u}),trailing:s.jsx(A.RadioItemCheck,{}),color:m?"selected":"default"}),!r&&s.jsx(A.RadioItem,{icon:wt,value:"link",label:o.formatMessage({id:"Mr1Pk0",defaultMessage:"Anyone with a link"}),trailing:s.jsx(A.RadioItemCheck,{}),color:l?"selected":"default"})]})})})]})}function Qe({icon:t,children:e,trailing:n,className:a="",disabled:r=!1}){return s.jsxs("div",{className:"mb-1 flex min-h-9 flex-row items-center justify-between space-x-2 ".concat(a," group/sharing-row"),"data-disabled":zt(r),children:[s.jsx("div",{className:"shrink-0 grow-0",children:t}),s.jsx("div",{className:"text-token-text-primary grow truncate text-sm",children:e}),n&&s.jsx("div",{children:n})]})}export{_n as ShareProjectModal};
//# sourceMappingURL=l4pli7qldeykp9cl.js.map
