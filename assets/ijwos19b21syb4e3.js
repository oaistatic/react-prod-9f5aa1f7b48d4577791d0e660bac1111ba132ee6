const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mbhfxri3syrb9rbq.js","assets/i8clt0mfz495j7ii.js","assets/kaxn2bizrxslkpa3.js","assets/ozne4j3oo0wdlmeq.js","assets/mdgmhl7nsma70wnx.js"])))=>i.map(i=>d[i]);
var B=Object.defineProperty;var G=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var V=(t,e,i)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,$=(t,e)=>{for(var i in e||(e={}))K.call(e,i)&&V(t,i,e[i]);if(G)for(var i of G(e))Z.call(e,i)&&V(t,i,e[i]);return t};import{c as U,e as Y,h as J,_ as E,j as s,f as Q}from"./i8clt0mfz495j7ii.js";import{d1 as X,d2 as ee,d3 as ae,d4 as te,d5 as ie,d6 as D,d7 as se}from"./j0yo6uv6652vva62.js";import{u as oe,bN as ne,H as re,o as w,L as C,T as O,P as H}from"./ghewn7l2ynbm32fm.js";import{L as q,S as le}from"./gkuhfrmysvpuw4uo.js";import{I as ce}from"./mh1u90j45tiq86ol.js";import"./ghnvrdqxofgwprfv.js";import"./hht3m8p9e0s4tqnx.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";const ge=w(()=>E(()=>import("./mbhfxri3syrb9rbq.js").then(t=>t._),__vite__mapDeps([0,1])),{loading:t=>C(t)}),de=w(()=>E(()=>import("./kaxn2bizrxslkpa3.js").then(t=>t._),__vite__mapDeps([2,1])),{loading:t=>C(t)}),_e=w(()=>E(()=>import("./ozne4j3oo0wdlmeq.js").then(t=>t._),__vite__mapDeps([3,1])),{loading:t=>C(t)}),he=w(()=>E(()=>import("./mdgmhl7nsma70wnx.js").then(t=>t._),__vite__mapDeps([4,1])),{loading:t=>C(t)}),me=5,Pe=t=>{"use forget";const e=U.c(34),{initialIndex:i,onClose:o,clientThreadId:y,currentModelId:M,includeArchived:W,visibilityFilter:z}=t,n=oe();let m;e[0]!==y||e[1]!==n?(m=ne(n,y),e[0]=y,e[1]=n,e[2]=m):m=e[2];const g=m,r=Y(),P=X();let u;e[3]!==n?(u=re(n).checkGate("1520205231"),e[3]=n,e[4]=u):u=e[4];const T=u,{archiveMutation:S}=ee(),j=J();let p;e[5]!==n?(p=ae(n),e[5]=n,e[6]=p):p=e[6];const b=p,{images:d,fetchNextPage:k,hasNextPage:L,isFetchingNextPage:N}=te(W,z);let x;e[7]!==k||e[8]!==L||e[9]!==d||e[10]!==N?(x=c=>{L&&c>=Math.max(0,d.length-me)&&!N&&k()},e[7]=k,e[8]=L,e[9]=d,e[10]=N,e[11]=x):x=e[11];const R=x;let v;e[12]!==g?(v=c=>ie($({conversation:g},c)),e[12]=g,e[13]=v):v=e[13];const A=v;let _;e[14]!==S||e[15]!==T||e[16]!==P||e[17]!==r||e[18]!==j||e[19]!==o||e[20]!==b?(_=s.jsx(q.LightboxHeaderActions,{children:c=>{const{activeImage:a}=c;return s.jsxs("div",{className:"flex gap-1 md:gap-2",children:[s.jsx(O,{label:r.formatMessage(l.openInChat),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:he,onClick:I=>{H.logEventWithStatsig("chatgpt_web_image_library_lightbox_image_open_in_chat_clicked","chatgpt_web_image_library_lightbox_image_open_in_chat_clicked"),I.preventDefault(),b.addClassToCurrentTransition(["from-lightbox"]),b.transitionToPage({type:"conversation",value:void 0},async()=>{o(),await j("/c/".concat(a==null?void 0:a.conversationId,"?message=").concat(a==null?void 0:a.messageId),{preventScrollReset:!0})})},"aria-label":r.formatMessage(l.openInChat)})}),T&&a&&s.jsx(O,{label:r.formatMessage(a.archived?l.unarchive:l.archive),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:a.archived?_e:de,onClick:()=>{H.logEventWithStatsig(a.archived?"chatgpt_web_image_library_lightbox_image_unarchive_clicked":"chatgpt_web_image_library_lightbox_image_archive_clicked",a.archived?"chatgpt_web_image_library_lightbox_image_unarchive_clicked":"chatgpt_web_image_library_lightbox_image_archive_clicked"),S.mutate({imageId:a.id,operation:a.archived?"unarchive":"archive"})},"aria-label":r.formatMessage(a.archived?l.unarchive:l.archive)})}),s.jsx(O,{label:r.formatMessage(l.download),triggerAs:null,children:s.jsx(D,{className:"aspect-square",icon:ge,onClick:()=>{var I,F;H.logEventWithStatsig("chatgpt_web_image_library_lightbox_image_download_clicked","chatgpt_web_image_library_lightbox_image_download_clicked"),se({url:(I=a==null?void 0:a.url)!=null?I:"",fileName:"".concat((F=a==null?void 0:a.title)!=null?F:r.formatMessage({id:"cYxKbe",defaultMessage:"My ChatGPT image"}),".png")})},"aria-label":r.formatMessage(l.download)})}),P()&&(a==null?void 0:a.messageId)&&s.jsx(le,{assetPointer:a.assetPointer,serverThreadId:a.conversationId,messageId:a.messageId})]})}}),e[14]=S,e[15]=T,e[16]=P,e[17]=r,e[18]=j,e[19]=o,e[20]=b,e[21]=_):_=e[21];let h;e[22]!==g.id||e[23]!==M||e[24]!==o||e[25]!==A?(h=s.jsx(q.Footer,{children:c=>{const{activeImage:a}=c;return s.jsx(ce,{clientThreadId:g.id,currentModelId:M,onRequestCompletion:A,onClose:o,activeImage:a})}}),e[22]=g.id,e[23]=M,e[24]=o,e[25]=A,e[26]=h):h=e[26];let f;return e[27]!==R||e[28]!==d||e[29]!==i||e[30]!==o||e[31]!==_||e[32]!==h?(f=s.jsxs(q.Root,{images:d,initialIndex:i,onClose:o,onIndexChange:R,children:[_,h]}),e[27]=R,e[28]=d,e[29]=i,e[30]=o,e[31]=_,e[32]=h,e[33]=f):f=e[33],f},l=Q({download:{id:"Z23tMl",defaultMessage:"Download image"},openInChat:{id:"Eh8G/f",defaultMessage:"Open in Chat"},archive:{id:"yOqxdz",defaultMessage:"Hide image"},unarchive:{id:"yEUKZl",defaultMessage:"Show image"}});export{Pe as ImageGenLibraryLightboxNew};
//# sourceMappingURL=ijwos19b21syb4e3.js.map
