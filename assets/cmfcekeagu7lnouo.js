var R=Object.defineProperty;var k=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var A=(o,e,t)=>e in o?R(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,$=(o,e)=>{for(var t in e||(e={}))J.call(e,t)&&A(o,t,e[t]);if(k)for(var t of k(e))K.call(e,t)&&A(o,t,e[t]);return o};import{c as O,j as n,r as H}from"./i8clt0mfz495j7ii.js";import{u as q,bN as D,a as G,cJ as U,d as V,mL as W,cN as z,c5 as X,m$ as Y,mM as Z,C as ee,lS as te}from"./ghewn7l2ynbm32fm.js";import{T as se}from"./fn0h0oidnzmutllx.js";import{de as oe,ci as ne,a as re,g as ae,df as ie}from"./j0yo6uv6652vva62.js";const le=o=>{"use forget";const e=O.c(3);let t,s;e[0]!==o?(t=()=>{var l,d;(d=(l=window==null?void 0:window.history)==null?void 0:l.state)!=null&&d.pulseModalOpen||window.history.pushState({pulseModalOpen:!0},"",window.location.href);const i=()=>{var c,u;(u=(c=window==null?void 0:window.history)==null?void 0:c.state)!=null&&u.pulseModalOpen||o()};return window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)}},s=[o],e[0]=o,e[1]=t,e[2]=s):(t=e[1],s=e[2]),H.useEffect(t,s)},de=o=>{"use forget";const e=O.c(41),{onClose:t,clientThreadId:s,testId:i,title:l,contentClassName:d,headerAccessory:c,threadContent:u,shouldScrollToBottom:E,transparentHeader:_}=o,M=E===void 0?!1:E,Q=_===void 0?!1:_,a=q();let C;e[0]!==s||e[1]!==a?(C=D(a,s),e[0]=s,e[1]=a,e[2]=C):C=e[2];const r=C,F=G(ce),w=!!ne.useCurrentImage();le(t);let b;e[3]!==w||e[4]!==t?(b=()=>{w||t()},e[3]=w,e[4]=t,e[5]=b):b=e[5];const P=b;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S={kind:U.PrimaryAssistant},e[6]=S):S=e[6];let T;e[7]!==M?(T={shouldScrollToBottom:M,disableConversationNavigation:!0},e[7]=M,e[8]=T):T=e[8],re(s,S,T);let I,j;e[9]!==s||e[10]!==a?(I=()=>(z.retainThread(s),()=>{setTimeout(()=>{X(a).invalidateQueries(ae({clientThreadId:s}))},0),z.releaseThread(s)}),j=[s,a],e[9]=s,e[10]=a,e[11]=I,e[12]=j):(I=e[11],j=e[12]),H.useEffect(I,j);const N=!w,B=F?"fullscreen":"custom",L=Q&&"fixed w-full z-50 bg-transparent";let m;e[13]!==L?(m=V("pe-4 ps-4 pt-4",L),e[13]=L,e[14]=m):m=e[14];let f;e[15]!==l?(f=n.jsx("div",{className:"text-base font-medium",children:l}),e[15]=l,e[16]=f):f=e[16];let h;e[17]!==r?(h=n.jsx(se,{conversation:r,allowAnyScreenSize:!0}),e[17]=r,e[18]=h):h=e[18];let x;e[19]!==r||e[20]!==h||e[21]!==u?(x=n.jsx(Y,{children:n.jsxs(Z,{conversation:r,children:[u,h]})}),e[19]=r,e[20]=h,e[21]=u,e[22]=x):x=e[22];let p;e[23]!==r||e[24]!==x?(p=n.jsx(W.Provider,{value:r,children:x}),e[23]=r,e[24]=x,e[25]=p):p=e[25];let g;e[26]!==d||e[27]!==P||e[28]!==c||e[29]!==B||e[30]!==m||e[31]!==f||e[32]!==p||e[33]!==N||e[34]!==i?(g=n.jsx(ee,{testId:i,isOpen:N,onClose:P,size:B,className:"bg-token-bg-primary w-full max-w-7xl rounded-none rounded-b-none border-none sm:rounded-t-3xl",contentContainerClassName:"!grid-cols-[28px_1fr_28px] !grid-rows-[28px_1fr]",noPadding:!0,position:"bottom",removeBackground:!0,shadow:void 0,showCloseButton:!0,textCenter:!0,closeButtonSide:"left",headerAccessory:c,headerClassName:m,contentClassName:d,title:f,children:p}),e[26]=d,e[27]=P,e[28]=c,e[29]=B,e[30]=m,e[31]=f,e[32]=p,e[33]=N,e[34]=i,e[35]=g):g=e[35];let v;e[36]!==s?(v=n.jsx(ie,{clientThreadId:s}),e[36]=s,e[37]=v):v=e[37];let y;return e[38]!==g||e[39]!==v?(y=n.jsxs(n.Fragment,{children:[g,v]}),e[38]=g,e[39]=v,e[40]=y):y=e[40],y},pe=o=>{"use forget";const e=O.c(5);let t;e[0]!==o?(t=n.jsx(de,$({},o)),e[0]=o,e[1]=t):t=e[1];let s;return e[2]!==o.clientThreadId||e[3]!==t?(s=n.jsx(oe,{clientThreadId:o.clientThreadId,children:t}),e[2]=o.clientThreadId,e[3]=t,e[4]=s):s=e[4],s};function ce(){return!te()}export{pe as P};
//# sourceMappingURL=cmfcekeagu7lnouo.js.map
