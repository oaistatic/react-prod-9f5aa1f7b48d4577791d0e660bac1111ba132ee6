var w=Object.defineProperty,E=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var P=(a,t,e)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,h=(a,t)=>{for(var e in t||(t={}))S.call(t,e)&&P(a,e,t[e]);if(f)for(var e of f(t))T.call(t,e)&&P(a,e,t[e]);return a},y=(a,t)=>E(a,x(t));import{A as b,m as v,h as L,ab as j,r as c,af as k,j as n,f as F}from"./i8clt0mfz495j7ii.js";import{a$ as K,aR as N}from"./j0yo6uv6652vva62.js";import{C as A,i as l,a as C}from"./e2bky2k6amgws3b2.js";import{A as U}from"./jazk8nkug8tgfqml.js";import{aG as D,B as I,u as q,h as G,b0 as z,w as B,x as H,jB as $,P as V}from"./ghewn7l2ynbm32fm.js";import"./kplnfohfof8ely0n.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./iej0cupg2dqkmejt.js";import"./o1s10g7vrpyumh3e.js";import"./n8tfpmgkqe98i7yl.js";import"./mq11hu99eist2abq.js";import"./cx4oo5wqa9uf3in8.js";import"./fe1zgnccg3ea7jld.js";import"./ji1868fe7hk3rgcl.js";import"./izvx0vf35f3cqx26.js";import"./mtmwfv9ttg0ed53k.js";const M={pro:"chatgptpro",plus:"chatgptplusplan"},_={[C.SORA]:"sora_redirect",[C.OPERATOR]:"operator_redirect"};function Y(a){l(a)&&(window.location.href=A[a])}const ft=b(function(){const[t]=v(),e=L(),R=D(),{plan:s}=j(),o=t.get("checkout_from"),u=c.useRef(!1),r=I(),p=c.useMemo(()=>r==null?void 0:r.subscriptionAnalyticsParams,[r]),O=q(),i=G(O,"1719651090");if(!s||!(s in M))throw k("/");return c.useEffect(()=>{if(!r||u.current)return;if(u.current=!0,o==="vza493q"){r.hasPaidSubscription()&&r.isPro()?window.location.href=A[o]:i||e("/");return}(async()=>{const m=l(o)&&_[o]?_[o]:"purchase_plan_redirect";try{l(o)&&B.setItem(H.CheckoutFrom,o);const d=await K.getCheckoutLink({plan_name:M[s],billing_details:{currency:$}});V.logEvent("Account Pay: Purchase Plan Redirect",y(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){N(e,m)}})()},[e,R,s,o,p,i,r]),n.jsxs(n.Fragment,{children:[r&&o==="vza493q"&&i&&n.jsx(U,{currentAccount:r,onClose:()=>Y(o),subtitle:g.operatorModalSubtitle,title:g.operatorModalTitle}),n.jsx("div",{className:"flex h-full w-full items-center justify-center",children:n.jsx(z,{})})]})}),g=F({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{ft as default};
//# sourceMappingURL=gv1htsk01ieai8vl.js.map
