const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/n8qbc0log2m0cne7.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/j0yo6uv6652vva62.js","assets/conversation-small-lq38g8zw.css","assets/dwikchly7agkd2y3.js","assets/julkxv3pzs8k4gnq.js","assets/iguylefzk1dr51wi.js","assets/mbmcx8v24u1ao1ke.js","assets/ia54sddtrl9qa2wj.js","assets/fy6752fpzkgozktl.js","assets/ADAVisualizationComponent-kv1hz405.css"])))=>i.map(i=>d[i]);
var S=Object.freeze,O=Object.defineProperty;var V=(e,n)=>S(O(e,"raw",{value:S(n||e.slice())}));import{j as t,e as k,_ as W}from"./i8clt0mfz495j7ii.js";import{cn as I,o as w,b6 as D,b7 as v,F as L}from"./ghewn7l2ynbm32fm.js";import{u as N,g as P}from"./fy6752fpzkgozktl.js";import{bR as T,bZ as U,bO as c,bP as R,b_ as H}from"./j0yo6uv6652vva62.js";import{i as J,C as Z,g as B,a as G,b as K}from"./dwikchly7agkd2y3.js";const A=w(()=>W(()=>import("./n8qbc0log2m0cne7.js").then(e=>e.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(e=>e.default));function es({messages:e,isRequestActive:n,clientThreadId:d}){var y,C,b,_,M;const[l,s]=e,o=T(l),a=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=N(),u=U(),g=s?P(s):[],i=(_=(b=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:b.messages.filter(J))!=null?_:[],p=((M=g.filter(r=>r.type==="chart"))!=null?M:[]).length!==i.length,x=u&&!p;let m=c.Running;return(a==null?void 0:a.status)==="success"?m=c.Finished:s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?m=c.Error:(o||!n)&&(m=c.Stopped),t.jsxs(t.Fragment,{children:[t.jsx(Q,{messages:e,status:m,isRequestActive:n}),x&&g.map((r,j)=>{const{type:z}=r;return z==="chart"&&!h?(r.fallback_to_image=!0,t.jsx(E,{children:t.jsx(A,{clientThreadId:d,visualization:r})},j)):t.jsx(E,{children:t.jsx(A,{clientThreadId:d,visualization:r})},j)}),!x&&s!=null&&t.jsx(Z,{message:s})]})}var F;const E=L.div(F||(F=V(["mb-3 max-w-[80%]"])));function Q({messages:e,status:n,isRequestActive:d}){var f;const[l,s]=e,o=k(),a=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=T(l),{data:u,isLoading:g}=D(v.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((a==null?void 0:a.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=B(l)!=null;return t.jsx(R,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?t.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[t.jsx(G,{message:l,FormattedText:H,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&t.jsx(K,{message:s})]}):null})}return null}export{es as DataAnalysisMessage};
//# sourceMappingURL=n864pwpo94l1mcv4.js.map
