const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/gdj7aa3kvh4x8qzj.js","assets/c8sj5q0wb2w4qlno.js"])))=>i.map(i=>d[i]);
import{c as Ue,e as Fe,r as Ke,j as t,M as x,_ as he}from"./i8clt0mfz495j7ii.js";import{u as Ve,B as We,eI as Ae,eK as ze,lG as Xe,eG as Ye,hD as qe,ba as Qe,mQ as $e,es as Je,aT as pe,nN as He,d as Le,o as be,P as le,b0 as Ze,L as _e,lJ as et,nO as Re,aS as tt,aU as nt,aR as ot,$ as st,C as lt}from"./ghewn7l2ynbm32fm.js";import{cG as at,ba as Ge}from"./j0yo6uv6652vva62.js";const ct=be(()=>he(()=>import("./j0yo6uv6652vva62.js").then(l=>l.yq),__vite__mapDeps([0,1,2,3,4])),{loading:l=>_e(l)}),rt=be(()=>he(()=>import("./gdj7aa3kvh4x8qzj.js").then(l=>l._),__vite__mapDeps([5,1])),{loading:l=>_e(l)}),it=be(()=>he(()=>import("./c8sj5q0wb2w4qlno.js").then(l=>l._),__vite__mapDeps([6,1])),{loading:l=>_e(l)}),dt="https://cdn.openai.com/chatgpt/nux_background.png",Be=["Google Drive","SharePoint","Slack","Teams","Gmail","Outlook Email","Google Calendar","Outlook Calendar","Dropbox","Box"];function bt(l){"use forget";var Ce,Ne,ye,ke,ve,je,we,Te,Se,Ee,Ie,Me,Oe,Pe;const e=Ue.c(70),{onClose:c,onContinue:g}=l,U=Ve(),f=Fe(),P=We(),{platformConnectors:ae}=Ae(!0,void 0,void 0,!0);let F;e[0]===Symbol.for("react.memo_cache_sentinel")?(F={fetchValidLinksOnly:!0},e[0]=F):F=e[0];const{connectorLinks:K,isLoading:h}=ze(F);let V;e[1]===Symbol.for("react.memo_cache_sentinel")?(V={includeDisabledByAdmin:!1},e[1]=V):V=e[1];const{availableConnectors:ce,isLoading:b}=Xe(V),W=Ye(U),A=qe(),re=Qe(),{platformConnectors:ie}=Ae(!0),{mutateAsync:de,isSuccess:ue}=$e(),me=!W.length;let z;e[2]!==me?(z={skip:me},e[2]=me,e[3]=z):z=e[3];const{connectionInstanceData:r,refetch:fe}=Je(z);let X;e[4]===Symbol.for("react.memo_cache_sentinel")?(X=[],e[4]=X):X=e[4],Ke.useEffect(xt,X);let Y;e[5]!==P?(Y=P==null?void 0:P.getWorkspaceId(),e[5]=P,e[6]=Y):Y=e[6];const{totalsByConnectorId:q}=at(Y);r==null||r.connection_statuses;let Q;if(e[7]!==ce||e[8]!==(r==null?void 0:r.connection_statuses)||e[9]!==K||e[10]!==W||e[11]!==re||e[12]!==A||e[13]!==ie||e[14]!==ae||e[15]!==fe||e[16]!==q||e[17]!==de||e[18]!==ue){const s=new Map;for(const o of ce){const a=((Ce=K.get(o.id))!=null?Ce:[]).length>0,u=(Ne=q.get(o.id))!=null?Ne:0;s.set(o.id,{key:o.id,label:o.name,connected:a,isSync:!1,totalCount:u,icon:t.jsx(Ge,{connector:o,size:"small"}),onClick:a?void 0:()=>A({connectorId:o.id,noRedirect:!0,referrer:pe.CompanyKnowledgeNuxModal})})}const d=new Set(W),m=new Map;for(const o of(ye=r==null?void 0:r.connection_statuses)!=null?ye:[])m.set(o.user_connection_details.connection_type,o);for(const o of d){const n=m.get(o),a=He[o],u=ae.get(a),O=(je=(ve=u==null?void 0:u.name)!=null?ve:(ke=n==null?void 0:n.connection_display_info)==null?void 0:ke.display_name)!=null?je:"";if(!O||!a||!n)continue;const R=((Te=a&&((we=s.get(a))==null?void 0:we.connected))!=null?Te:!1)||(n==null?void 0:n.user_connection_details.auth_status)==="admin_connected"||(n==null?void 0:n.user_connection_details.auth_status)==="user_connected"||["partially_activated","activated","activating"].includes(n==null?void 0:n.user_connection_details.activation_status),p={key:o,label:O,connected:R,isSync:!0,totalCount:(Se=q.get(a))!=null?Se:0,icon:u?t.jsx(Ge,{connector:u,size:"small"}):t.jsx("img",{src:re&&((Ee=n==null?void 0:n.connection_display_info)!=null&&Ee.icon_dark_url)?(Ie=n==null?void 0:n.connection_display_info)==null?void 0:Ie.icon_dark_url:(Oe=(Me=n==null?void 0:n.connection_display_info)==null?void 0:Me.icon_url)!=null?Oe:"",alt:O,className:"icon-lg"}),onClick:R?void 0:()=>A({connectorId:a,noRedirect:!0,referrer:pe.CompanyKnowledgeNuxModal})};o===et.gdrive_sync_connector&&(p.connected=p.connected||ue,p.onClick=p.connected?void 0:async()=>{var B,D;const oe=(B=ie.get(Re))==null?void 0:B.id,G=(D=K.get(Re))==null?void 0:D.find(se=>se.connector_id===oe);G?(await de({link:G}),setTimeout(()=>{fe()},1e3)):A({connectorId:tt[nt.GDRIVE_ACTION_CONNECTOR],noRedirect:!0,referrer:pe.CompanyKnowledgeNuxModal})}),s.set(a,p)}Q=Array.from(s.values()),e[7]=ce,e[8]=r==null?void 0:r.connection_statuses,e[9]=K,e[10]=W,e[11]=re,e[12]=A,e[13]=ie,e[14]=ae,e[15]=fe,e[16]=q,e[17]=de,e[18]=ue,e[19]=Q}else Q=e[19];const xe=Q,De=ft;let L;if(e[20]!==xe){const s=new Map;for(const o of xe){const n=String((Pe=o.label)!=null?Pe:"").toLowerCase().trim(),a=s.get(n);s.set(n,a?De(a,o):o)}L=Array.from(s.values());let d;if(e[22]===Symbol.for("react.memo_cache_sentinel")){d=new Map;for(let o=0;o<Be.length;o++)d.set(Be[o].toLowerCase(),o);e[22]=d}else d=e[22];let m;e[23]===Symbol.for("react.memo_cache_sentinel")?(m=(o,n)=>{var ge,R,p,oe;if(o.connected!==n.connected)return Number(n.connected)-Number(o.connected);const a=Number((ge=o.totalCount)!=null?ge:0),u=Number((R=n.totalCount)!=null?R:0),O=a<=5&&u<=5;if(a!==u&&!O)return u-a;if(O){const G=d.get(String((p=o.label)!=null?p:"").toLowerCase()),B=d.get(String((oe=n.label)!=null?oe:"").toLowerCase()),D=typeof G=="number"?G:Number.POSITIVE_INFINITY,se=typeof B=="number"?B:Number.POSITIVE_INFINITY;if(D!==se)return D-se}return 0},e[23]=m):m=e[23],L.sort(m),e[20]=xe,e[21]=L}else L=e[21];const _=L;let $;e[24]!==_?($=_.filter(mt),e[24]=_,e[25]=$):$=e[25];const i=$.length;let C;e[26]!==f?(C=f.formatMessage({id:"0TM1Tc",defaultMessage:"Connectors onboarding illustration"}),e[26]=f,e[27]=C):C=e[27];let N;e[28]!==C?(N=t.jsx("img",{src:dt,alt:C,draggable:!1,className:"h-full w-full object-cover dark:brightness-90"}),e[28]=C,e[29]=N):N=e[29];let J;e[30]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/10 dark:to-black/40"}),e[30]=J):J=e[30];let H;e[31]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"max-w-[80%] rounded-full bg-black/80 px-5 py-2 text-base text-white shadow-md backdrop-blur supports-[backdrop-filter]:bg-black/70 dark:bg-white/20 dark:supports-[backdrop-filter]:bg-white/15",children:t.jsx(x,{id:"jNPss7",defaultMessage:"When is Project Atlas launching?"})}),e[31]=H):H=e[31];let Z;e[32]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(rt,{className:"icon","aria-hidden":!0}),e[32]=Z):Z=e[32];let ee;e[33]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs("div",{className:"text-token-text-secondary mb-3 flex items-center gap-2",children:[Z,t.jsx("span",{className:"text-token-text-secondary text-base font-medium",children:t.jsx(x,{id:"FRMrdb",defaultMessage:"Reading Google Drive"})})]}),e[33]=ee):ee=e[33];let te;e[34]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[J,t.jsxs("div",{className:"absolute start-6 end-6 bottom-[28%] flex flex-col items-end gap-5",children:[H,t.jsxs("div",{className:"text-token-text-primary w-full max-w-[720px] rounded-3xl bg-white/95 p-5 text-sm shadow-lg backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:bg-black/80 dark:supports-[backdrop-filter]:bg-black/60",children:[ee,t.jsx("p",{className:"text-base leading-6",children:t.jsx(x,{id:"oDcTBO",defaultMessage:"Project Atlas is slated to launch in early November 2025. The team is currently finishing up final integrations and security reviews, with the plan to begin rolling out access to internal users by the first week of November and expand more broadly later that month."})})]})]})]}),e[34]=te):te=e[34];let y;e[35]!==N?(y=t.jsx("div",{className:"relative h-full w-full shrink-0 p-3 max-[839px]:hidden md:w-1/2 md:p-4",children:t.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-2xl",children:[N,te]})}),e[35]=N,e[36]=y):y=e[36];let k;e[37]!==c?(k=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(ot,{className:"h-8 w-8",onClick:()=>{le.logEventWithStatsig("ChatGPT Connectors External NUX Modal Dismissed","chatgpt_connectors_external_nux_modal_dismissed"),c()}})}),e[37]=c,e[38]=k):k=e[38];let v;e[39]!==i?(v=t.jsx("div",{className:"text-2xl md:text-3xl",children:i>0?t.jsx(x,{id:"NxlP4G",defaultMessage:"Connect more apps"}):t.jsx(x,{id:"ot+js+",defaultMessage:"Set up company knowledge"})}),e[39]=i,e[40]=v):v=e[40];let j;e[41]!==i?(j=t.jsx("div",{className:"text-token-text-secondary mt-2 text-sm md:text-base",children:i>0?t.jsx(x,{id:"gSLeU2",defaultMessage:"Get better answers with more connected apps"}):t.jsx(x,{id:"oD3Kjc",defaultMessage:"Connect apps you use at work"})}),e[41]=i,e[42]=j):j=e[42];let w;e[43]!==v||e[44]!==j?(w=t.jsxs("div",{className:"px-6 pt-16 text-center",children:[v,j]}),e[43]=v,e[44]=j,e[45]=w):w=e[45];let T;e[46]!==i||e[47]!==b||e[48]!==h||e[49]!==c||e[50]!==g?(T=i>0?t.jsx(st,{color:"primary",disabled:b||h,onClick:()=>{g==null||g(),le.logEventWithStatsig("ChatGPT Connectors External NUX Modal Continued","chatgpt_connectors_external_nux_modal_continued",{count:i}),c()},children:t.jsx(x,{id:"xkm1Lg",defaultMessage:"{count, plural, one {Continue with # app} other {Continue with # apps}}",values:{count:i}})}):null,e[46]=i,e[47]=b,e[48]=h,e[49]=c,e[50]=g,e[51]=T):T=e[51];let S;e[52]!==T?(S=t.jsx("div",{className:"flex items-center justify-center px-6 py-4",children:T}),e[52]=T,e[53]=S):S=e[53];let E;e[54]!==f||e[55]!==b||e[56]!==h||e[57]!==_?(E=t.jsx("div",{className:"mx-6 grow overflow-auto rounded-2xl p-3",children:b||h?t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Array.from({length:6}).map(ut)}):t.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.map(s=>{var d;return t.jsxs("div",{className:Le("border-token-border-secondary group flex grow flex-col rounded-xl border p-3",s.onClick?"hover:bg-token-bg-tertiary cursor-pointer":""),onClick:()=>{var m;le.logEventWithStatsig("ChatGPT Connectors External NUX Modal Connectors Clicked","chatgpt_connectors_external_nux_modal_connectors_clicked",{type:s.isSync?"sync":"connector",name:s.label,count:s.totalCount,id:s.key}),(m=s.onClick)==null||m.call(s)},children:[t.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[t.jsx("div",{className:"h-6 w-6",children:s.icon}),typeof s.connected=="boolean"?t.jsx("div",{className:"bg-token-bg-tertiary h-5 w-5 rounded-full",children:t.jsx("div",{className:Le("flex h-full w-full items-center justify-center rounded-full",s.connected?"bg-blue-400":"bg-token-bg-tertiary group-hover:bg-token-bg-secondary"),children:s.connected?t.jsx(it,{className:"icon-xs fill-white"}):t.jsx(ct,{className:"icon-xs"})})}):null]}),t.jsx("div",{className:"text-token-text-primary mt-3 line-clamp-1 pt-2 text-sm",children:s.label}),s.totalCount>=5?t.jsx("div",{className:"text-token-text-tertiary line-clamp-1 text-xs",children:t.jsx(x,{id:"tbv8gz",defaultMessage:"{count} teammates",values:{count:f.formatNumber((d=s.totalCount)!=null?d:0)}})}):null]},s.key)})})}),e[54]=f,e[55]=b,e[56]=h,e[57]=_,e[58]=E):E=e[58];let I;e[59]!==k||e[60]!==w||e[61]!==S||e[62]!==E?(I=t.jsxs("div",{className:"flex grow flex-col pb-1 md:w-1/2 md:pb-2",children:[k,w,S,E]}),e[59]=k,e[60]=w,e[61]=S,e[62]=E,e[63]=I):I=e[63];let M;e[64]!==y||e[65]!==I?(M=t.jsxs("div",{className:"relative flex h-[600px] w-full flex-row overflow-hidden",children:[y,I]}),e[64]=y,e[65]=I,e[66]=M):M=e[66];let ne;return e[67]!==c||e[68]!==M?(ne=t.jsx(lt,{isOpen:!0,onClose:c,testId:"modal-connectors-onboarding",size:"custom",noPadding:!0,className:"max-w-[960px] overflow-hidden rounded-[32px]",children:M}),e[67]=c,e[68]=M,e[69]=ne):ne=e[69],ne}function ut(l,e){return t.jsxs("div",{className:"border-token-border-secondary flex grow flex-col gap-2 rounded-xl border p-3",children:[t.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[t.jsx("div",{className:"h-6 w-6",children:t.jsx(Ze,{})}),t.jsx("div",{className:"bg-token-bg-tertiary h-5 w-5 rounded-full"})]}),t.jsx("div",{className:"bg-token-bg-tertiary mt-3 h-4 w-24 rounded"})]},e)}function mt(l){return l.connected}function ft(l,e){var U,f;if(l.connected!==e.connected)return e.connected?e:l;if(l.isSync!==e.isSync)return e.isSync?e:l;const c=Number((U=l.totalCount)!=null?U:0),g=Number((f=e.totalCount)!=null?f:0);return c!==g&&g>c?e:l}function xt(){le.logEventWithStatsig("ChatGPT Connectors External NUX Modal Shown","chatgpt_connectors_external_nux_modal_shown")}export{bt as ConnectorsOnboardingModal};
//# sourceMappingURL=e9gtc6k4kfmwzcn1.js.map
