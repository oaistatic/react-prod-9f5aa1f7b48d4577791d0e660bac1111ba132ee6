var Se=Object.defineProperty,Re=Object.defineProperties;var De=Object.getOwnPropertyDescriptors;var zt=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var Pt=(n,t,e)=>t in n?Se(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,W=(n,t)=>{for(var e in t||(t={}))ve.call(t,e)&&Pt(n,e,t[e]);if(zt)for(var e of zt(t))Ae.call(t,e)&&Pt(n,e,t[e]);return n},et=(n,t)=>Re(n,De(t));var m=(n,t,e)=>Pt(n,typeof t!="symbol"?t+"":t,e);import{f as Ne,r as M,v as _e,y as Oe,j as st,e as Ie}from"./i8clt0mfz495j7ii.js";import{H as Le,q6 as $,rO as X,kV as q,rQ as Q,rP as I,d as lt,u9 as Ve,ua as Be,rV as ze,dv as He,dd as Fe,tN as se,ub as $e,uc as Ht,cE as Ke,en as Ue,rN as Ge,tM as We,ud as oe,ue as Xe,rT as re,uf as ie,ug as Ye,uh as qe,tR as ae,an as je,og as ce,ui as Ze,nT as Je,uj as Qe,mZ as tn,e as en,ba as nn,tH as sn,u as on,z as rn,aY as an,h as cn,a$ as ln}from"./ghewn7l2ynbm32fm.js";import{p as un,e as dn,o as Ft,k as hn,j as pn,n as fn,q as mn,r as gt,t as bt,a as le,d as gn,u as ue,g as yn,b as de,v as Cn}from"./kau2ug0899cbkpxh.js";import{L as wn,a as Dt,b as $t}from"./kz85ppopzltkr0hm.js";import{D as En,Z as kn}from"./ce3hgmw4iyyhicud.js";import{aI as Kt,kC as Pn,kD as bn,n4 as Z,wT as Mn,uf as vt,ug as he,wU as xn,aF as Tn}from"./j0yo6uv6652vva62.js";import{u as Sn}from"./mqebxepg7t6q2tie.js";import{T as Rn}from"./o9vew0btr2k0i59c.js";import{z as Dn,E as vn,C as Ut}from"./k1t8elp5z7nmkg2d.js";import{z as Gt,e as Wt,E as xt,n as An,B as Nn}from"./gdq1l97elemowxcc.js";import{g as rt,h as Mt,r as Xt,u as _n}from"./jyyjaseddjwyjwou.js";import{k as On}from"./lep2wptoy14cfe2w.js";import{h as In,u as Ln}from"./cb0ba83bmi83mjz2.js";import{a as Vn}from"./cxbsld3botts7bfn.js";import{f as Bn,u as zn,c as Hn}from"./iakvhqfu6nmvphq6.js";import{H as Fn}from"./dxyrjy681bkwlnj8.js";import{E as $n,k as Kn,l as Un}from"./6ji8ehbh56ghw0zw.js";const Gn=n=>Le(n).checkGate("924611523");function Wn(n,t){const e=[];return n.descendants((s,o)=>{s.marks.forEach(r=>{r.type===t&&e.push({from:o,to:o+s.nodeSize,mark:r})})}),e}function Xn(n,t,e){const s=t.mark.type,o=et(W({},t.mark.attrs),{disabled:e});return n.removeMark(t.from,t.to,s),n.addMark(t.from,t.to,s.create(o)),n}const At=new X("disableUnsafeLinks");function Yn(n,t){return n.setMeta(At,{safeUrls:t})}function qn(n){var t;return(t=n.getMeta(At))!=null?t:null}function jn(n=new Set){return new $({key:At,state:{init(t){return{safeUrls:n}},apply(t,e){const s=qn(t);if(s==null)return e;const{safeUrls:o}=s;return et(W({},e),{safeUrls:o})}},appendTransaction(t,e,s){const o=this.getState(s),r=s.tr,i=s.schema.marks[wn.proseMirrorMarkName()],a=Wn(s.doc,i);let c=!1;return a.forEach(l=>{const u=l.mark.attrs.href,h=o.safeUrls.has(u),g=l.mark.attrs.disabled===!0;h===g&&(Xn(r,l,!h),c=!0)}),c?r:null}})}const yt=new X("placeholder");function Zn(n,t){return n.setMeta(yt,{isDisabled:t})}function Jn(n){var t;return(t=n.getMeta(yt))!=null?t:null}function Qn(n,t=!1){return new $({key:yt,state:{init(){return{isDisabled:t}},apply(e,s){const o=Jn(e);return(o==null?void 0:o.isDisabled)!=null?et(W({},s),{isDisabled:o.isDisabled}):s}},props:{decorations(e){const{doc:s,selection:o}=e;if(yt.getState(e).isDisabled||!(o instanceof q&&o.empty))return null;const{$cursor:i}=o;if(!i||!n)return null;const a=i.start();if(!((i.parent.isTextblock||i.parent.type.name==="doc")&&i.pos===a&&i.node().content.size===0))return null;const l=Q.widget(a,()=>{const u=document.createTextNode(n.formatMessage(ts.placeholder)),h=document.createElement("span");return h.className="text-token-text-tertiary dark:text-gray-500 pointer-events-none select-none",h.style.position="absolute",h.appendChild(u),h});return I.create(s,[l])}}})}const ts=Ne({placeholder:{id:"n2B51U",defaultMessage:"Write something..."}}),es={"override-strong-color":"_override-strong-color_y6grp_1"};function pe({isHovered:n,isRejected:t,isTextAcive:e}){return lt({"line-through":!e,"filter grayscale-[0.6]":t,"opacity-60":t,"bg-opacity-50 dark:bg-opacity-50":t,"bg-opacity-10 dark:bg-opacity-10":t,"bg-opacity-60 dark:bg-opacity-60":!n})}function ns({isHovered:n,isRejected:t,isReplacement:e}){return lt("bg-red-100 dark:bg-red-600",pe({isHovered:n,isRejected:t,isTextAcive:t}),{"dark:bg-red-800":t,"text-red-500 dark:text-red-200":!t,"border border-red-400 rounded-s border-e-0":t,"border border-red-400 rounded-sm":t})}function ss({isHovered:n,isRejected:t,isReplacement:e}){const s=!t;return lt(es["override-strong-color"],"text-green-600 dark:text-green-200 bg-green-100 dark:bg-green-600",pe({isHovered:n,isRejected:t,isTextAcive:s}),{"dark:bg-green-800":t,"border border-green-500 rounded-e border-s-0":t,"border border-green-500 rounded-sm":t})}const Tt=new X("edit"),Yt=(n,t,e,s)=>{const o=[];for(const{start:r,end:i,editId:a}of t)o.push(Q.inline(r,i,{class:ns({isHovered:!1,isRejected:!1,isReplacement:!1}),"data-edit-id":a}));for(const{start:r,end:i,editId:a}of n)o.push(Q.inline(r,i,{class:ss({isHovered:!1,isRejected:!1,isReplacement:!0}),"data-edit-id":a}));return o},os=(n,t)=>new $({key:Tt,state:{init(){const s=new Set;return{decorations:Yt(n,t),hoveredEditId:null,rejectedEdits:s}},apply(e,s){var a;const o=(a=e.getMeta(Tt))!=null?a:null,{hoveredEditId:r,rejectedEdits:i}=o!=null?o:s;return{decorations:Yt(n,t),hoveredEditId:r,rejectedEdits:i}}},props:{decorations(e){const s=this.getState(e);return s?I.create(e.doc,s.decorations.concat()):I.empty},editable(){return!1},attributes(){return{class:"cursor-default",style:"--text-primary:var(--text-secondary)"}}}}),ot=class ot{constructor(t,e){this.length=t,this.step=e}cut(t){return t===this.length?this:new ot(t,this.step)}static slice(t,e,s){if(e===s)return ot.none;if(e===0&&s===ot.len(t))return t;const o=[];for(let r=0,i=0;i<s;r++){const a=t[r],c=i+a.length,l=Math.min(s,c)-Math.max(e,i);l>0&&o.push(a.cut(l)),i=c}return o}static join(t,e,s){if(t.length===0)return e;if(e.length===0)return t;const o=s(t[t.length-1].step,e[0].step);if(o==null)return t.concat(e);const r=t.slice(0,t.length-1);r.push(new ot(t[t.length-1].length+e[0].length,o));for(const i of e)r.push(i);return r}static len(t){let e=0;for(const s of t)e+=s.length;return e}};m(ot,"none",[]);let at=ot;class rs{constructor(t,e,s,o,r,i){this.fromA=t,this.toA=e,this.fromB=s,this.toB=o,this.deleted=r,this.inserted=i}get lenA(){return this.toA-this.fromA}get lenB(){return this.toB-this.fromB}}const qt=(n,t,e,s,o)=>new rs(n,t,e,s,n===t?at.none:[new at(t-n,o)],e===s?at.none:[new at(s-e,o)]);class Ct{constructor(t,e){this.doc=t,this.changes=e}static create(t){return new Ct(t,[])}addSteps(t,e){const s=[];for(const r of e){let i=0;if(r.getMap().forEach((a,c,l,u)=>{s.push(qt(a+i,c+i,l,u,r)),i=u-l-(c-a)}),r instanceof Ve||r instanceof Be){const{from:a,to:c}=r;s.push(qt(a,c,a,c,r))}}if(s.length===0)return this;const o=this.changes.concat(s);return new Ct(t,o)}}const ut=new X("changeset"),St=new X("highlightChanges"),fe=n=>ut.getState(n),is=n=>{const{state:t}=n,e=t.tr.setMeta(ut,!0);n.updateState(t.apply(e))},as=n=>{const{state:t}=n,e=fe(t);if(!e)return;const{maps:s,steps:o}=e,r=new ze(s),i=t.tr;for(let c=o.length-1;c>=0;c--){const l=o[c].map(r.slice(c+1));if(!l)continue;i.maybeStep(l).doc&&r.appendMap(l.getMap(),c)}const a=t.apply(i.setMeta(ut,!0));n.updateState(a)},cs=()=>{const n=s=>({changeset:Ct.create(s),maps:[],steps:[]}),t=new $({key:ut,state:{init:(s,{doc:o})=>n(o),apply:(s,o,r,i)=>{const{doc:a}=i;if(s.getMeta(ut))return n(a);const{docChanged:l,mapping:u,steps:h,docs:g}=s;if(!l)return o;const{changeset:f,maps:y,steps:A}=o,{maps:T}=u,j=h.map((S,P)=>S.invert(g[P]));return{changeset:f.addSteps(a,h),maps:y.concat(T),steps:A.concat(j)}}}}),e=new $({key:St,state:{init(){return{deco:I.empty,show:!1}},apply(s,o,r,i){const a=t.getState(i);if(!a)return o;const{changeset:c}=a,{doc:l}=i,{changes:u}=c,h=u.map(({fromB:f,toB:y})=>Q.inline(f,y,{class:"blame-marker"})),g=s.getMeta(St);return{deco:I.create(l,h),show:g!=null?g:o.show}}},props:{decorations(s){const o=this.getState(s);if(!(o!=null&&o.show))return I.empty;const{deco:r}=o;return r}}});return[t,e]},nt=(n,t,e)=>{M.useEffect(()=>{const s=t.current;if(!s)return;const{state:o}=s,r=n(o.tr);r&&s.dispatch(r)},e)},ct=new X("autocomplete");function jt(n,t){return n.setMeta(ct,{suggestion:t})}function ls(n){return n.getMeta(ct)}function Zt(n){if(!(n instanceof q))return null;const{$cursor:t}=n;if(!t)return null;const e=t.end();return t.pos===e?e:null}function us(n=null){return new $({key:ct,state:{init(){return{suggestion:n}},apply(t,e){var o;const s=ls(t);return s===void 0?e:et(W({},e),{suggestion:(o=s.suggestion)!=null?o:null})}},props:{decorations(t){const{doc:e,selection:s}=t,{suggestion:o}=ct.getState(t);if(!o)return null;const r=Zt(s);if(r==null)return I.empty;const i=Q.widget(r,()=>{const a=document.createTextNode(o),c=document.createElement("span");return c.className="text-token-text-tertiary dark:text-gray-500 pointer-events-none select-none",c.appendChild(a),c});return I.create(e,[i])},handleDOMEvents:{keydown:(t,e)=>{const{state:s}=t,o=ct.getState(s),r=Zt(s.selection);e.key==="Tab"&&o.suggestion&&r!=null&&(e.preventDefault(),t.dispatch(s.tr.insert(r,s.schema.text(o.suggestion))))}}}})}const ds=(n,t)=>{const e=M.useRef(!1),s=M.useRef(null),o=M.useRef(t);o.current=t;const r=M.useCallback(He(async i=>{var l;e.current=!1;const a=crypto.randomUUID();s.current=a;const c=await((l=o.current)==null?void 0:l.call(o,i()));!e.current&&c!==void 0&&n.current&&s.current===a&&n.current.dispatch(jt(n.current.state.tr,c))},200),[]);return M.useCallback(i=>{e.current=!0;const a=Fe(n.current);a.dispatch(jt(a.state.tr,null)),r(i)},[r,n])};var dt=(n=>(n.PROSEMIRROR_CONTEXT_CHILDREN="prosemirror-context-children",n.PROSEMIRROR_EDITOR_CONTAINER="prosemirror-editor-container",n))(dt||{});function hs(n,t){return{x:Kt(t.x,n.left,n.right),y:Kt(t.y,n.top,n.bottom)}}function me(n){let t=n.selection.$from.pos-1;if(t<0)return null;let e=n.doc.nodeAt(t);for(;(e==null||e.type.name===Rn.proseMirrorNodeName())&&t>0;)t-=1,e=n.doc.nodeAt(t);return e!=null?{node:e,pos:t}:e}function ps(n,t){const e=me(n);if(e==null)return!1;const{node:s,pos:o}=e,r=o+s.nodeSize,i=n.tr,c=n.schema.nodes.paragraph.create(null);i.insert(r,c);const l=r+c.nodeSize-1,u=i.doc.resolve(l),h=new q(u);return i.setSelection(h),t(i),!0}function fs(n,t){const e=me(n);if(e==null)return!1;const{node:s,pos:o}=e,r=n.tr;return r.deleteRange(o,o+s.nodeSize),t(r),!0}const Jt=(n,t)=>{if(n===t)return null;let e=0,s=n.length,o=t.length;for(;e<s&&n.charCodeAt(e)===t.charCodeAt(e);)e+=1;for(;s>e&&o>e&&n.charCodeAt(s-1)===t.charCodeAt(o-1);)s-=1,o-=1;return{from:e,to:s,text:t.slice(e,o)}},Qt=n=>xt.theme({"&":{backgroundColor:n?"var(--main-surface-primary)":"var(--gray-100)"}});class Et{constructor(t,e,s,o){m(this,"node");m(this,"updating",!1);m(this,"cm");m(this,"languageCompartment");m(this,"themeCompartment");m(this,"setLanguage",async t=>{const e=await mn(t);e&&this.cm.dispatch({effects:this.languageCompartment.reconfigure(e)})});m(this,"setTheme",t=>{const e=[Qt(t),Ut(Ft(t))];this.cm.dispatch({effects:this.themeCompartment.reconfigure(e)})});m(this,"handleBackspace",t=>{const{selection:e}=t.state;if(!(e.main.empty&&e.main.from===0)||this.cm.state.doc.length>0)return!1;const s=fs(this.pmView.state,this.pmView.dispatch);return this.pmView.focus(),s});m(this,"handleShiftEnter",()=>{const t=ps(this.pmView.state,this.pmView.dispatch);return this.pmView.focus(),t});m(this,"dispatch",t=>{var r;if(this.cm.update([t]),this.updating)return;const e=((r=this.getPos())!=null?r:0)+1,s=t.state.doc.toString(),o=Jt(this.node.textContent,s);if(o){const{text:i,from:a,to:c}=o,l=i?this.pmSchema.text(i):null,u=this.pmView.state.tr.replaceWith(a+e,c+e,l);this.pmView.dispatch(u)}this.forwardSelection()});m(this,"update",t=>{if(t.type!==this.node.type)return!1;t.attrs.lang!==this.node.attrs.lang&&this.setLanguage(t.attrs.lang),t.attrs.isDarkMode!=null&&t.attrs.isDarkMode!==this.node.attrs.isDarkMode&&this.setTheme(t.attrs.isDarkMode),this.node=t;const e=Jt(this.cm.state.doc.toString(),t.textContent);if(e){const{text:s,from:o,to:r}=e;this.updating=!0,this.cm.dispatch({changes:{from:o,to:r,insert:s}}),this.updating=!1}return!0});m(this,"asProseMirrorSelection",t=>{var r;const e=((r=this.getPos())!=null?r:0)+2,{anchor:s,head:o}=this.cm.state.selection.main;return q.create(t,s+e,o+e)});m(this,"forwardSelection",()=>{if(!this.cm.hasFocus)return;const{state:t}=this.pmView,e=this.asProseMirrorSelection(t.doc);e.eq(t.selection)||this.pmView.dispatch(t.tr.setSelection(e))});m(this,"maybeEscape",(t,e)=>s=>{var f;const{state:o}=s,{selection:r}=o,a=(()=>{const y=r.main.from,{number:A,from:T}=o.doc.lineAt(y);return{line:A,ch:y-T}})(),c=o.selection.ranges.some(y=>!y.empty),l=1,u=o.doc.lineAt(o.doc.length).number;if(c||a.line!==(e<0?l:u)||t==="char"&&a.ch!==(e<0?0:o.doc.line(a.line).length))return!1;const h=((f=this.getPos())!=null?f:0)+(e<0?0:this.node.nodeSize),g=se.near(this.pmView.state.doc.resolve(h),e);return this.pmView.dispatch(this.pmView.state.tr.setSelection(g).scrollIntoView()),this.pmView.focus(),!0});m(this,"setSelection",(t,e)=>{this.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:t,head:e}}),this.updating=!1});m(this,"focus",()=>{this.cm.focus(),this.forwardSelection()});m(this,"selectNode",()=>{this.focus()});m(this,"stopEvent",()=>!0);m(this,"destroy",()=>{this.cm.destroy()});m(this,"_setIsCodeBlockView",()=>{this.cm.dom.dataset.isCodeBlockView="true"});this.pmView=e,this.getPos=s,this.node=t;const r=[{key:"ArrowUp",run:this.maybeEscape("line",-1)},{key:"ArrowLeft",run:this.maybeEscape("char",-1)},{key:"ArrowDown",run:this.maybeEscape("line",1)},{key:"ArrowRight",run:this.maybeEscape("char",1)},{key:"Backspace",run:this.handleBackspace},{key:"Shift-Enter",run:this.handleShiftEnter}];this.languageCompartment=new Gt,this.themeCompartment=new Gt;const i=un(t.attrs.lang),a=Wt.create({doc:this.node.textContent,extensions:[this.themeCompartment.of([Qt(o),Ut(Ft(o))]),xt.theme({"&":{borderRadius:"4px",padding:"0.5rem"},"&.cm-focused":{outline:"none"}}),An.of([...r,...hn,...pn,fn]),Dn(),dn(),vn(),Nn(),this.languageCompartment.of(i!=null?[i]:[]),Wt.changeFilter.of(c=>(!c.docChanged&&!this.updating&&this.forwardSelection(),!0))]});this.cm=new xt({state:a,dispatch:this.dispatch}),i==null&&this.setLanguage(t.attrs.lang)}get pmSchema(){return this.pmView.state.schema}get dom(){return this._setIsCodeBlockView(),this.cm.dom}static isInCodeBlockView(t){return t instanceof HTMLElement?t.closest("[data-is-code-block-view]")!=null:!1}}m(Et,"_getIsCodeBlockView",t=>t.dataset.isCodeBlockView==="true");function ms(n,t,e){try{return t instanceof q?q.create(n,t.anchor,t.head):t instanceof $e?q.create(n,t.from,t.to):t instanceof Ht?new Ht(n):void 0}catch(s){return q.create(n,0)}}const gs=(n,t,e,s)=>{const o=[];for(const r of t)for(const i of e)o.push({from:r,to:i,parentNodeNamesAtStart:r.parentNodeTypeNameStack,slice:n.slice(r.pmPos,i.pmPos)});return o.sort((r,i)=>{const a=Math.abs(r.from.sourcePos-s.start)+Math.abs(r.to.sourcePos-s.end),c=Math.abs(i.from.sourcePos-s.start)+Math.abs(i.to.sourcePos-s.end);return a===c?i.slice.size-r.slice.size:a-c}),o},ys=(n,t)=>Ue(n.parentNodeNamesAtStart,t.parentNodeTypeNameStack),te=new WeakMap,Cs=({diff:n})=>{const t=new Pn(bn.GetDiffedDoc,{debug:!1});t.startBlock("get_diffed_doc");const e=rt(),{contentAfter:s,contentBefore:o,edits:r}=n,i=e.parse(s),a=e.parse(o),c=r.concat().sort((S,P)=>S.positionBefore.start-P.positionBefore.start),l=[],u=[];t.startBlock("init_position_transformers");const{sourceRangeToPmRange:h}=gt(a),{sourceRangeToPmRange:g}=gt(i);t.endBlock("init_position_transformers");let f=a,y=0,A=0;const T=[],j=(S,P,b)=>{for(const[L,K]of b.entries())try{if(!ys(P,K))continue;const{pmPos:D}=K,{slice:V}=P;return f=f.replace(D,D,V),l.push({editId:S,start:D,end:D+V.size}),[L,K]}catch(D){T.push(D)}return null};for(let S=0;S<c.length;S++){const{id:P,positionBefore:b,positionAfter:L}=c[S];t.startBlock("transform_positions");const K=h(b),D=g(L);t.endBlock("transform_positions");const{start:V,end:_}=K,{start:N,end:C}=D,w=L.start!==L.end,d=w?gs(i,N,C,L):null;t.startBlock("get_merged_doc_positions");const{positions:B}=gt(f);t.endBlock("get_merged_doc_positions");const U=Math.max(...V.map(({pmPos:v})=>v)),O=Math.min(..._.map(({pmPos:v})=>v)),Y=[].concat(_).concat(V),G=b.start!==b.end&&a.textBetween(U,O).length>0;let z=!1;if(G&&!w)u.push({editId:P,start:U+y,end:O+y}),z=!0;else if(!G&&!w)z=!0;else{const v=Y.map(({pmPos:x})=>B[x+y]);for(const x of d!=null?d:[]){const H=j(P,x,v);if(H==null)continue;const F=H[0],J=x.slice.size,it=F<_.length;it||(y+=J),G&&u.push({editId:P,start:U+y,end:O+y}),it&&(y+=J),z=!0;break}}if(!z&&d!=null){const x=Math.min(...V.map(({pmPos:H})=>H))+y-1;for(const H of d)try{f=f.replace(x,x,H.slice),l.push({editId:P,start:x,end:x+H.slice.size}),y+=H.slice.size,G&&u.push({editId:P,start:U+y,end:O+y}),z=!0;break}catch(F){T.push(F)}}z?Z.logEvent("Canvas Diff Edit Success"):(Z.logEvent("Canvas Diff Edit Fail"),Z.logError("Failed to insert edit for diffed doc",Ke(T),{errors:T.map(Mn),replaceFromCandidates:V,replaceToCandidates:_,sliceFromCandidates:N,sliceToCandidates:C}),A++)}return Z.logDistribution("Canvas Diff Edit Success Ratio",(c.length-A)/c.length),Z.logDistribution("Canvas Diff Edit Fail Count",A),Z.logDistribution("Canvas Diff Edit Success Count",c.length-A),Z.logDistribution("Canvas Diff Edit Count",c.length),t.endBlock("get_diffed_doc"),{doc:f,addedRanges:l,deletedRanges:u}},ws=({diff:n})=>{const t=te.get(n);if(t!=null)return t;const e=Cs({diff:n});return te.set(n,e),e},ft=new X("focus"),Es=(n,t)=>new $({key:ft,state:{init:()=>!1,apply(e,s){const o=e.getMeta(ft);return typeof o=="boolean"?o:s}},props:{handleDOMEvents:{blur:(e,s)=>{const{relatedTarget:o}=s;return o!=null&&Et.isInCodeBlockView(o)||(t(s),e.dispatch(e.state.tr.setMeta(ft,!1))),!1},focus:(e,s)=>(n(s),e.dispatch(e.state.tr.setMeta(ft,!0)),!1)}}}),ks=()=>new $({key:new X("katex"),props:{decorations(n){const t=[];return n.doc.descendants((e,s)=>{(e.type.name==="inline_math"||e.type.name==="math_block")&&t.push(Q.widget(s+1,()=>{const o=document.createElement("span"),r=On.renderToString(e.attrs.latex,{throwOnError:!1,displayMode:e.type.name==="math_block"});return o.innerHTML=r,o}))}),I.create(n.doc,t)}}});function Ps(n,t){var s;const e=t&&((s=n.dom)==null?void 0:s.querySelectorAll('[data-edit-id="'.concat(t,'"]')));return e?Array.from(e):[]}function Co(n,t){return Ps(n,t).flatMap(s=>Array.from(s.getClientRects()))}function Rt(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}function bs(n){const t=Math.min(...n.map(r=>r.left)),e=Math.max(...n.map(r=>r.right)),s=Math.min(...n.map(r=>r.top)),o=Math.max(...n.map(r=>r.bottom));return{left:t,right:e,top:s,bottom:o}}function Ms(n,t,e){return e.some(o=>Rt(n,t,o))?!0:e.length<2?!1:e.some(o=>n>=o.left&&n<=o.right&&t>o.bottom)&&e.some(o=>n>=o.left&&n<=o.right&&t<o.top)}const xs=new X("linkTooltip"),Ts=36;class Ss{constructor(t){m(this,"tooltipElement");m(this,"button");m(this,"onMouseLeave");this.tooltipElement=document.createElement("div"),this.tooltipElement.className=lt("absolute  py-1.5 px-2.5 bg-token-main-surface-primary border border-token-border-default rounded-lg text-xs z-50 items-center cursor-pointer shadow-md flex justify-center cursor-pointer","transform -translate-x-1/2"),this.button=document.createElement("button"),this.button.textContent="Open link",this.button.className=lt("bg-none","border-none","text-token-text-primary ","text-sm"),this.tooltipElement.appendChild(this.button),this.onMouseLeave=t,this.tooltipElement.addEventListener("mouseleave",t)}show(t,e,s){document.body.appendChild(this.tooltipElement),this.tooltipElement.style.left="".concat(t,"px"),this.tooltipElement.style.top="".concat(e,"px");const o=()=>{window.open(s,"_blank"),this.hide()};this.button.addEventListener("click",o,{once:!0})}hide(){this.tooltipElement.parentNode&&this.tooltipElement.parentNode.removeChild(this.tooltipElement)}}function Rs(){let n=null,t=null;const e=r=>{if(n==null||t==null)return!1;const i=Array.from(t.getClientRects()),a=n.tooltipElement.getBoundingClientRect();if(i.length===1){const c=i[0];return!Rt(r.clientX,r.clientY,bs([c,a]))}else return!Ms(r.clientX,r.clientY,[a,...i])},s=(r,i)=>{var g;n&&(n.hide(),n=null);const a=r.getAttribute("href");if(!a)return;const c=Array.from(r.getClientRects()),l=(g=c.find(f=>Rt(i.clientX,i.clientY,f)))!=null?g:c[0],u=l.left+l.width/2,h=l.top-Ts;n=new Ss(f=>{e(f)&&o()}),n.show(u,h,a),t=r},o=()=>{n&&(n.hide(),n=null),t=null};return new $({key:xs,props:{handleDOMEvents:{mousemove(r,i){const a=()=>{const{target:l}=i;if(!(l instanceof HTMLElement))return!1;const u=l.closest("a[href]");return u!=null&&u!==t?(s(u,i),!0):!1},c=()=>{n==null||!e(i)||o()};a()||c()}}},view:()=>({destroy:o})})}function ge(n){return rt().serialize(n).length}const Ds=new X("maxLength"),vs=(n,t,e)=>new $({key:Ds,state:{init(){return e},apply:()=>{}},filterTransaction(s){if(n==null||!s.steps.some(i=>i instanceof Ge||i instanceof We?i.slice.size>i.to-i.from:!1))return!0;const r=ge(s.doc);return r<=e?!0:(t&&vt(t,n),Z.logEvent("Canvas Prosemirror Max Length",{maxLength:e,newLength:r}),!1)}});function As(n,t){var l,u;const{state:e}=n,{selection:s}=e,o=s.content(),{schema:r}=e,i=r.topNodeType.create(null,o.content),a=Ns(i,n),c=e.doc.textBetween(s.from,s.to,"\n");(l=t.clipboardData)==null||l.setData("application/x-prosemirror",c),(u=t.clipboardData)==null||u.setData("text/plain",a),t.preventDefault()}function Ns(n,t){let e="";function s(o){if(o.type.name==="paragraph")return o.content.forEach(r=>{s(r)}),e+="\n",!1;if(o.type.name==="contentReference"){const r=o.attrs.index,i=_s(r,t);return i&&(e+="[".concat(i,"]")),!1}else o.isText&&o.text!==void 0&&(e+=o.text);return!0}return n.descendants(s),e.endsWith("\n")&&(e=e.slice(0,-1)),e}function _s(n,t){var i,a,c;const e=oe.getState(t.state),s=parseInt(n);if(e==null||s==null)return null;const o=(i=e==null?void 0:e.displayedContentReferences)==null?void 0:i[s];return o==null||o.type!=="grouped_webpages"?null:(c=(a=o.items)==null?void 0:a[0])==null?void 0:c.url}class Os{constructor(t,e,s,o){m(this,"dom");m(this,"node");m(this,"view");m(this,"getPos");m(this,"key");m(this,"collectReactElement");this.node=t,this.getPos=s,this.view=e,this.dom=document.createElement("span"),this.dom.className="content-reference-node";const r=()=>"".concat(_e());this.key="content-reference-node-".concat(r()),this.collectReactElement=o,this.renderReactComponent()}renderReactComponent(){var i;const{index:t}=this.node.attrs,e=oe.getState(this.view.state);if(t==null)return;const s=(i=e==null?void 0:e.displayedContentReferences)==null?void 0:i[t];if(!s||s.type!=="grouped_webpages")return;const o=st.jsx(Vn,{webpageRef:s,trackContentReferenceEvent:()=>{},index:t}),r=Oe.createPortal(o,this.dom);this.collectReactElement(this.key,r)}update(t){return t.attrs!==this.node.attrs&&(this.node=t,this.renderReactComponent()),!0}destroy(){this.collectReactElement(this.key,null)}}class Is{constructor(t,e,s){m(this,"dom");m(this,"node");m(this,"getPos");m(this,"view");this.getPos=s,this.view=e,this.node=t;const o=document.createElement("span");o.className="hive-log-wrapper",o.style.display="inline-block",o.style.userSelect="none";const r=document.createElement("span");r.className="hive-log",r.contentEditable="false",r.setAttribute("data-type","hive-log"),r.setAttribute("data-timestamp",t.attrs.timestamp),r.textContent=Bn(t.attrs.timestamp);const i=a=>{a.preventDefault(),a.stopPropagation()};o.addEventListener("mousedown",i),r.addEventListener("mousedown",i),r.addEventListener("click",a=>{a.preventDefault();const{openSidebar:c,setCurrentTime:l}=zn.getState();c(),l(parseInt(t.attrs.timestamp))}),o.appendChild(r),this.dom=o}stopEvent(t){return t.type==="mousedown"?(t.preventDefault(),!0):!1}destroy(){}}function Ls(n={}){return new $({view(t){return new Vs(t,n)}})}class Vs{constructor(t,e){var s;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=e.width)!==null&&s!==void 0?s:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let r=i=>{this[o](i)};return t.dom.addEventListener(o,r),{name:o,handler:r}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,s;if(e){let a=t.nodeBefore,c=t.nodeAfter;if(a||c){let l=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(l){let u=l.getBoundingClientRect(),h=a?u.bottom:u.top;a&&c&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:u.left,right:u.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!s){let a=this.editorView.coordsAtPos(this.cursorPos);s={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let r,i;if(!o||o==document.body&&getComputedStyle(o).position=="static")r=-pageXOffset,i=-pageYOffset;else{let a=o.getBoundingClientRect();r=a.left-o.scrollLeft,i=a.top-o.scrollTop}this.element.style.left=s.left-r+"px",this.element.style.top=s.top-i+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),s=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),o=s&&s.type.spec.disableDropCursor,r=typeof o=="function"?o(this.editorView,e,t):o;if(e&&!r){let i=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Xe(this.editorView.state.doc,i,this.editorView.dragging.slice);a!=null&&(i=a)}this.setCursor(i),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}function mt(n){return(t,e,s)=>{var c;const{doc:o,selection:r}=t,{empty:i,$head:a}=r;if(i&&(s!=null&&s.endOfTextblock(n))){const l=n==="left"||n==="up"?-1:1,u=se.near(o.resolve(l>0?a.after():a.before()),l);if(((c=u.$head)==null?void 0:c.parent.type.name)===Dt)return e==null||e(t.tr.setSelection(u)),!0}return!1}}const Bs=re({ArrowLeft:mt("left"),ArrowRight:mt("right"),ArrowUp:mt("up"),ArrowDown:mt("down")}),wt=new X("modelCursor");function zs(n,t){return n.setMeta(wt,{modelCursor:t})}function Hs(n){var t;return(t=n.getMeta(wt))!=null?t:null}const ee=(n,t)=>{var c;const{doc:e}=n,s=[];if(!t)return I.empty;const{modelSelectionPositionRange:o,modelCursorPosition:r}=t,{sourceRangeToPmRange:i,sourceEndToPmPos:a}=gt(e);if(r!=null){const l=bt(r,a(r),"min");if(l==null)return I.empty;if(l!=null&&le(e,l)){const u=e.resolve(l),h=e.nodeAt(l);if((h==null?void 0:h.type.name)===$t.proseMirrorNodeName()||((c=u.nodeBefore)==null?void 0:c.type.name)===$t.proseMirrorNodeName())return I.empty}s.push(Q.widget(l,()=>{const u=document.createElement("span");return u.className=gn.modelCursor,u},{ignoreSelection:!0,side:1}))}else if(o!=null){const{start:l,end:u}=i(o),h=bt(o.start,l,"max"),g=bt(o.end,u,"min");if(h==null||g==null)return I.empty;s.push(Q.inline(h,g,{class:"".concat(En," bg-[Highlight]!")}))}return s.length?I.create(e,s):I.empty},Fs=(n,t)=>{const e=n.domAtPos(t);let s=e==null?void 0:e.node;if(s===n.dom)return null;for(;s&&!(s instanceof HTMLElement);)s=s.parentNode;return s},$s=(n,t)=>{const e=Fs(n,t.to);e==null||e.scrollIntoView({behavior:"smooth",block:"center"})},Ks=(n,t)=>{var o,r;if(n&&!t)return!0;const e=(o=n==null?void 0:n.modelSelectionPositionRange)==null?void 0:o.start,s=(r=t==null?void 0:t.modelSelectionPositionRange)==null?void 0:r.start;return e!==void 0&&(s===void 0||e!==s)};function ne(n=void 0,t=void 0){return new $({key:wt,state:{init:(e,s)=>{var o;return{modelCursor:n,deco:ee(s,n),isNewCursor:!1,isCursorActive:(o=t==null?void 0:t.isCursorActive)!=null?o:!1}},apply:(e,s,o,r)=>{var h;const i=Hs(e),a=(h=i==null?void 0:i.modelCursor)!=null?h:s.modelCursor,c=ee(r,a),l=!!((!s.isCursorActive||Ks(a,s.modelCursor))&&c&&c.find()[0]),u=!!a&&(l||s.isCursorActive);return{modelCursor:a,deco:c,isNewCursor:l,isCursorActive:u}}},props:{decorations(e){const s=this.getState(e);return s==null?void 0:s.deco}},view(e){return{update(s){const{deco:o,isNewCursor:r}=wt.getState(s.state),i=o&&o.find()[0];i&&r&&$s(s,i)}}}})}const ye="ignoreDocChange";function Us(n){return n.setMeta(ye,!0)}function Gs(n){return n.getMeta(ye)===!0}function Ws(n){var e,s;const t=n.content.size-((s=(e=n.lastChild)==null?void 0:e.content.size)!=null?s:0)-1;if(le(n,t))return q.create(n,t)}const Ce=({intl:n,toaster:t,value:e,comments:s,diff:o,maxLength:r=he,selection:i,onFocus:a,onBlur:c,onSave:l,safeUrls:u,modelCursor:h,isDisabled:g,prevState:f,contentReferences:y,shouldUseContentReferencePlugin:A})=>{const T=rt(),j=T.schema();let S=e;r!=null&&S.length>r&&(S=S.slice(0,r),t!=null&&n!=null&&vt(t,n));let P,b=[],L=[];o&&o.edits.length>0?{doc:P,addedRanges:b,deletedRanges:L}=ws({diff:o}):P=T.parse(S);const K=i?ms(P,i):Ws(P),D=()=>{const _=f==null?void 0:f.plugins.find(N=>N.spec.key===Mt().spec.key);return _==null||f==null?Mt():Mt({},_.getState(f))},V=_=>{const N=f==null?void 0:f.plugins.find(w=>w.spec.key===ne().spec.key),C=f&&(N==null?void 0:N.getState(f));return ne(_,C)};return ie.create({doc:P,schema:j,selection:K,plugins:[...A?[Ye(y)]:[],vs(n,t,r),T.inputRulesPlugin(),T.keymapPlugin(),re({"Mod-s":()=>(l(),!0),"Mod-z":_n,"Mod-shift-z":Xt,"Mod-y":Xt}),Bs,ks(),Ls(),qe(),D(),Es(a,c),ue(s!=null?s:[]),...o?[os(b,L)]:[],V(h),jn(new Set(u!=null?u:[])),Qn(n,g),us(f?ct.getState(f).suggestion:null),Rs(),...cs()]})},Xs=(n,t)=>{const e=rt(),s=e.schema(),o=e.parse(n);return ie.create({doc:o,schema:s,plugins:[ue(t!=null?t:[])]})},wo=({mount:n,value:t,comments:e,isDarkMode:s})=>new ce({mount:n},{editable:()=>!1,state:Xs(t,e),nodeViews:{[Dt]:(r,i,a)=>new Et(r,i,a,s)}}),Ys=(n,{intl:t,toaster:e,comments:s,value:o,maxLength:r=he,onBlur:i,onFocus:a,onChange:c,onUpdate:l,onSave:u,safeUrls:h,modelCursor:g,selection:f,isDisabled:y,diff:A,prevState:T,contentReferences:j,collectReactElement:S},P=!1)=>{const b=ae(je()),L=Ce({intl:t,toaster:e,comments:s,value:o,maxLength:r,onBlur:i,onFocus:a,onSave:u,safeUrls:h,modelCursor:g,selection:f,isDisabled:y,diff:A,prevState:T,contentReferences:j,shouldUseContentReferencePlugin:b});l(L);const K=C=>{const w=N.state.apply(C);if(N.updateState(w),l(w),!C.docChanged||Gs(C))return;const d=fe(w);if(!d)return;const{doc:B}=w,{changeset:U}=d;c==null||c({transaction:C,changeset:U,doc:B,getSerializedDocument:()=>rt().serialize(B),getAdjustedComments:()=>{const O=yn(de,w);if(O==null)return[];const Y=rt(),G=Y.parse(Y.serialize(B)),z=In(G,O.positions);return Ln(O.comments,z)}})},D=rt(),V=D.nodeViews(),_=W(W(W(W({},V),b?{[tn]:(C,w,d)=>new Os(C,w,d,S)}:{}),Hn()?{[Fn]:(C,w,d)=>new Is(C,w,d)}:{}),A!=null?{}:{[Dt]:(C,w,d)=>new Et(C,w,d,P)}),N=new ce({mount:n},et(W({state:L,editable:()=>!y,dispatchTransaction:K,nodeViews:_},b?{handleDOMEvents:{copy:(C,w)=>As(C,w)}}:{}),{handlePaste(C,w){var z,v,x;let d;if(b&&(d=(z=w.clipboardData)==null?void 0:z.getData("application/x-prosemirror")),d||(d=(v=w.clipboardData)==null?void 0:v.getData("text/plain")),d==null)return!1;Z.logEvent("Canvas Prosemirror Paste",{textLength:d.length});const B=ge(C.state.doc),U=B+d.length,O=r!=null&&U>r;O&&e!=null&&t!=null&&vt(e,t);const Y=(x=w.clipboardData)==null?void 0:x.getData("text/html");if(Y){const H=qs(Y),F=new window.DOMParser().parseFromString(H,"text/html"),J=Ze.fromSchema(C.state.schema).parse(F.body),it=new Je(J.content,1,1);return C.dispatch(C.state.tr.replaceSelection(it)),!0}let G=d;if(O){const F=r-B-50;G=F>0?d.slice(0,F):""}return Qe(C,G,b),!0}}));return{view:N,pmu:D}},qs=n=>n.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3"),js="_main_5jn6z_1",Zs={main:js};function Js(n,t){const e=t.target;if(e instanceof Element&&[dt.PROSEMIRROR_EDITOR_CONTAINER,dt.PROSEMIRROR_CONTEXT_CHILDREN].some(c=>e.closest("#".concat(c))!=null))return!1;n.focus();const s=hs(n.dom.getBoundingClientRect(),{x:t.clientX,y:t.clientY}),o=n.state.tr,r=n.posAtCoords({left:s.x,top:s.y});if(r!=null){const i=Math.min(r.pos,Cn(n.state.doc)-1);o.setSelection(new q(o.doc.resolve(i))),n.dispatch(o)}return!0}const we=({editorRef:n,wrapperClassName:t,transparentBackground:e=!1,comments:s,commentingOn:o,diff:r,paddingBottom:i,hoveredCommentId:a,focusedCommentId:c,hoveredEditId:l,rejectedEdits:u,showChanges:h,isDisabled:g=!1,value:f,onBlur:y,onFocus:A,onChange:T,onMouseLeave:j,onSave:S,getAutocompleteSuggestion:P,safeUrls:b,children:L,width:K,modelCursor:D,shouldResetSelection:V=!1,contentReferences:_})=>{var Vt;const N=Ie(),C=en(),w=M.useRef(null),d=M.useRef(null),[B,U]=M.useState(null),O=nn(),Y=sn(),[{width:G},z]=Sn(),v=M.useRef(y);v.current=y;const x=M.useRef(A);x.current=A;const H=ds(d,P),F=on(),J=rn(F),it=(Vt=J==null?void 0:J.planType)!=null?Vt:an.FREE,ht=cn(F,"1958014328")?1e7:xn(it),Nt=async p=>{T==null||T(p),Gn(F)&&H(p.getSerializedDocument)},pt=M.useRef(Nt);pt.current=Nt;const tt=M.useRef(S);tt.current=S;const kt=ae(F),[Pe,be]=M.useState(()=>new Map),_t=M.useCallback((p,R)=>{be(k=>{const E=new Map(k);return R==null?E.delete(p):E.set(p,R),E})},[]),Ot=M.useCallback((p=f)=>{var R;return Ce({intl:N,toaster:C,comments:s,diff:r,value:p,selection:V||(R=d.current)==null?void 0:R.state.selection,onBlur:k=>{var E;return(E=v.current)==null?void 0:E.call(v,k)},onFocus:k=>{var E;return(E=x.current)==null?void 0:E.call(x,k)},onSave:()=>{var k;return(k=tt.current)==null?void 0:k.call(tt)},modelCursor:D,isDisabled:g,safeUrls:b,prevState:B,contentReferences:_,shouldUseContentReferencePlugin:kt,maxLength:ht})},[N,C,s,r,f,V,D,g,b,B,_,_t,kt,ht]),Me=M.useCallback(p=>{var k;const R=Ot(p);(k=d.current)==null||k.updateState(R),U(R)},[Ot]);M.useImperativeHandle(n,()=>({UNSAFE_setValue:Me,revertChanges:()=>{if(d.current==null)throw new Error("Tried to call revertChanges, but viewRef.current is null");as(d.current)},flushChanges:()=>{if(d.current==null)throw new Error("Tried to call flushChanges, but viewRef.current is null");is(d.current)},maybeFocusOnEditor:p=>{if(d.current==null)throw new Error("Tried to call maybeFocus, but viewRef.current is null");return Js(d.current,p)},viewRef:d})),ln(()=>{const{current:p}=w;if(!p)return;const{view:R}=Ys(p,{intl:N,toaster:C,comments:s,diff:r,value:f,onBlur:k=>{var E;return(E=v.current)==null?void 0:E.call(v,k)},onFocus:k=>{var E;return(E=x.current)==null?void 0:E.call(x,k)},onChange:k=>{var E;return(E=pt.current)==null?void 0:E.call(pt,k)},onUpdate:U,onSave:()=>{var k;return(k=tt.current)==null?void 0:k.call(tt)},isDisabled:g,safeUrls:b,prevState:B,contentReferences:_,collectReactElement:_t,maxLength:ht},O);return d.current=R,()=>{R==null||R.destroy()}},[r,ht]),M.useEffect(()=>{var p;(p=d.current)==null||p.setProps({editable:()=>!g})},[g]),nt(p=>Zn(p,g),d,[g]),nt(p=>{if(!Y)return;const{schema:R}=p.doc.type,k=R.nodes.code_block;return k?(p.doc.descendants((E,Bt)=>{if(E.type===k){const Te=E.type.create(et(W({},E.attrs),{isDarkMode:O}),E.content,E.marks);p.replaceWith(Bt,Bt+E.nodeSize,Te)}}),Us(p)):p},d,[Y,O]),nt(p=>p.setMeta(St,h),d,[h]),nt(p=>zs(p,D),d,[D]),nt(p=>p.setMeta(de,{comments:s,commentingOn:o,hoveredCommentId:a,focusedCommentId:c}),d,[s,a,c,o]),nt(p=>p.setMeta(Tt,{hoveredEditId:l,rejectedEdits:u!=null?u:new Set}),d,[l,u]),nt(p=>Yn(p,new Set(b!=null?b:[])),d,[b]);const xe=M.useCallback(()=>d.current,[d]),It=[],Lt=[];return M.Children.forEach(L,p=>{if(!M.isValidElement(p))return;const{type:R}=p;if(R===ke)It.push(p);else if(R===Ee)Lt.push(p);else throw new Error("Invalid Prosemirror child: "+JSON.stringify(R))}),st.jsx($n.Provider,{value:xe,children:st.jsx(Kn.Provider,{value:B,children:st.jsxs(Un.Provider,{value:G,children:[st.jsx("div",{id:dt.PROSEMIRROR_CONTEXT_CHILDREN,children:It}),st.jsxs("div",{className:t,onMouseLeave:j,id:dt.PROSEMIRROR_EDITOR_CONTAINER,style:{paddingBottom:i},children:[st.jsx("div",{ref:Tn(w,z),className:lt(Zs.main,kn.composer,"markdown prose dark:prose-invert contain-inline-size focus:outline-hidden",e?"bg-transparent":"bg-[var(--canvas-bg,var(--bg-primary))]"),style:{width:K}}),Lt,kt?Array.from(Pe.values()):null]})]})})})},Ee=({children:n})=>n,ke=({children:n})=>n;we.EditorChildren=Ee;we.ContextChildren=ke;export{we as P,dt as T,Xs as a,Co as b,wo as c,bs as d,Ps as g,Zs as s};
//# sourceMappingURL=nrnf80lbyqanffwr.js.map
