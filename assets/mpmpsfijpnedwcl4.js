var W=Object.defineProperty,b=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(t,s,r)=>s in t?W(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,o=(t,s)=>{for(var r in s||(s={}))B.call(s,r)&&g(t,r,s[r]);if(y)for(var r of y(s))C.call(s,r)&&g(t,r,s[r]);return t},u=(t,s)=>b(t,M(s));import{e as N,r as p,j as e,M as n}from"./i8clt0mfz495j7ii.js";import{C as I,M as m,T}from"./ghewn7l2ynbm32fm.js";import{ai as a}from"./j0yo6uv6652vva62.js";function P({emails:t,workspaceName:s,onSend:r,onClose:i}){"use no forget";const c=N(),[d,f]=p.useState(!1),[l,j]=p.useState("idle"),S=p.useCallback(async()=>{f(!0);try{await r(),j("success")}catch(k){j("error")}finally{f(!1)}},[r]),O=l==="success"?e.jsx(n,u(o({},a.shareOutsideWorkspaceSuccessBody),{values:{count:t.length,workspaceName:s,bold:k=>e.jsx("span",{className:"text-token-text-primary text-sm font-semibold",children:k})}})):l==="error"?e.jsx(n,o({},a.shareOutsideWorkspaceErrorBody)):e.jsx(w,{emails:t,intl:c}),v=l==="error"?"text-token-text-status-error":"text-token-text-primary",x=l!=="idle";return e.jsx(I,{testId:"modal-share-outside-workspace",isOpen:!0,onClose:()=>{d||i()},showCloseButton:!0,type:l==="error"?"danger":"success",title:l==="success"?e.jsx(n,o({},a.shareOutsideWorkspaceSuccessTitle)):l==="error"?e.jsx(n,o({},a.shareOutsideWorkspaceErrorTitle)):e.jsx(n,o({},a.shareOutsideWorkspaceTitle)),primaryButton:x?e.jsx(m.Button,{title:c.formatMessage(a.shareOutsideWorkspaceSuccessButton),color:"primary",onClick:()=>{i()}}):e.jsx(m.Button,{title:c.formatMessage(a.shareOutsideWorkspaceSendButton,{count:t.length}),color:"primary",loading:d,onClick:()=>{S()}}),secondaryButton:x?void 0:e.jsx(m.Button,{title:c.formatMessage(a.shareOutsideWorkspaceCancelButton),color:"secondary",onClick:()=>{d||i()}}),children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("p",{className:"".concat(v," text-sm leading-5 text-pretty select-text"),children:O}),x?void 0:e.jsx("p",{className:"text-token-text-primary text-sm text-pretty select-text",children:e.jsx(n,o({},a.shareOutsideWorkspaceInviteAfter))})]})})}function w({emails:t,intl:s}){if(t.length===0){const c=e.jsx(h,{children:s.formatMessage(a.shareOutsideWorkspaceDefaultSummarySubject)});return e.jsx(n,u(o({},a.shareOutsideWorkspaceSummaryFallback),{values:{inviteeGroup:c}}))}if(t.length===1)return e.jsx(n,u(o({},a.shareOutsideWorkspaceSummarySingle),{values:{invitee:e.jsx(h,{children:t[0]})}}));const[r,...i]=t;return e.jsx(n,u(o({},a.shareOutsideWorkspaceSummaryMultiple),{values:{firstInvitee:e.jsx(h,{children:r}),others:e.jsx(D,{emails:i,intl:s})}}))}function D({emails:t,intl:s}){const r=s.formatMessage(a.shareOutsideWorkspaceOthersLabel,{count:t.length});return e.jsx(T,{triggerAs:null,label:e.jsx("div",{className:"flex flex-col gap-1",children:t.map((i,c)=>e.jsx("span",{className:"text-token-text-primary text-xs font-semibold",children:i},"".concat(i,"-").concat(c)))}),side:"top",align:"center",delayDuration:150,labelTextAlign:"left",children:e.jsx("span",{className:"text-token-text-primary -mx-0.5 -my-px inline-flex items-center rounded px-0.5 py-px font-semibold whitespace-nowrap underline underline-offset-4",children:r})})}function h({children:t}){return e.jsx("span",{className:"text-token-text-primary font-semibold",children:t})}export{P as ShareOutsideWorkspaceConfirmModal};
//# sourceMappingURL=mpmpsfijpnedwcl4.js.map
