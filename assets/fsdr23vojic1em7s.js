var Se=Object.freeze,Ae=Object.defineProperty,tt=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var je=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var De=(t,e,s)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,X=(t,e)=>{for(var s in e||(e={}))st.call(e,s)&&De(t,s,e[s]);if(je)for(var s of je(e))rt.call(e,s)&&De(t,s,e[s]);return t},pe=(t,e)=>tt(t,at(e));var Le=(t,e)=>Se(Ae(t,"raw",{value:Se(e||t.slice())}));import{R as C,r as b,c as it,e as ue,j as i,M as x,A as ot,k as nt,ai as lt}from"./i8clt0mfz495j7ii.js";import{u as ct}from"./opd3w2dk1rgqmcsu.js";import{en as Re,d as be,a_ as dt,C as ut,$ as Ge,F as pt,b0 as ft,k6 as mt,u as ht,e as yt,h as xt}from"./ghewn7l2ynbm32fm.js";import{W as vt}from"./kzwmj5bk0a8ido2q.js";import{M as xe}from"./nkquz7bm0zoqtxn8.js";import{S as gt}from"./mq11hu99eist2abq.js";import{g as q,L as ee,m as ne,i as K,h as fe,A as Ct,j as H,k as bt,l as wt,n as _t,u as Mt,G as Et,o as Oe,q as ke,D as St,s as jt,X as ze,Y as Xe,t as Dt,R as At,p as Lt,T as Rt,C as Ot,a as Ye,r as kt}from"./m5w9igq1wqtt0i8f.js";import{i as ve}from"./pajs134rv9yn6t4z.js";import{p5 as Te}from"./j0yo6uv6652vva62.js";import{J as Tt,K as Nt,L as It,M as Pt,N as Ut}from"./g5lgy1otfli5p2x7.js";import{d as Ne}from"./o4m46p2hmbpmbw32.js";import"./fgm9uzc3b50cz4e0.js";import"./d30gyor263984jzn.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./o108mlelkx5ejfzn.js";import"./fv135gy2k0pewip3.js";import"./pbvsc3do5o365cxq.js";import"./i94vqq9eycryltby.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./olrcssu7duieo6m7.js";import"./gzhyo73bmtx9f3d9.js";import"./o56jrqjpjpipvc65.js";import"./chs4g5r39qlnqw6r.js";import"./c80gqv0732s10rnu.js";import"./o6tyvbjf9zh9qku3.js";import"./iguylefzk1dr51wi.js";import"./eflwd0j5c3pxruh8.js";import"./galyil7vygq0i5a6.js";import"./kf7tqzde2yk57qjr.js";import"./nvrhbbc4qxooogd5.js";import"./l3jkxavl2du23cqn.js";import"./pc8anf0wrjlgogua.js";import"./mewip4u74thselsp.js";import"./ieykhlrsk25lij4e.js";import"./i03gut32e8jn5ajq.js";import"./h1em0bjkpkjv8ykw.js";import"./e26n6uhwwtwdmiki.js";import"./mjq17q47489shd3e.js";import"./hxdh3tr5l8kut4ed.js";import"./hu1bt0oauegdhua6.js";const Vt=["date","n_tasks","n_users"],Wt=["date","n_cli_users","n_vscode_users"],Ft=["date","n_reviews","n_comments","n_comments_p0","n_comments_p1","n_comments_p2","comments_per_review","comments_p0_per_review","comments_p1_per_review","comments_p2_per_review","n_comments_engaged","n_comments_reacted","n_comments_reacted_plus1","n_comments_reacted_minus1","n_comments_reacted_other","n_comments_replied","n_replies","n_reactions","n_reactions_plus1","n_reactions_minus1","n_reactions_other"],Bt=["date","user_id","n_new_sessions_cli","n_new_sessions_vscode","n_new_sessions_exec","n_new_sessions_sdk_ts","n_new_sessions_other","n_new_sessions_total","n_user_messages_cli","n_user_messages_vscode","n_user_messages_exec","n_user_messages_sdk_ts","n_user_messages_other","n_user_messages_total","n_users_used_codex"],$t={dailyCodeReviewCounts:"codex-daily-code-review-counts",dailyCodeReviewMetrics:"codex-daily-code-review-metrics",dailyWebTaskCounts:"codex-daily-web-task-counts",dailyCliVsCodeUsageCounts:"codex-daily-cli-vscode-usage-counts",dailySessionsMessagesCounts:"codex-daily-sessions-messages-counts"};function Gt(t){if(t==null)return"";const e=String(t);return new RegExp('[",\\n]',"u").test(e)?'"'.concat(e.replace(new RegExp('"',"gu"),'""'),'"'):e}function le(t,e){const s=[t.join(",")];for(const a of e)s.push(t.map(r=>Gt(a[r])).join(","));return s.join("\n")}function zt(t){let e;if(t){for(const s of t)(!e||s.date>e)&&(e=s.date);return e}}function Xt(t,e,s){const a=$t[t],r=e==="json"?"json":"csv",o=s&&new RegExp("^\\d{4}-\\d{2}-\\d{2}$","u").test(s)?s:void 0;return"".concat(a).concat(o?"-".concat(o):"",".").concat(r)}function Yt(t,e){switch(t){case"dailyWebTaskCounts":case"dailyCodeReviewCounts":return le(Vt,e.data);case"dailyCodeReviewMetrics":return le(Ft,e.data);case"dailyCliVsCodeUsageCounts":return le(Wt,e.data);case"dailySessionsMessagesCounts":return le(Bt,e.data)}return""}function Qt({response:t,isLoading:e,isError:s,seriesId:a,displayName:r,aggregation:o="sum"}){if(e)return"loading";if(t==null||t.data==null)return s?qt(a,r):"loading";const n=t.data,d=n.reduce((p,c)=>p+c.value,0),f=n.length,u=o==="average"&&f>0?Math.max(0,Math.round(d/f)):d;return{data:n.map(({date:p,value:c})=>({date:p,total:c,values:{[a]:c}})),metrics:{[a]:{total:u,displayName:r}}}}function Qe({response:t,isLoading:e,isError:s,seriesLabels:a}){if(e)return{chartData:ge(a),isLoading:!0};if(t==null||t.data==null)return{chartData:ge(a),isLoading:!s};const r=Object.keys(a),o=t.data.map(({date:u,values:p})=>{const c={};let l=0;return r.forEach(m=>{var y;const h=(y=p[m])!=null?y:0;c[m]=h,l+=h}),{date:u,total:l,values:c}}),n=r.reduce((u,p)=>(u[p]=o.reduce((c,l)=>{var m;return c+((m=l.values[p])!=null?m:0)},0),u),{}),d=o.length,f=r.reduce((u,p)=>{const c=n[p],l=d>0?Math.max(0,Math.round(c/d)):0;return u[p]={total:l,displayName:a[p]},u},{});return{chartData:{data:o,metrics:f},isLoading:!1}}function qt(t,e){return{data:[],metrics:{[t]:{total:0,displayName:e}}}}function ge(t){const e=Object.entries(t).reduce((s,[a,r])=>(s[a]={total:0,displayName:r},s),{});return{data:[],metrics:e}}function qe({response:t,isLoading:e,isError:s,seriesLabels:a,extractSeriesValues:r}){const o=ge(a);if(e)return{chartData:o,isLoading:!0};if(t==null||t.data==null)return{chartData:o,isLoading:!s};const n={data:t.data.map(d=>({date:d.date,values:r(d)}))};return Qe({response:n,isLoading:!1,isError:!1,seriesLabels:a})}function Ht({response:t,isLoading:e,isError:s,seriesLabels:a}){return qe({response:t,isLoading:e,isError:s,seriesLabels:a,extractSeriesValues:r=>{var o,n,d;return{p0:(o=r.n_comments_p0)!=null?o:0,p1:(n=r.n_comments_p1)!=null?n:0,p2:(d=r.n_comments_p2)!=null?d:0}}})}function Kt({response:t,isLoading:e,isError:s,seriesLabels:a}){return qe({response:t,isLoading:e,isError:s,seriesLabels:a,extractSeriesValues:r=>{var o,n,d;return{plus1:(o=r.n_reactions_plus1)!=null?o:0,minus1:(n=r.n_reactions_minus1)!=null?n:0,other:(d=r.n_reactions_other)!=null?d:0}}})}var Jt=["layout","type","stroke","connectNulls","isRange","ref"],Zt=["key"],He;function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function Ke(t,e){if(t==null)return{};var s=ea(t,e),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function ea(t,e){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Q.apply(this,arguments)}function Ie(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,a)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(s),!0).forEach(function(a){P(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Ze(a.key),a)}}function aa(t,e,s){return e&&Pe(t.prototype,e),s&&Pe(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function sa(t,e,s){return e=de(e),ra(t,Je()?Reflect.construct(e,s||[],de(t).constructor):e.apply(t,s))}function ra(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(t)}function ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Je=function(){return!!t})()}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},de(t)}function oa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ce(t,e)}function Ce(t,e){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Ce(t,e)}function P(t,e,s){return e=Ze(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Ze(t){var e=na(t,"string");return Z(e)=="symbol"?e:e+""}function na(t,e){if(Z(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,e);if(Z(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $=(function(t){function e(){var s;ta(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return s=sa(this,e,[].concat(r)),P(s,"state",{isAnimationFinished:!0}),P(s,"id",Mt("recharts-area-")),P(s,"handleAnimationEnd",function(){var n=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ve(n)&&n()}),P(s,"handleAnimationStart",function(){var n=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ve(n)&&n()}),s}return oa(e,t),aa(e,[{key:"renderDots",value:function(a,r,o){var n=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(n&&!d)return null;var f=this.props,u=f.dot,p=f.points,c=f.dataKey,l=q(this.props,!1),m=q(u,!0),h=p.map(function(v,M){var g=B(B(B({key:"dot-".concat(M),r:3},l),m),{},{index:M,cx:v.x,cy:v.y,dataKey:c,value:v.value,payload:v.payload,points:p});return e.renderDotItem(u,g)}),y={clipPath:a?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return C.createElement(ee,Q({className:"recharts-area-dots"},y),h)}},{key:"renderHorizontalRect",value:function(a){var r=this.props,o=r.baseLine,n=r.points,d=r.strokeWidth,f=n[0].x,u=n[n.length-1].x,p=a*Math.abs(f-u),c=ne(n.map(function(l){return l.y||0}));return K(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(ne(o.map(function(l){return l.y||0})),c)),K(c)?C.createElement("rect",{x:f<u?f:f-p,y:0,width:p,height:Math.floor(c+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var r=this.props,o=r.baseLine,n=r.points,d=r.strokeWidth,f=n[0].y,u=n[n.length-1].y,p=a*Math.abs(f-u),c=ne(n.map(function(l){return l.x||0}));return K(o)&&typeof o=="number"?c=Math.max(o,c):o&&Array.isArray(o)&&o.length&&(c=Math.max(ne(o.map(function(l){return l.x||0})),c)),K(c)?C.createElement("rect",{x:0,y:f<u?f:f-p,width:c+(d?parseInt("".concat(d),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(a){var r=this.props.layout;return r==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,r,o,n){var d=this.props,f=d.layout,u=d.type,p=d.stroke,c=d.connectNulls,l=d.isRange;d.ref;var m=Ke(d,Jt);return C.createElement(ee,{clipPath:o?"url(#clipPath-".concat(n,")"):null},C.createElement(fe,Q({},q(m,!0),{points:a,connectNulls:c,type:u,baseLine:r,layout:f,stroke:"none",className:"recharts-area-area"})),p!=="none"&&C.createElement(fe,Q({},q(this.props,!1),{className:"recharts-area-curve",layout:f,type:u,connectNulls:c,fill:"none",points:a})),p!=="none"&&l&&C.createElement(fe,Q({},q(this.props,!1),{className:"recharts-area-curve",layout:f,type:u,connectNulls:c,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(a,r){var o=this,n=this.props,d=n.points,f=n.baseLine,u=n.isAnimationActive,p=n.animationBegin,c=n.animationDuration,l=n.animationEasing,m=n.animationId,h=this.state,y=h.prevPoints,v=h.prevBaseLine;return C.createElement(Ct,{begin:p,duration:c,isActive:u,easing:l,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var g=M.t;if(y){var O=y.length/d.length,w=d.map(function(D,W){var U=Math.floor(W*O);if(y[U]){var I=y[U],G=H(I.x,D.x),z=H(I.y,D.y);return B(B({},D),{},{x:G(g),y:z(g)})}return D}),_;if(K(f)&&typeof f=="number"){var S=H(v,f);_=S(g)}else if(Te(f)||bt(f)){var k=H(v,0);_=k(g)}else _=f.map(function(D,W){var U=Math.floor(W*O);if(v[U]){var I=v[U],G=H(I.x,D.x),z=H(I.y,D.y);return B(B({},D),{},{x:G(g),y:z(g)})}return D});return o.renderAreaStatically(w,_,a,r)}return C.createElement(ee,null,C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(r)},o.renderClipRect(g))),C.createElement(ee,{clipPath:"url(#animationClipPath-".concat(r,")")},o.renderAreaStatically(d,f,a,r)))})}},{key:"renderArea",value:function(a,r){var o=this.props,n=o.points,d=o.baseLine,f=o.isAnimationActive,u=this.state,p=u.prevPoints,c=u.prevBaseLine,l=u.totalLength;return f&&n&&n.length&&(!p&&l>0||!Re(p,n)||!Re(c,d))?this.renderAreaWithAnimation(a,r):this.renderAreaStatically(n,d,a,r)}},{key:"render",value:function(){var a,r=this.props,o=r.hide,n=r.dot,d=r.points,f=r.className,u=r.top,p=r.left,c=r.xAxis,l=r.yAxis,m=r.width,h=r.height,y=r.isAnimationActive,v=r.id;if(o||!d||!d.length)return null;var M=this.state.isAnimationFinished,g=d.length===1,O=be("recharts-area",f),w=c&&c.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,k=Te(v)?this.id:v,D=(a=q(n,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},W=D.r,U=W===void 0?3:W,I=D.strokeWidth,G=I===void 0?2:I,z=wt(n)?n:{},re=z.clipDot,ie=re===void 0?!0:re,T=U*2+G;return C.createElement(ee,{className:O},w||_?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(k)},C.createElement("rect",{x:w?p:p-m/2,y:_?u:u-h/2,width:w?m:m*2,height:_?h:h*2})),!ie&&C.createElement("clipPath",{id:"clipPath-dots-".concat(k)},C.createElement("rect",{x:p-T/2,y:u-T/2,width:m+T,height:h+T}))):null,g?null:this.renderArea(S,k),(n||g)&&this.renderDots(S,ie,k),(!y||M)&&_t.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:r.curPoints,prevBaseLine:r.curBaseLine}:a.points!==r.curPoints||a.baseLine!==r.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(b.PureComponent);He=$;P($,"displayName","Area");P($,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Et.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});P($,"getBaseValue",function(t,e,s,a){var r=t.layout,o=t.baseValue,n=e.props.baseValue,d=n!=null?n:o;if(K(d)&&typeof d=="number")return d;var f=r==="horizontal"?a:s,u=f.scale.domain();if(f.type==="number"){var p=Math.max(u[0],u[1]),c=Math.min(u[0],u[1]);return d==="dataMin"?c:d==="dataMax"||p<0?p:Math.max(Math.min(u[0],u[1]),0)}return d==="dataMin"?u[0]:d==="dataMax"?u[1]:u[0]});P($,"getComposedData",function(t){var e=t.props,s=t.item,a=t.xAxis,r=t.yAxis,o=t.xAxisTicks,n=t.yAxisTicks,d=t.bandSize,f=t.dataKey,u=t.stackedData,p=t.dataStartIndex,c=t.displayedData,l=t.offset,m=e.layout,h=u&&u.length,y=He.getBaseValue(e,s,a,r),v=m==="horizontal",M=!1,g=c.map(function(w,_){var S;h?S=u[p+_]:(S=Oe(w,f),Array.isArray(S)?M=!0:S=[y,S]);var k=S[1]==null||h&&Oe(w,f)==null;return v?{x:ke({axis:a,ticks:o,bandSize:d,entry:w,index:_}),y:k?null:r.scale(S[1]),value:S,payload:w}:{x:k?null:a.scale(S[1]),y:ke({axis:r,ticks:n,bandSize:d,entry:w,index:_}),value:S,payload:w}}),O;return h||M?O=g.map(function(w){var _=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:_!=null&&w.y!=null?r.scale(_):null}:{x:_!=null?a.scale(_):null,y:w.y}}):O=v?r.scale(y):a.scale(y),B({points:g,baseLine:O,layout:m,isRange:M},l)});P($,"renderDotItem",function(t,e){var s;if(C.isValidElement(t))s=C.cloneElement(t,e);else if(ve(t))s=t(e);else{var a=be("recharts-area-dot",typeof t!="boolean"?t.className:""),r=e.key,o=Ke(e,Zt);s=C.createElement(St,Q({},o,{key:r,className:a}))}return s});var la=jt({chartName:"AreaChart",GraphicalChild:$,axisComponents:[{axisType:"xAxis",AxisComp:ze},{axisType:"yAxis",AxisComp:Xe}],formatAxisMap:Dt});function Y(t){"use forget";const e=it.c(21),{query:s,config:a}=t,r=ue(),{data:o,isLoading:n,isError:d,error:f}=s;d&&dt.error(a.loggerMessage,{error:f});let u;e[0]!==a||e[1]!==o||e[2]!==r||e[3]!==d||e[4]!==n?(u=a.buildChartData({response:o,isError:d,isLoading:n,intl:r}),e[0]=a,e[1]=o,e[2]=r,e[3]=d,e[4]=n,e[5]=u):u=e[5];const p=u;let c;e[6]!==a.errorMessage||e[7]!==d?(c=d?i.jsx("p",{className:"mt-6 text-sm text-red-600 dark:text-red-400",children:i.jsx(x,X({},a.errorMessage))}):null,e[6]=a.errorMessage,e[7]=d,e[8]=c):c=e[8];let l;e[9]!==a.title?(l=i.jsx(x,X({},a.title)),e[9]=a.title,e[10]=l):l=e[10];let m;e[11]!==p||e[12]!==a.clientEventSource||e[13]!==a.hideLegend||e[14]!==a.otherGroupLabel||e[15]!==a.seriesColorMap||e[16]!==l?(m=i.jsx("div",{className:"mt-8",children:i.jsx(xe,{title:l,data:p,clientEventSource:a.clientEventSource,hideLegend:a.hideLegend,otherGroupLabel:a.otherGroupLabel,seriesColorMap:a.seriesColorMap})}),e[11]=p,e[12]=a.clientEventSource,e[13]=a.hideLegend,e[14]=a.otherGroupLabel,e[15]=a.seriesColorMap,e[16]=l,e[17]=m):m=e[17];let h;return e[18]!==c||e[19]!==m?(h=i.jsxs(i.Fragment,{children:[c,m]}),e[18]=c,e[19]=m,e[20]=h):h=e[20],h}function ca({seriesId:t,aggregation:e,seriesLabelMessage:s}){return({response:a,isError:r,isLoading:o,intl:n})=>Qt({response:a,isLoading:o,isError:r,seriesId:t,displayName:n.formatMessage(s),aggregation:e})}function da({seriesLabelMessages:t}){return({response:e,isError:s,isLoading:a,intl:r})=>{const o=Object.fromEntries(Object.entries(t).map(([f,u])=>[f,r.formatMessage(u)])),{chartData:n,isLoading:d}=Qe({response:e,isError:s,isLoading:a,seriesLabels:o});return d?"loading":n}}const A={codeReview:"#ffab00",web:"#ff3621",vscode:"#00a972",cli:"#077a9d"},J={codeReviewTasks:A.codeReview,codeReviewUsers:A.codeReview,webTasks:A.web,webUsers:A.web,vscodeUsers:A.vscode,cliUsers:A.cli};function ua({isOpen:t,onClose:e,selectedFormat:s,onFormatChange:a,onDownload:r,activeDownload:o,showSessionsMessagesDataset:n}){const d=ue();if(!t)return null;const f=(c,l)=>(o==null?void 0:o.key)===c&&(o==null?void 0:o.format)===l,u=o!==null,p=(c,l,m)=>i.jsxs("div",{className:"border-token-border-default flex flex-col gap-3 rounded-lg border p-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-token-text-primary font-medium",children:l}),i.jsx("p",{className:"text-token-text-tertiary text-sm",children:m})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:i.jsx(Ge,{color:"secondary",onClick:()=>r(c,s),loading:f(c,s),disabled:u&&!f(c,s),type:"button",children:i.jsx(x,{id:"codex.analytics.exportModal.download",defaultMessage:"Download"})})})]});return i.jsx(ut,{isOpen:!0,onClose:e,showCloseButton:!0,testId:"modal-codex-analytics-export",title:i.jsx(x,{id:"codex.analytics.exportModal.title",defaultMessage:"Export Codex analytics"}),contentClassName:"flex flex-col gap-4",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-token-text-tertiary text-sm font-medium",children:i.jsx(x,{id:"codex.analytics.exportModal.csvLabel",defaultMessage:"CSV"})}),i.jsx(gt,{ariaLabel:d.formatMessage({id:"codex.analytics.exportModal.formatLabel",defaultMessage:"Toggle export format"}),value:s,onChange:c=>a(c==="json"?"json":"csv"),isCompact:!0,className:"w-14",leftItem:{value:"csv",label:""},rightItem:{value:"json",label:""}}),i.jsx("span",{className:"text-token-text-tertiary text-sm font-medium",children:i.jsx(x,{id:"codex.analytics.exportModal.jsonLabel",defaultMessage:"JSON"})})]}),p("dailyCodeReviewCounts",i.jsx(x,{id:"codex.analytics.exportModal.datasets.codeReviewCounts.label",defaultMessage:"Code review users and reviews"}),i.jsx(x,{id:"codex.analytics.exportModal.datasets.codeReviewCounts.description",defaultMessage:"Daily unique users and total reviews completed in Code Review."})),p("dailyCodeReviewMetrics",i.jsx(x,{id:"codex.analytics.exportModal.datasets.codeReviewMetrics.label",defaultMessage:"Code review findings and feedback"}),i.jsx(x,{id:"codex.analytics.exportModal.datasets.codeReviewMetrics.description",defaultMessage:"Daily counts of comments, reactions, replies, and priority-level findings."})),p("dailyWebTaskCounts",i.jsx(x,{id:"codex.analytics.exportModal.datasets.webTaskCounts.label",defaultMessage:"Cloud users and tasks"}),i.jsx(x,{id:"codex.analytics.exportModal.datasets.webTaskCounts.description",defaultMessage:"Daily unique Cloud users and tasks completed."})),p("dailyCliVsCodeUsageCounts",i.jsx(x,{id:"codex.analytics.exportModal.datasets.cliVsCodeUsageCounts.label",defaultMessage:"CLI and VS Code users"}),i.jsx(x,{id:"codex.analytics.exportModal.datasets.cliVsCodeUsageCounts.description",defaultMessage:"Daily unique users for the Codex CLI and VS Code extension."})),n?p("dailySessionsMessagesCounts",i.jsx(x,{id:"codex.analytics.exportModal.datasets.sessionsMessagesCounts.label",defaultMessage:"Sessions and messages per user"}),i.jsx(x,{id:"codex.analytics.exportModal.datasets.sessionsMessagesCounts.description",defaultMessage:"Daily session starts and user message counts for each Codex user across surfaces."})):null]})})}var $e;const Ue=pt.div($e||($e=Le(["flex h-full grow items-center justify-center text-lg text-token-text-tertiary"]))),pa=new Intl.NumberFormat(void 0,{maximumFractionDigits:0}),Ve=0,fa=10,ma=({x:t,y:e,payload:s,index:a,tickFormatter:r})=>{"use no forget";const o=a===0,n=o?t-Ve:t+Ve,d=o?"start":"end";return i.jsx("text",{x:n,y:e+fa,fill:Ye,textAnchor:d,fontSize:12,fontWeight:400,children:r(s.value)})},ha=(t,e)=>"".concat(pa.format(Number(t!=null?t:0)),"%");function ya({title:t,data:e,seriesOrder:s,seriesColorMap:a}){"use no forget";const r=ue(),o=b.useMemo(()=>e==="loading"?"loading":e.data.map(l=>{const m=s.reduce((y,v)=>{var M,g;return y+((g=(M=l.values)==null?void 0:M[v])!=null?g:0)},0),h={date:l.date};return s.forEach(y=>{var M,g;const v=(g=(M=l.values)==null?void 0:M[y])!=null?g:0;h[y]=m>0?v/m*100:0}),h}),[e,s]),n=b.useMemo(()=>s.map((l,m)=>{var h,y,v;return{key:l,displayName:e!=="loading"&&(y=(h=e.metrics[l])==null?void 0:h.displayName)!=null?y:l,color:(v=a[l])!=null?v:"hsl(".concat(m*137.5%360,"deg 60% 65%)")}}),[e,a,s]),d=b.useMemo(()=>Object.fromEntries(n.map(({key:l,displayName:m})=>[l,{displayName:m}])),[n]),[f,u]=b.useState();if(o==="loading")return i.jsxs("div",{className:"border-token-border-default mb-4 flex min-h-[350px] flex-col rounded-lg border pt-4 pb-4",children:[i.jsx("div",{className:"px-6",children:i.jsx("div",{className:"text-token-text-secondary text-sm",children:i.jsx(x,X({},t))})}),i.jsx(Ue,{children:i.jsx(ft,{})})]});const p=o.some(l=>s.some(m=>l[m]>0)),c=Math.max(0,o.length-2);return i.jsxs("div",{className:"border-token-border-default mb-4 flex min-h-[350px] flex-col rounded-lg border pt-4 pb-4",children:[i.jsx("div",{className:"px-6",children:i.jsx("div",{className:"text-token-text-secondary text-sm",children:i.jsx(x,X({},t))})}),p?i.jsx("div",{className:be(kt,"flex grow items-center"),"aria-label":r.formatMessage(t),children:i.jsx(At,{width:"100%",height:220,children:i.jsxs(la,{data:o,margin:{left:28,top:14,right:22},children:[i.jsx(ze,{dataKey:"date",axisLine:!1,tickLine:!1,tick:ma,tickFormatter:l=>mt(Lt(String(l)),"MMM d"),interval:c}),i.jsx(Rt,{content:i.jsx(Ot,{valueFormatter:ha,metricToLabel:d})}),i.jsx(Xe,{domain:[0,100],ticks:[0,100],tickFormatter:l=>"".concat(l,"%"),axisLine:!1,tickLine:!1,allowDecimals:!1,width:34,tick:{fontSize:11,fill:Ye}}),n.map(({key:l,color:m})=>{const h=f&&f!==l;return i.jsx($,{type:"monotone",dataKey:l,stackId:"1",stroke:m,strokeOpacity:h?.35:1,fill:m,fillOpacity:h?.18:.6,isAnimationActive:!1,className:"transition-opacity duration-150"},l)})]})})}):i.jsx(Ue,{children:i.jsx(x,{id:"codex.analytics.percentageStackedAreaChart.noData",defaultMessage:"No data for this period"})}),i.jsx("div",{className:"text-token-text-primary flex w-full flex-wrap items-center justify-center text-sm",children:n.map(({key:l,displayName:m,color:h})=>i.jsxs("div",{className:"mx-4 mb-1 flex cursor-pointer items-center justify-center",title:m,onMouseEnter:()=>u(l),onMouseLeave:()=>u(void 0),children:[i.jsx("div",{className:"me-1 h-2 w-2 rounded-[1px]",style:{backgroundColor:h}}),i.jsx("span",{className:"me-1 max-w-32 overflow-hidden text-ellipsis whitespace-nowrap",children:m})]},l))})]})}function te({seriesId:t,seriesLabel:e,title:s,errorMessage:a,loggerMessage:r,clientEventSource:o,seriesColor:n,aggregation:d="average",hideLegend:f=!0}){return{title:s,errorMessage:a,loggerMessage:r,clientEventSource:o,hideLegend:f,seriesColorMap:{[t]:n},buildChartData:ca({seriesId:t,aggregation:d,seriesLabelMessage:e})}}const ae={codeReviewUsers:te({seriesId:"codeReviewUsers",loggerMessage:"Failed to load Codex analytics code review users",clientEventSource:"codexDailyCodeReviewUsers",seriesColor:J.codeReviewUsers,title:{id:"codex.analytics.dailycodereviewusers.chartTitle",defaultMessage:"Daily code review users (past 30 days)",description:"Title for the Codex analytics chart that shows the average number of Code Review users per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailycodereviewusers.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics code review users chart fails to load"},seriesLabel:{id:"codex.analytics.dailycodereviewusers.chartSeriesLabel",defaultMessage:"Code review users",description:"Label for the code review users series shown on the Codex analytics chart"}}),webTasks:te({seriesId:"webTasks",loggerMessage:"Failed to load Codex analytics Cloud tasks",clientEventSource:"codexDailyWebTasks",seriesColor:J.webTasks,title:{id:"codex.analytics.dailywebtasks.chartTitle",defaultMessage:"Daily Cloud tasks (past 30 days)",description:"Title for the Codex analytics chart that shows the average number of Cloud tasks completed per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailywebtasks.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics Cloud tasks chart fails to load"},seriesLabel:{id:"codex.analytics.dailywebtasks.chartSeriesLabel",defaultMessage:"Cloud tasks",description:"Label for the Cloud tasks series displayed on the Codex analytics chart"}}),webUsers:te({seriesId:"webUsers",loggerMessage:"Failed to load Codex analytics Cloud users",clientEventSource:"codexDailyWebUsers",seriesColor:J.webUsers,title:{id:"codex.analytics.dailywebusers.chartTitle",defaultMessage:"Daily Cloud users (past 30 days)",description:"Title for the Codex analytics chart that shows the average number of Cloud users per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailywebusers.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics Cloud users chart fails to load"},seriesLabel:{id:"codex.analytics.dailywebusers.chartSeriesLabel",defaultMessage:"Cloud users",description:"Label for the Cloud users series displayed on the Codex analytics chart"}}),vscodeUsers:te({seriesId:"vscodeUsers",loggerMessage:"Failed to load Codex analytics VS Code users",clientEventSource:"codexDailyVSCodeUsers",seriesColor:J.vscodeUsers,title:{id:"codex.analytics.dailyvscodeusers.chartTitle",defaultMessage:"Daily VS Code extension users (past 30 days)",description:"Title for the Codex analytics chart that shows the average number of VS Code extension users per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailyvscodeusers.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics VS Code users chart fails to load"},seriesLabel:{id:"codex.analytics.dailyvscodeusers.chartSeriesLabel",defaultMessage:"VS Code extension users",description:"Label for the VS Code users series displayed on the Codex analytics chart"}}),cliUsers:te({seriesId:"cliUsers",loggerMessage:"Failed to load Codex analytics CLI users",clientEventSource:"codexDailyCliUsers",seriesColor:J.cliUsers,title:{id:"codex.analytics.dailycliusers.chartTitle",defaultMessage:"Daily CLI users (past 30 days)",description:"Title for the Codex analytics chart that shows the average number of CLI users per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailycliusers.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics CLI users chart fails to load"},seriesLabel:{id:"codex.analytics.dailycliusers.chartSeriesLabel",defaultMessage:"CLI users",description:"Label for the CLI users series displayed on the Codex analytics chart"}})},xa={id:"codex.analytics.dailycodereviews.chartSeriesLabel",defaultMessage:"Code reviews",description:"Label for the single series displayed on the Codex analytics chart"},va={title:{id:"codex.analytics.dailycodereviews.chartTitle",defaultMessage:"Daily code reviews (past 30 days)",description:"Title for the Codex analytics chart which shows the average number of code reviews performed per day over the past 30 days"},errorMessage:{id:"codex.analytics.dailycodereviews.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when Codex analytics overview fails to load"},loggerMessage:"Failed to load Codex analytics overview",clientEventSource:"codexDailyCodeReviewTasks",hideLegend:!0,seriesColorMap:{codeReviewTasks:J.codeReviewTasks},buildChartData:_a()},ga={codeReview:{id:"codex.analytics.dailyproductusageoverview.codeReviewSeriesLabel",defaultMessage:"Code review",description:"Label for the code review bar series displayed on the product usage overview chart"},web:{id:"codex.analytics.dailyproductusageoverview.webSeriesLabel",defaultMessage:"Cloud",description:"Label for the Cloud bar series displayed on the product usage overview chart"},vscode:{id:"codex.analytics.dailyproductusageoverview.vscodeSeriesLabel",defaultMessage:"VS Code",description:"Label for the VS Code bar series displayed on the product usage overview chart"},cli:{id:"codex.analytics.dailyproductusageoverview.cliSeriesLabel",defaultMessage:"CLI",description:"Label for the CLI bar series displayed on the product usage overview chart"}},Ca={title:{id:"codex.analytics.dailyproductusageoverview.chartTitle",defaultMessage:"Daily users by product (past 30 days)",description:"Title for the Codex analytics chart that shows daily users broken down by product"},errorMessage:{id:"codex.analytics.dailyproductusageoverview.error",defaultMessage:"We ran into an issue loading analytics. Data shown may be out of date.",description:"Error message shown when the Codex analytics product usage overview chart fails to load"},loggerMessage:"Failed to load Codex analytics product usage overview",clientEventSource:"codexDailyProductUsageOverview",seriesColorMap:{codeReview:A.codeReview,web:A.web,vscode:A.vscode,cli:A.cli},buildChartData:da({seriesLabelMessages:ga})},me={p0:{id:"codex.analytics.dailycodereviewpriority.series.p0",defaultMessage:"P0 issues",description:"Legend label for the daily code review chart showing the number of priority zero issues"},p1:{id:"codex.analytics.dailycodereviewpriority.series.p1",defaultMessage:"P1 issues",description:"Legend label for the daily code review chart showing the number of priority one issues"},p2:{id:"codex.analytics.dailycodereviewpriority.series.p2",defaultMessage:"P2 issues",description:"Legend label for the daily code review chart showing the number of priority two issues"}},ba={p0:"#2A5EB1",p1:"#3A7DE8",p2:"#B8C6F6"},wa={id:"codex.analytics.dailycodereviewreactions.chartTitle",defaultMessage:"Daily code review feedback sentiment (past 30 days)",description:"Title for the chart that shows average daily code review reactions broken down by reaction type"},he={plus1:{id:"codex.analytics.dailycodereviewreactions.series.plus1",defaultMessage:"ðŸ‘ reactions",description:"Legend label for the daily code review reactions chart showing the number of +1 reactions"},minus1:{id:"codex.analytics.dailycodereviewreactions.series.minus1",defaultMessage:"ðŸ‘Ž reactions",description:"Legend label for the daily code review reactions chart showing the number of -1 reactions"},other:{id:"codex.analytics.dailycodereviewreactions.series.other",defaultMessage:"Other reactions",description:"Legend label for the daily code review reactions chart showing the number of reactions that are neither +1 nor -1"}},We={plus1:A.vscode,minus1:A.web,other:A.cli},ce=["plus1","minus1","other"];function _a(){return({response:t,isError:e,isLoading:s,intl:a})=>{if(s)return"loading";const r=t,o=a.formatMessage(xa);if(r==null||r.data==null)return e?Ma(o):"loading";const n=r.data,d=n.reduce((u,p)=>u+p.n_tasks,0),f=n.length>0?Math.max(0,Math.round(d/n.length)):0;return{data:n.map(u=>({date:u.date,total:u.n_tasks,values:{codeReviewTasks:u.n_tasks}})),metrics:{codeReviewTasks:{total:f,displayName:o}}}}}function Ma(t){return{data:[],metrics:{codeReviewTasks:{total:0,displayName:t}}}}function ye(t,e){if(!(t==null||t.data==null))return{data:t.data.map(s=>({date:s.date,value:s[e]}))}}function se(t,e){return{data:e,isLoading:t.isLoading,isError:t.isError,error:t.error}}function Fe({isUpsell:t=!1}={}){var _e,Me;const e=ht(),s=ue(),a=yt(),[r,o]=b.useState(!1),[n,d]=b.useState(null),[f,u]=b.useState("csv"),p=Tt(),c=Nt(),l=It(),m=xt(e,"1082032895"),h=Pt(),y=Ut({enabled:m}),v=b.useMemo(()=>({p0:s.formatMessage(me.p0),p1:s.formatMessage(me.p1),p2:s.formatMessage(me.p2)}),[s]),M=b.useMemo(()=>({plus1:s.formatMessage(he.plus1),minus1:s.formatMessage(he.minus1),other:s.formatMessage(he.other)}),[s]),g=b.useMemo(()=>{const{chartData:E,isLoading:L}=Ht({response:c.data,isLoading:c.isLoading,isError:c.isError,seriesLabels:v});if(L)return"loading";const R=["p0","p1","p2"],oe=R.reduce((j,N)=>{const F=E.metrics[N];return F&&(j[N]=F),j},{});return{data:E.data.map(j=>{const N={};return R.forEach(F=>{var Ee;N[F]=(Ee=j.values[F])!=null?Ee:0}),pe(X({},j),{values:N})}),metrics:oe}},[v,c.data,c.isError,c.isLoading]),O=b.useMemo(()=>{const{chartData:E,isLoading:L}=Kt({response:c.data,isLoading:c.isLoading,isError:c.isError,seriesLabels:M});if(L)return"loading";const R=ce.reduce((V,j)=>{const N=E.metrics[j];return N&&(V[j]=N),V},{});return{data:E.data.map(V=>{const j={};return ce.forEach(N=>{var F;j[N]=(F=V.values[N])!=null?F:0}),pe(X({},V),{values:j})}),metrics:R}},[M,c.data,c.isError,c.isLoading]),_={data:b.useMemo(()=>Ea(p.data,l.data,h.data),[h.data,p.data,l.data]),isLoading:p.isLoading||l.isLoading||h.isLoading,isError:p.isError||l.isError||h.isError,error:(Me=(_e=p.error)!=null?_e:l.error)!=null?Me:h.error},S=b.useMemo(()=>ye(p.data,"n_users"),[p.data]),k=se(p,S),D=b.useMemo(()=>ye(l.data,"n_tasks"),[l.data]),W=b.useMemo(()=>ye(l.data,"n_users"),[l.data]),U=se(l,D),I=se(l,W),G=b.useMemo(()=>Be(h.data,"n_vscode_users"),[h.data]),z=se(h,G),re=b.useMemo(()=>Be(h.data,"n_cli_users"),[h.data]),ie=se(h,re),T=b.useCallback(async E=>{if(E.data!==void 0)return E.data;const L=await E.refetch();if(L.error)throw L.error;return L.data},[]),we=b.useCallback(async E=>{switch(E){case"dailyCodeReviewCounts":return await T(p);case"dailyCodeReviewMetrics":return await T(c);case"dailyWebTaskCounts":return await T(l);case"dailyCliVsCodeUsageCounts":return await T(h);case"dailySessionsMessagesCounts":return m?await T(y):void 0;default:return}},[h,p,c,y,l,m,T]),et=b.useCallback(async(E,L)=>{if(!n){d({key:E,format:L});try{const R=await we(E);if(!R)throw new Error("Dataset not found");const oe=zt(R.data),V=Xt(E,L,oe);if(L==="json"){const j=JSON.stringify(R!=null?R:{data:[]},null,2);Ne({data:j,mimeType:"application/json",filename:V})}else{const j=Yt(E,R);Ne({data:j,mimeType:"text/csv;charset=utf-8",filename:V})}}catch(R){a.danger(s.formatMessage({id:"codex.analytics.exportModal.error",defaultMessage:"We couldn't export that dataset right now. Try again later."}),{toastId:"codex_analytics_export_error_".concat(E,"_").concat(L)})}finally{d(null)}}},[n,we,s,a]);return i.jsxs(vt,{topPadding:!0,showSidebar:!t,canShowAlert:!t,hideHeaderNotificationBell:t,hideHeaderSettings:t,children:[i.jsxs("div",{className:"mx-auto flex h-full max-w-screen-xl flex-1 flex-col gap-10 ps-4 pe-12 pb-16",children:[i.jsx("header",{className:"border-token-border-heavy flex flex-col border-b",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-token-text-primary py-2 text-xl leading-7 font-medium",children:i.jsx(x,{id:"codex.analytics.title",defaultMessage:"Codex Analytics"})}),t?null:i.jsx(Ge,{color:"secondary",onClick:()=>o(!0),type:"button",children:i.jsx(x,{id:"codex.analytics.export.button",defaultMessage:"Export data"})})]})}),i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsxs("section",{className:"flex flex-col gap-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.jsx(x,{id:"codex.analytics.sections.overall",defaultMessage:"Overall"})}),i.jsx(Y,{query:_,config:Ca})]}),i.jsxs("section",{className:"mt-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.jsx(x,{id:"codex.analytics.sections.codeReview",defaultMessage:"Code review"})}),i.jsx(Y,{query:k,config:ae.codeReviewUsers}),i.jsx(Y,{query:p,config:va}),i.jsx("div",{className:"mt-8",children:i.jsx(xe,{title:i.jsx(x,{id:"codex.analytics.dailycodereviewpriority.chartTitle",defaultMessage:"Daily code review issues by priority (past 30 days"}),data:g,clientEventSource:"codexDailyCodeReviewPriority",seriesColorMap:ba,forceStack:!0,stackOrder:["p2","p1","p0"],legendOrder:["p0","p1","p2"]})}),i.jsx("div",{className:"mt-8",children:i.jsx(xe,{title:i.jsx(x,{id:"codex.analytics.dailycodereviewreactions.chartTitle",defaultMessage:"Daily code review reactions (past 30 days"}),data:O,clientEventSource:"codexDailyCodeReviewReactions",seriesColorMap:We,legendOrder:ce})}),i.jsx("div",{className:"mt-8",children:i.jsx(ya,{title:wa,data:O,seriesOrder:ce,seriesColorMap:We})})]}),i.jsxs("section",{className:"mt-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.jsx(x,{id:"codex.analytics.sections.web",defaultMessage:"Cloud"})}),i.jsx(Y,{query:U,config:ae.webTasks}),i.jsx(Y,{query:I,config:ae.webUsers})]}),i.jsxs("section",{className:"mt-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.jsx(x,{id:"codex.analytics.sections.vscode",defaultMessage:"VS Code"})}),i.jsx(Y,{query:z,config:ae.vscodeUsers})]}),i.jsxs("section",{className:"mt-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.jsx(x,{id:"codex.analytics.sections.cli",defaultMessage:"CLI"})}),i.jsx(Y,{query:ie,config:ae.cliUsers})]})]})]}),i.jsx(ua,{isOpen:r,onClose:()=>{o(!1),d(null)},selectedFormat:f,onFormatChange:E=>u(E),onDownload:et,activeDownload:n,showSessionsMessagesDataset:m})]})}function Ea(t,e,s){var n,d,f;const a=new Map,r=(u,p,c)=>{var h;if(u==null||c==null)return;const l=Sa(u),m=(h=a.get(l))!=null?h:{};m[p]=c,a.set(l,m)};return(n=t==null?void 0:t.data)==null||n.forEach(({date:u,n_users:p})=>r(u,"codeReview",p)),(d=e==null?void 0:e.data)==null||d.forEach(({date:u,n_users:p})=>r(u,"web",p)),(f=s==null?void 0:s.data)==null||f.forEach(({date:u,n_cli_users:p,n_vscode_users:c})=>{r(u,"cli",p),r(u,"vscode",c)}),a.size===0?void 0:{data:Array.from(a.keys()).sort().map(u=>{var c,l,m,h,y;const p=(c=a.get(u))!=null?c:{};return{date:u,values:{codeReview:(l=p.codeReview)!=null?l:0,web:(m=p.web)!=null?m:0,vscode:(h=p.vscode)!=null?h:0,cli:(y=p.cli)!=null?y:0}}})}}function Sa(t){return typeof t=="string"?t:t.toISOString().slice(0,10)}function Be(t,e){if(!(t==null||t.data==null))return{data:t.data.map(s=>{var a,r;return{date:s.date,value:e==="n_cli_users"?(a=s.n_cli_users)!=null?a:0:(r=s.n_vscode_users)!=null?r:0}})}}const ys=()=>[{title:"Codex"}],xs=ot(function(){var r;const e=nt(),s=ct(),a=!!((r=e.state)!=null&&r.embed);return s?a?i.jsx(Fe,{isUpsell:!0}):i.jsx(Fe,{}):i.jsx(lt,{to:"/codex",replace:!0})});export{xs as default,ys as meta};
//# sourceMappingURL=fsdr23vojic1em7s.js.map
