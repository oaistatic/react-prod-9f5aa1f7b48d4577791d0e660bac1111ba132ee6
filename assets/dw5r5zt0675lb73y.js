import{c as L,e as G,j as e,r as F}from"./i8clt0mfz495j7ii.js";import{jL as R,jK as M,$ as q,d as I,C as J,aR as Q}from"./ghewn7l2ynbm32fm.js";import{gD as U,gE as V,gF as X,gG as Z,gH as tt}from"./j0yo6uv6652vva62.js";function et(o){"use forget";const t=L.c(27),{modalInfo:f,formatAction:n,onClose:x}=o,{action_items:s}=f,b=G();let c;t[0]!==s?(c=s!=null?s:[],t[0]=s,t[1]=c):c=t[1];let C;t[2]!==c?(C=c.find(lt),t[2]=c,t[3]=C):C=t[3];const u=C;let j;t[4]!==u||t[5]!==n?(j={dropdownAction:u,formatAction:n},t[4]=u,t[5]=n,t[6]=j):j=t[6];const r=U(j);if(!(s!=null&&s.length))return null;if(u&&r.length>0){let a;return t[7]!==u||t[8]!==r||t[9]!==f||t[10]!==x?(a=e.jsx("div",{className:"flex w-full flex-col items-center gap-2 px-8 pb-8",children:e.jsx(X,{variant:"modal",beaconInfo:f,dropdownAction:u,dropdownItems:r,onClose:x})}),t[7]=u,t[8]=r,t[9]=f,t[10]=x,t[11]=a):a=t[11],a}let l,m,h;if(t[12]!==s||t[13]!==n||t[14]!==b||t[15]!==x){h=Symbol.for("react.early_return_sentinel");t:{let a;t[19]!==n?(a=p=>{const g=n(p);return g?{action:p,formatted:g}:null},t[19]=n,t[20]=a):a=t[20];const y=(s!=null?s:[]).map(a).filter(st),d=y.find(ot);if(d&&d.formatted&&"onThennableClick"in d.formatted&&d.formatted.onThennableClick){h=e.jsx("div",{className:"flex justify-center pb-10",children:e.jsx(V,{onThennableClick:d.formatted.onThennableClick,text:d.formatted.text})});break t}const _=y.filter(nt);if(_.length===0){h=null;break t}l="mx-6 flex flex-col gap-3 pb-8 sm:flex-row sm:justify-end";let v;t[21]!==b||t[22]!==x?(v=p=>{const{action:g,formatted:i}=p,B=typeof i.text=="string"?i.text:b.formatMessage(i.text),O=async()=>{var A;"onThennableClick"in i&&i.onThennableClick?await i.onThennableClick():(A=i.onClick)==null||A.call(i),x()};return e.jsx(q,{onClick:O,color:Z(g.type),size:"large",children:B},g.id)},t[21]=b,t[22]=x,t[23]=v):v=t[23],m=_.map(v)}t[12]=s,t[13]=n,t[14]=b,t[15]=x,t[16]=l,t[17]=m,t[18]=h}else l=t[16],m=t[17],h=t[18];if(h!==Symbol.for("react.early_return_sentinel"))return h;let k;return t[24]!==l||t[25]!==m?(k=e.jsx("div",{className:l,children:m}),t[24]=l,t[25]=m,t[26]=k):k=t[26],k}function nt(o){const{action:t}=o;return t.type!==M.COPY}function ot(o){const{action:t,formatted:f}=o;return t.type===M.COPY&&"onThennableClick"in f&&typeof f.onThennableClick=="function"}function st(o){return o!=null}function lt(o){return(o==null?void 0:o.action_v2.action_enum)===R.DROPDOWN}function xt(o){"use forget";const t=L.c(27),{onDismiss:f,onClose:n,openFileDialog:x,persistedSystemHintsStore:s,composerController:b,modalInfo:c,clientThreadId:C}=o,{title:u,description:j,header_image_url:r}=c.ui_info,{action_items:l,footer_text:m}=c,[h,k]=F.useState(!1);let a,y;t[0]!==r?(a=()=>{if(r){const S=new Image;S.src=r,S.onload=()=>k(!0)}},y=[r],t[0]=r,t[1]=a,t[2]=y):(a=t[1],y=t[2]),F.useEffect(a,y);const d=!(l!=null&&l.length),_=l==null?void 0:l.some(at),v=l==null?void 0:l.some(ct),p=_||v;let g;t[3]!==C||t[4]!==b||t[5]!==c||t[6]!==x||t[7]!==s?(g={clientThreadId:C,location:"beacon_modal",composerController:b,persistedSystemHintsStore:s,openFileDialog:x,beaconInfo:c},t[3]=C,t[4]=b,t[5]=c,t[6]=x,t[7]=s,t[8]=g):g=t[8];const i=tt(g);if(r&&!h)return null;const B=J,O=!0,A="modal-beacon",z="custom",Y="success",H=!0,K=!1,E=I("relative flex max-w-[400px] flex-col",p&&"max-w-[480px]"),P=p?()=>{f(),n()}:void 0,W=!0;let w;t[9]!==n||t[10]!==f?(w=e.jsx("div",{className:"absolute end-4 top-4 z-50",children:e.jsx(Q,{className:"text-token-text-secondary ring-0! outline-0! focus:ring-0! focus:ring-offset-0! focus:outline-0!",onClick:()=>{f(),n()}})}),t[9]=n,t[10]=f,t[11]=w):w=t[11];const $=r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative w-full flex-1",children:e.jsx("img",{src:r,className:"w-full object-contain object-bottom",alt:""})}),e.jsxs("div",{className:I("-mt-4 flex flex-1 flex-col gap-6 px-8",d&&"pb-16",p&&"mt-0! items-center justify-center! gap-2! pt-10 pb-6"),children:[e.jsx("div",{className:"".concat(d?"text-center text-[24px]":"text-start text-[20px]"," leading-7 font-medium"),children:u}),e.jsx("div",{className:I("text-token-text-secondary -mt-4 w-full text-start text-[16px] font-normal",d&&"text-center text-[17px]",p&&"mt-0! text-center!"),children:j})]})]}):e.jsxs("div",{className:"flex flex-1 flex-col gap-6 px-8 pt-12 pb-8",children:[e.jsx("div",{className:"".concat(d?"text-center text-[24px]":"text-start text-[20px]"," leading-7 font-medium"),children:u}),e.jsx("div",{className:I("text-token-text-secondary -mt-4 w-full text-start text-[16px] font-normal",d&&"text-center text-[17px]",p&&"mt-0!"),children:j})]});let N;t[12]!==i||t[13]!==c||t[14]!==n?(N=e.jsx(et,{modalInfo:c,formatAction:i,onClose:n}),t[12]=i,t[13]=c,t[14]=n,t[15]=N):N=t[15];let T;t[16]!==m?(T=m&&e.jsx("div",{className:"text-token-text-tertiary px-8 pb-10 font-normal",children:m}),t[16]=m,t[17]=T):T=t[17];let D;return t[18]!==B||t[19]!==n||t[20]!==E||t[21]!==P||t[22]!==w||t[23]!==$||t[24]!==N||t[25]!==T?(D=e.jsxs(B,{isOpen:O,onClose:n,testId:A,size:z,type:Y,noPadding:H,showCloseButton:K,className:E,onEscapeKeyDown:P,shouldIgnoreClickOutside:W,children:[w,$,N,T]}),t[18]=B,t[19]=n,t[20]=E,t[21]=P,t[22]=w,t[23]=$,t[24]=N,t[25]=T,t[26]=D):D=t[26],D}function ct(o){return o.action_v2.action_enum===R.DROPDOWN}function at(o){return o.action_v2.action_enum===R.COPY_TO_CLIPBOARD}export{xt as BeaconModal};
//# sourceMappingURL=dw5r5zt0675lb73y.js.map
