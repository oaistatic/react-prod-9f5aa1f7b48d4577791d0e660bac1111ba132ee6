const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o84nb2862ibyoi1c.js","assets/i8clt0mfz495j7ii.js","assets/khzlteyrl3j9opbq.js","assets/mac79w4mfw6b5s9m.js","assets/jyroje0qaxw6h3z1.js","assets/fsmgof058qqyu9y1.js","assets/nju52ppu7cxhyzrm.js"])))=>i.map(i=>d[i]);
import{_ as C,j as t,M as _,c as _e,e as be}from"./i8clt0mfz495j7ii.js";import{o as w,L as T,d as y,eo as Ne,e4 as ie,J as Pe,P as Me,u as De,aW as we,aV as Te,T as Re}from"./ghewn7l2ynbm32fm.js";import{C as Le}from"./hk7ym2rzlomukbdz.js";import{cv as Ae,gt as Oe,gu as Ve,gv as Ee,gw as Se,b$ as qe}from"./j0yo6uv6652vva62.js";const Be=w(()=>C(()=>import("./o84nb2862ibyoi1c.js").then(s=>s._),__vite__mapDeps([0,1])),{loading:s=>T(s)}),He=w(()=>C(()=>import("./khzlteyrl3j9opbq.js").then(s=>s._),__vite__mapDeps([2,1])),{loading:s=>T(s)}),ze=w(()=>C(()=>import("./mac79w4mfw6b5s9m.js").then(s=>s._),__vite__mapDeps([3,1])),{loading:s=>T(s)}),$e=w(()=>C(()=>import("./jyroje0qaxw6h3z1.js").then(s=>s._),__vite__mapDeps([4,1])),{loading:s=>T(s)}),Fe=w(()=>C(()=>import("./fsmgof058qqyu9y1.js").then(s=>s._),__vite__mapDeps([5,1])),{loading:s=>T(s)}),Je=w(()=>C(()=>import("./nju52ppu7cxhyzrm.js").then(s=>s._),__vite__mapDeps([6,1])),{loading:s=>T(s)}),Ke=({conversation:s,isExpanded:e,agentVisualMode:o,setAgentVisualMode:a,isStreaming:l,isStopping:r,isKAUR1BR5:i})=>{const p=e||l,d=Ae(),{open:c}=Oe(),f=i==!0&&!l||d;return t.jsxs("div",{className:y("flex flex-1 flex-row items-center gap-2 px-1",l?"justify-end":"justify-between"),children:[!l&&t.jsx($e,{className:y("icon-sm text-token-text-secondary inline align-middle transition-transform",e&&"rotate-90")}),!r&&p&&t.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:t.jsxs(Ne,{side:"bottom",size:"small",contentClassName:"text-sm",triggerButton:t.jsx("button",{onPointerDown:n=>n.stopPropagation(),onClick:n=>n.stopPropagation(),className:"hover:bg-token-bg-tertiary flex max-h-6 items-center justify-center overflow-visible rounded-md p-1",children:t.jsx(Je,{className:"text-token-text-secondary size-5"})}),children:[o==="visual-cot"&&t.jsxs(ie.Item,{onClick:n=>{n.stopPropagation(),a==null||a("list-cot"),Ie("list-cot")},children:[t.jsx(He,{className:"icon"}),t.jsx(_,{id:"cot.listView",defaultMessage:"Activity"})]}),o==="list-cot"&&t.jsxs(ie.Item,{onClick:n=>{n.stopPropagation(),a==null||a("visual-cot"),Ie("visual-cot")},children:[t.jsx(ze,{className:"icon"}),t.jsx(_,{id:"cot.desktopView",defaultMessage:"Desktop view"})]}),!f&&t.jsxs(ie.Item,{onClick:n=>{n.stopPropagation(),c()},children:[t.jsx(Fe,{className:"icon"}),i?t.jsx(_,{id:"qMkIYk",defaultMessage:"Open tabs"}):t.jsx(_,{id:"cot.takeOverBrowser",defaultMessage:"Take over browser"})]}),!d&&l&&t.jsxs(ie.Item,{onClick:()=>Ve(s.id,void 0,{clientInitiated:!0,reason:"agent_cot_stop",isLastTurnAgent:!0}),children:[t.jsx(Be,{className:"icon"}),t.jsx(_,{id:"cot.stop",defaultMessage:"Stop"})]})]})})]})},Ie=s=>{Pe.addAction("agent.cot_view_change",{cot_view:s}),Me.logEvent("Agent CoT View Change",{cot_view:s})},ve=w(()=>C(()=>import("./jyroje0qaxw6h3z1.js").then(s=>s._),__vite__mapDeps([4,1])),{loading:s=>T(s)}),Ze=s=>{"use forget";const e=_e.c(94),{conversation:o,isExpanded:a,isExpandDisabled:l,showChunkIcon:r,isComplete:i,latestHeadline:p,latestChunk:d,counters:c,onToggleExpanded:f,skipTitle:n,onSkip:x,shouldDisplayVisualCoT:j,agentVisualMode:ne,setAgentVisualMode:ae,isStreaming:g,interruptionInProgress:le,isAgentVisualCoT:je,isKAUR1BR5:ke,wasInterrupted:ye,isAgentTurn:re,isGlauxTurn:E,taskType:W}=s,h=a===void 0?!1:a,k=l===void 0?!1:l,ce=r===void 0?!0:r,Q=j===void 0?!1:j,I=je===void 0?!1:je,de=ke===void 0?!1:ke,ue=ye===void 0?!1:ye,m=be(),pe=De();let Y;e[0]!==m||e[1]!==i||e[2]!==E||e[3]!==p||e[4]!==ue?(Y=p&&p.length>0?p:i?ue?m.formatMessage({id:"tD55er",defaultMessage:"Stopped thinking"}):m.formatMessage({id:"nkvZJE",defaultMessage:"Thought"}):E?m.formatMessage({id:"4XsLlK",defaultMessage:"Searching internal apps"}):m.formatMessage({id:"hgnsat",defaultMessage:"Thinking"}),e[0]=m,e[1]=i,e[2]=E,e[3]=p,e[4]=ue,e[5]=Y):Y=e[5];const Z=Y;let ee;e[6]!==m||e[7]!==W?(ee=W===Ee.PRO_MODE?m.formatMessage({id:"wOEgCa",defaultMessage:"Pro thinking"}):W===Ee.RESEARCH?m.formatMessage({id:"oNdsTH",defaultMessage:"Researching"}):void 0,e[6]=m,e[7]=W,e[8]=ee):ee=e[8];const b=ee;let N,u,P,M,D,R,L,A,v;e[9]!==c||e[10]!==pe||e[11]!==re||e[12]!==i||e[13]!==h||e[14]!==E||e[15]!==x?(u=Se(pe,!!re),P=!i&&(!h||u&&h)&&x&&!E,N=Re,R=i&&c&&(c.queries>0||c.sources>0)?void 0:!1,L="start",A="bottom",e[25]!==c?(v=c&&t.jsx(Xe,{counters:c}),e[25]=c,e[26]=v):v=e[26],D="relative w-full text-start",M=y("flex w-full flex-col items-start justify-between text-start",u&&"flex-row"),e[9]=c,e[10]=pe,e[11]=re,e[12]=i,e[13]=h,e[14]=E,e[15]=x,e[16]=N,e[17]=u,e[18]=P,e[19]=M,e[20]=D,e[21]=R,e[22]=L,e[23]=A,e[24]=v):(N=e[16],u=e[17],P=e[18],M=e[19],D=e[20],R=e[21],L=e[22],A=e[23],v=e[24]);const xe=(h||g)&&Q&&"justify-between";let O;e[27]!==xe?(O=y("flex w-full items-center gap-0.5",xe),e[27]=xe,e[28]=O):O=e[28];const me=!i&&"loading-shimmer",fe=!b&&"font-medium";let V;e[29]!==me||e[30]!==fe?(V=y(me,fe),e[29]=me,e[30]=fe,e[31]=V):V=e[31];const ge=b&&g&&"text-token-text-tertiary",he=i&&(k?"text-token-text-secondary dark:text-[var(--interactive-label-tertiary-default)]":"text-token-text-secondary hover:text-token-text-primary dark:hover:text-token-text-primary dark:text-[var(--interactive-label-tertiary-default)]");let S;e[32]!==ge||e[33]!==he?(S=y("flex items-center gap-1 truncate text-start align-middle",ge,he),e[32]=ge,e[33]=he,e[34]=S):S=e[34];let te,se;e[35]===Symbol.for("react.memo_cache_sentinel")?(te={opacity:1},se={type:"spring",duration:.3},e[35]=te,e[36]=se):(te=e[35],se=e[36]);let q;e[37]!==i||e[38]!==d||e[39]!==ce?(q=ce&&(d==null?void 0:d.type)!==qe.Recap&&t.jsx(Le,{chunk:d,isAnimated:!i,size:"medium",className:"text-token-text-tertiary",isHeadline:!0}),e[37]=i,e[38]=d,e[39]=ce,e[40]=q):q=e[40];let B;e[41]!==g||e[42]!==b?(B=b&&g&&t.jsxs("span",{className:"text-token-text-primary font-medium",children:[b," •"," "]}),e[41]=g,e[42]=b,e[43]=B):B=e[43];let H;e[44]!==u||e[45]!==I?(H=u&&!I&&t.jsx(ve,{className:"icon-xs"}),e[44]=u,e[45]=I,e[46]=H):H=e[46];let z;e[47]!==Z||e[48]!==S||e[49]!==q||e[50]!==B||e[51]!==H?(z=t.jsx(we,{mode:"popLayout",children:t.jsxs(Te.span,{className:S,initial:!1,animate:te,transition:se,children:[q,B,Z,H]},Z)}),e[47]=Z,e[48]=S,e[49]=q,e[50]=B,e[51]=H,e[52]=z):z=e[52];let $;e[53]!==V||e[54]!==z?($=t.jsx("span",{className:V,children:z}),e[53]=V,e[54]=z,e[55]=$):$=e[55];let F;e[56]!==ne||e[57]!==o||e[58]!==le||e[59]!==I||e[60]!==k||e[61]!==h||e[62]!==de||e[63]!==g||e[64]!==ae||e[65]!==Q?(F=(!k||Q)&&I&&t.jsx(Ue,{conversation:o,isExpanded:h,shouldDisplayVisualCoT:Q,agentVisualMode:ne,setAgentVisualMode:ae,isStreaming:g,isStopping:!!le,isKAUR1BR5:de}),e[56]=ne,e[57]=o,e[58]=le,e[59]=I,e[60]=k,e[61]=h,e[62]=de,e[63]=g,e[64]=ae,e[65]=Q,e[66]=F):F=e[66];let J;e[67]!==k||e[68]!==f||e[69]!==O||e[70]!==$||e[71]!==F?(J=t.jsxs("button",{disabled:k,onClick:f,className:O,children:[$,F]}),e[67]=k,e[68]=f,e[69]=O,e[70]=$,e[71]=F,e[72]=J):J=e[72];let K;e[73]!==u||e[74]!==x||e[75]!==P||e[76]!==n?(K=P&&t.jsx(Te.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},transition:{type:"spring",duration:.3},children:t.jsx("button",{onClick:Ce=>{x(Ce),Ce.stopPropagation()},className:"text-token-text-tertiary hover:text-token-text-primary whitespace-nowrap",children:t.jsxs("span",{className:u?"underline decoration-dotted":"flex items-center gap-0.5",children:[n!=null?n:t.jsx(_,{id:"+sOejI",defaultMessage:"Skip"}),!u&&t.jsx(ve,{className:"icon-xs"})]})})}),e[73]=u,e[74]=x,e[75]=P,e[76]=n,e[77]=K):K=e[77];let U;e[78]!==K?(U=t.jsx(we,{mode:"popLayout",children:K}),e[78]=K,e[79]=U):U=e[79];let X;e[80]!==M||e[81]!==J||e[82]!==U?(X=t.jsxs("div",{className:M,children:[J,U]}),e[80]=M,e[81]=J,e[82]=U,e[83]=X):X=e[83];let G;e[84]!==D||e[85]!==X?(G=t.jsx("div",{className:D,children:X}),e[84]=D,e[85]=X,e[86]=G):G=e[86];let oe;return e[87]!==N||e[88]!==R||e[89]!==L||e[90]!==A||e[91]!==v||e[92]!==G?(oe=t.jsx(N,{open:R,align:L,side:A,label:v,children:G}),e[87]=N,e[88]=R,e[89]=L,e[90]=A,e[91]=v,e[92]=G,e[93]=oe):oe=e[93],oe},Ue=s=>{"use forget";const e=_e.c(12),{conversation:o,isExpanded:a,shouldDisplayVisualCoT:l,agentVisualMode:r,setAgentVisualMode:i,isStreaming:p,isStopping:d,isKAUR1BR5:c}=s;if(l){let j;return e[0]!==r||e[1]!==o||e[2]!==a||e[3]!==c||e[4]!==d||e[5]!==p||e[6]!==i?(j=t.jsx(Ke,{conversation:o,isExpanded:a,agentVisualMode:r,setAgentVisualMode:i,isStreaming:p,isStopping:d,isKAUR1BR5:c}),e[0]=r,e[1]=o,e[2]=a,e[3]=c,e[4]=d,e[5]=p,e[6]=i,e[7]=j):j=e[7],j}const f=a&&"rotate-90";let n;e[8]!==f?(n=y("icon-sm text-token-text-secondary inline align-middle transition-transform",f),e[8]=f,e[9]=n):n=e[9];let x;return e[10]!==n?(x=t.jsx(ve,{className:n}),e[10]=n,e[11]=x):x=e[11],x},Xe=s=>{"use forget";const e=_e.c(11),{counters:o}=s;let a;e[0]!==o.queries?(a=o.queries>0&&t.jsx(_,{id:"JPkpiw",defaultMessage:"{queriesCount} searches",values:{queriesCount:o.queries}}),e[0]=o.queries,e[1]=a):a=e[1];let l;e[2]!==o.queries||e[3]!==o.sources?(l=o.queries>0&&o.sources>0&&t.jsx(t.Fragment,{children:" · "}),e[2]=o.queries,e[3]=o.sources,e[4]=l):l=e[4];let r;e[5]!==o.sources?(r=o.sources>0&&t.jsx(_,{id:"QnBAXR",defaultMessage:"{sourcesCount} sources",values:{sourcesCount:o.sources}}),e[5]=o.sources,e[6]=r):r=e[6];let i;return e[7]!==a||e[8]!==l||e[9]!==r?(i=t.jsxs(t.Fragment,{children:[a,l,r]}),e[7]=a,e[8]=l,e[9]=r,e[10]=i):i=e[10],i};export{Ze as C};
//# sourceMappingURL=gla0jqw9ed8nrnoj.js.map
