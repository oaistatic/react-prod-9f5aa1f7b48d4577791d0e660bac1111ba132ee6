const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghewn7l2ynbm32fm.js","assets/i8clt0mfz495j7ii.js","assets/root-c4psboex.css","assets/jjqgd38v1ezgeaoh.js","assets/hn0zdjjd828nk938.js","assets/naqsvqbaiaxuna8x.js","assets/fqz8sozslskhjbvs.js"])))=>i.map(i=>d[i]);
var Le=Object.defineProperty,Ce=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ee=(t,e,a)=>e in t?Le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,p=(t,e)=>{for(var a in e||(e={}))Te.call(e,a)&&ee(t,a,e[a]);if(X)for(var a of X(e))Ee.call(e,a)&&ee(t,a,e[a]);return t},R=(t,e)=>Ce(t,we(e));import{j as s,r as D,c as ce,M as g,_ as U,e as de,f as ue,b as Ae,k as V,R as Se}from"./i8clt0mfz495j7ii.js";import{qh as me,d as fe,o as $,L as H,qi as Re,h7 as De,aR as qe,$ as W,qj as Be,R as Pe,qk as Ge,oQ as ge,b0 as he,u as K,h as Oe,ql as Ie,P as I,qm as Fe,hB as We,hC as Ue,aK as $e,J as He}from"./ghewn7l2ynbm32fm.js";import{b as G}from"./mstl8wgfzorpgdoe.js";import{mQ as ze,d6 as Ye,ba as xe,dt as te,hk as Ve}from"./j0yo6uv6652vva62.js";import{s as pe,u as Ke}from"./odpifkjrqetqttqw.js";import{C as ye}from"./c0ls495fz2t1hbyy.js";import{u as Qe}from"./kies0pum9k231dhu.js";import{u as je}from"./gutjuo0v1j4y19t1.js";const ve=t=>{const e=[],a=/\[([^\]]+)\]\(([^)]+)\)/g;let o=0,n;for(;(n=a.exec(t))!==null;){n.index>o&&e.push(t.slice(o,n.index));const[l,c,r]=n;e.push(s.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"underline",children:c},"".concat(r,"-").concat(n.index))),o=n.index+l.length}return o<t.length&&e.push(t.slice(o)),e.length===0?t:e.length===1?e[0]:e},ke=({blurbs:t})=>{var e;return s.jsx("div",{className:"border-token-border-default rounded-2xl border px-4 py-2",children:Array.from({length:(e=t==null?void 0:t.length)!=null?e:3}).map((a,o)=>{const n=t==null?void 0:t[o];return s.jsx("div",{className:"border-token-border-default flex gap-4 border-b py-2 last-of-type:border-none",children:n?s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"pb-0.5 text-sm font-medium",children:n.title}),s.jsx("div",{className:"text-token-text-secondary text-xs",children:ve(n.description)})]}):s.jsx(me,{lines:2})},"".concat(o))})})},Ze=({blurbs:t})=>{var e;return s.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:(e=t==null?void 0:t.length)!=null?e:3}).map((a,o)=>{const n=t==null?void 0:t[o];return s.jsx(D.Fragment,{children:n?s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"text-token-text-secondary text-sm font-medium",children:n.title}),s.jsx("div",{className:"text-token-text-tertiary text-xs",children:ve(n.description)})]}):s.jsx(me,{lines:2})},"".concat(o))})})};function Je(t){try{const e=new DOMParser().parseFromString(t,"image/svg+xml"),a=new Set(["fill","stroke","stop-color","flood-color","lighting-color","color","background-color"]),o=[/#(?:[0-9a-fA-F]{3,8})\b/g,/\brgba?\(\s*[\d.\s%,]+\)/g,/\bhsla?\(\s*[\d.\s%,]+\)/g],n=/\b(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|black|white|bisque|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|whitesmoke|yellow|yellowgreen)\b/gi,l=new Set,c=i=>{var d,m;for(const u of o)((d=i.match(u))!=null?d:[]).forEach(f=>{var v;return l.add((v=se(f))!=null?v:"")});((m=i.match(n))!=null?m:[]).forEach(u=>{var f;return l.add((f=se(u.toLowerCase()))!=null?f:"")})};e.querySelectorAll("*").forEach(i=>{var d,m;for(const u of i.getAttributeNames())a.has(u)&&c((d=i.getAttribute(u))!=null?d:""),u==="style"&&c((m=i.getAttribute("style"))!=null?m:"")}),e.querySelectorAll("style").forEach(i=>c(i.textContent||"")),e.querySelectorAll("stop").forEach(i=>{const d=i.getAttribute("stop-color");d&&c(d);const m=i.getAttribute("style");m&&c(m)});for(const i of Array.from(l))/^url\(#/.test(i)&&l.delete(i),(i==="#000000"||i==="#ffffff")&&l.delete(i),i===""&&l.delete(i),i||l.delete(i);return Array.from(l)}catch(e){return[]}}const Xe=t=>Je(t).filter(a=>{const o=G.parse(a),n=G.getBlue(o),l=G.getGreen(o),c=G.getRed(o);return n!==l||l!==c});var B=(t=>(t[t.YELLOW=0]="YELLOW",t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=3]="BLUE",t))(B||{});const et=t=>Xe(t).reduce((o,n)=>{const l=G.parse(n),c=G.getBlue(l),r=G.getGreen(l),i=G.getRed(l);o.push({channel:3,score:c},{channel:2,score:r},{channel:1,score:i});const d=tt(i,r,c);return d>0&&o.push({channel:0,score:d}),o},[]).reduce((o,n)=>n.score>o.score||n.score===o.score&&n.channel<o.channel?n:o,{channel:3,score:0}).channel,tt=(t,e,a)=>{const o=Math.min(t,e),l=Math.max(t,e)-o;if(o<120||l>80||a>o*.6)return 0;const c=(t+e)/2,r=Math.max(o-a,0),i=c+r;return i>0?i:0};function se(t){const e=t.replace("#","").toLowerCase();return e.length===3||e.length===4?"#".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]):e.length===6||e.length===8?"#".concat(e.slice(0,6)):null}const st=$(()=>U(()=>import("./ghewn7l2ynbm32fm.js").then(t=>t.vJ),__vite__mapDeps([0,1,2])),{loading:t=>H(t)}),nt={[B.RED]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-red.jpg",[B.GREEN]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-green.jpg",[B.BLUE]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-blue.jpg",[B.YELLOW]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-yellow.jpg"},ot={[B.RED]:"light",[B.GREEN]:"light",[B.BLUE]:"dark",[B.YELLOW]:"light"},be=t=>{"use forget";var q,O,Y,Z,J;const e=ce.c(39),{blurbs:a,primaryActions:o,connector:n,onClose:l}=t,c=(q=n.logo_url)!=null?q:null,r=(O=n.logo_url_dark)!=null?O:null;let i;e[0]!==c||e[1]!==r?(i={lightLogoUrl:c,darkLogoUrl:r},e[0]=c,e[1]=r,e[2]=i):i=e[2];const d=ze(i);(Y=d.data)==null||Y.text;const m=et((J=(Z=d.data)==null?void 0:Z.text)!=null?J:""),u=ot[m];let f;e[3]!==u?(f=fe("bg-cover bg-no-repeat",u),e[3]=u,e[4]=f):f=e[4];const v="url(".concat(nt[m],")");let j;e[5]!==v?(j={backgroundImage:v},e[5]=v,e[6]=j):j=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(st,{className:"icon"}),e[7]=h):h=e[7];let x;e[8]!==l?(x=s.jsx("div",{className:"flex justify-end p-4",children:s.jsx(Ye,{className:"text-white",onClick:l,children:h})}),e[8]=l,e[9]=x):x=e[9];let y;e[10]!==n?(y=s.jsx(xe,{connector:n,className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",size:"medium"}),e[10]=n,e[11]=y):y=e[11];let M,N;e[12]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("div",{className:"my-auto h-14 w-px bg-white opacity-70"}),N=s.jsx(Re,{}),e[12]=M,e[13]=N):(M=e[12],N=e[13]);let A;e[14]!==y?(A=s.jsxs("div",{className:"flex items-center gap-3.5",children:[y,M,N]}),e[14]=y,e[15]=A):A=e[15];let E;e[16]!==n.name?(E=s.jsx("span",{className:"text-token-text-primary text-center text-2xl font-medium",children:s.jsx(g,{id:"Ihrgq0",defaultMessage:"Use {connectorName} in ChatGPT",values:{connectorName:n.name}})}),e[16]=n.name,e[17]=E):E=e[17];let _;e[18]!==n.description?(_=n.description&&s.jsx("span",{className:"text-token-text-secondary text-sm",children:n.description}),e[18]=n.description,e[19]=_):_=e[19];let k;e[20]!==E||e[21]!==_?(k=s.jsxs("div",{className:"flex flex-col items-center gap-2 px-10 text-center text-balance",children:[E,_]}),e[20]=E,e[21]=_,e[22]=k):k=e[22];let L;e[23]!==o?(L=s.jsx("div",{className:"flex items-center justify-center gap-4 pt-4 pb-10",children:o}),e[23]=o,e[24]=L):L=e[24];let C;e[25]!==A||e[26]!==k||e[27]!==L?(C=s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[A,k,L]}),e[25]=A,e[26]=k,e[27]=L,e[28]=C):C=e[28];let b;e[29]!==C||e[30]!==f||e[31]!==j||e[32]!==x?(b=s.jsxs("div",{className:f,style:j,children:[x,C]}),e[29]=C,e[30]=f,e[31]=j,e[32]=x,e[33]=b):b=e[33];let w;e[34]!==a?(w=s.jsx("div",{className:"p-4",children:s.jsx(Ze,{blurbs:a})}),e[34]=a,e[35]=w):w=e[35];let S;return e[36]!==b||e[37]!==w?(S=s.jsxs("div",{className:"flex flex-col",children:[b,w]}),e[36]=b,e[37]=w,e[38]=S):S=e[38],S},at=t=>{"use forget";const e=ce.c(44),{value:a,onChange:o,onClose:n,isSaveDisabled:l}=t,c=l===void 0?!1:l,[r,i]=D.useState(a),d=de();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("div",{className:"text-2xl font-semibold",children:s.jsx(g,p({},P.advancedSettingsTitle))}),e[0]=m):m=e[0];let u;e[1]!==n?(u=s.jsxs("div",{className:"flex items-start justify-between",children:[m,s.jsx(qe,{onClick:n})]}),e[1]=n,e[2]=u):u=e[2];let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"mt-6 mb-2 text-sm font-medium",children:s.jsx(g,p({},P.connectionType))}),e[3]=f):f=e[3];const v=r?"sync":"ondemand";let j;e[4]===Symbol.for("react.memo_cache_sentinel")?(j=Y=>i(Y==="sync"),e[4]=j):j=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("div",{className:"text-sm font-medium",children:s.jsx(g,p({},P.syncTitle))}),e[5]=h):h=e[5];let x;e[6]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs("div",{className:"flex flex-col gap-1",children:[h,s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(g,R(p({},P.syncDescription),{values:{link:it}}))})]}),e[6]=x):x=e[6];let y;e[7]!==r?(y=s.jsxs("label",{className:"flex items-start justify-between gap-3 p-4",children:[x,s.jsx(te,{value:"sync",children:s.jsx(ne,{selected:r})})]}),e[7]=r,e[8]=y):y=e[8];let M;e[9]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("div",{className:"text-sm font-medium",children:s.jsx(g,p({},P.onDemandTitle))}),e[9]=M):M=e[9];let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs("div",{className:"flex flex-col gap-1",children:[M,s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(g,p({},P.onDemandDescription))})]}),e[10]=N):N=e[10];const A=!r;let E;e[11]!==A?(E=s.jsxs("label",{className:"border-token-border-default flex items-start justify-between gap-3 border-t p-4",children:[N,s.jsx(te,{value:"ondemand",children:s.jsx(ne,{selected:A})})]}),e[11]=A,e[12]=E):E=e[12];let _;e[13]!==E||e[14]!==v||e[15]!==y?(_=s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"border-token-border-default overflow-hidden rounded-xl border",children:s.jsxs(Ve.Root,{value:v,onValueChange:j,className:"flex w-full flex-col",children:[y,E]})})}),e[13]=E,e[14]=v,e[15]=y,e[16]=_):_=e[16];let k;e[17]!==r||e[18]!==n||e[19]!==a?(k=()=>{r!==a&&i(a),n()},e[17]=r,e[18]=n,e[19]=a,e[20]=k):k=e[20];let L;e[21]!==d?(L=d.formatMessage(P.cancel),e[21]=d,e[22]=L):L=e[22];let C;e[23]!==k||e[24]!==L?(C=s.jsx(W,{color:"secondary",onClick:k,children:L}),e[23]=k,e[24]=L,e[25]=C):C=e[25];let b;e[26]!==r||e[27]!==o||e[28]!==n||e[29]!==a?(b=()=>{a!==r&&o(r),n()},e[26]=r,e[27]=o,e[28]=n,e[29]=a,e[30]=b):b=e[30];let w;e[31]!==d?(w=d.formatMessage(P.save),e[31]=d,e[32]=w):w=e[32];let S;e[33]!==c||e[34]!==b||e[35]!==w?(S=s.jsx(W,{onClick:b,disabled:c,children:w}),e[33]=c,e[34]=b,e[35]=w,e[36]=S):S=e[36];let q;e[37]!==C||e[38]!==S?(q=s.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4",children:[C,S]}),e[37]=C,e[38]=S,e[39]=q):q=e[39];let O;return e[40]!==_||e[41]!==q||e[42]!==u?(O=s.jsxs("div",{className:"flex flex-1 flex-col p-2",children:[u,f,_,q]}),e[40]=_,e[41]=q,e[42]=u,e[43]=O):O=e[43],O},ne=({selected:t})=>t?s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-gray-950 p-0.5 dark:bg-white",children:s.jsx("div",{className:"h-2 w-2 rounded-full bg-white dark:bg-gray-950"})}):s.jsx("button",{className:"border-token-border-default h-5 w-5 rounded-full border"}),P=ue({advancedSettingsLink:{id:"qAio8L",defaultMessage:"Advanced settings"},advancedSettingsTitle:{id:"W24xFG",defaultMessage:"Advanced settings"},connectionType:{id:"GpZZmq",defaultMessage:"Connection type"},syncTitle:{id:"3kK9K9",defaultMessage:"Sync"},syncDescription:{id:"a0q+Sp",defaultMessage:"Automatically syncs, indexes, and stores content to ChatGPT for improved response speed and quality. <link>Learn more</link>"},onDemandTitle:{id:"JSo4N3",defaultMessage:"On demand"},onDemandDescription:{id:"5PZSBI",defaultMessage:"Access content on demand. Responses will take longer and may be lower quality"},cancel:{id:"qz9XeG",defaultMessage:"Cancel"},save:{id:"LXZUd1",defaultMessage:"Save changes"}});function it(t){return s.jsx(De,{href:ye,className:"underline",children:t})}const Me=D.createContext(null),rt=async(t,e)=>await Pe.safeGet("/aip/connectors/{connector_id}/tos",{parameters:{path:{connector_id:t}},additionalHeaders:e?{[Ge]:e}:void 0}),Ne=(t,e,{enabled:a=!0}={})=>Ae({queryKey:Be(t,e),queryFn:()=>{if(!t)throw new Error("connectorId is required to fetch connector TOS");return rt(t,e)},staleTime:300*1e3,enabled:a&&!!t}),lt=({connectorId:t,productSku:e,children:a,enabled:o=!0})=>{const n=Ne(t,e,{enabled:o}),l=D.useMemo(()=>({query:n}),[n]);return s.jsx(Me.Provider,{value:l,children:a})},ct=()=>{const t=D.useContext(Me);if(!t)throw new Error("useRedirectTos must be used within a RedirectTosProvider");return t.query},dt=$(()=>U(()=>import("./jjqgd38v1ezgeaoh.js").then(t=>t._),__vite__mapDeps([3,1])),{loading:t=>H(t)}),ut=$(()=>U(()=>import("./hn0zdjjd828nk938.js").then(t=>t._),__vite__mapDeps([4,1])),{loading:t=>H(t)}),mt=$(()=>U(()=>import("./naqsvqbaiaxuna8x.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>H(t)}),oe=$(()=>U(()=>import("./fqz8sozslskhjbvs.js").then(t=>t._),__vite__mapDeps([6,1])),{loading:t=>H(t)}),ft=(t,e)=>{var a,o;return e?{genericName:(a=e.generic_name)!=null?a:t.name,blurbs:(o=e.blurbs)!=null?o:[]}:null};function Q(){const t=V();return Se.useMemo(()=>{var a;const e=t.hash.includes("?")?t.hash.substring(t.hash.indexOf("?")+1):t.search.substring(1);return(a=new URLSearchParams(e).get("referrer"))!=null?a:void 0},[t.hash,t.search])}const F=({loading:t,fitWidth:e=!1,color:a="primary",onClick:o,children:n})=>s.jsx(W,{className:e?"w-fit":"w-full",size:"large",onClick:o,loading:t,color:a,children:n}),ae=({loading:t=!1,disabled:e=!1,fitWidth:a=!1,onClick:o,children:n})=>s.jsx(W,{className:fe("text-token-text-secondary border-0",a?"w-fit":"w-full"),size:"large",onClick:o,loading:t,disabled:e,color:"secondary",children:n}),z=({connector:t,tos:e,onClose:a,children:o,beforeBlurbs:n,willSync:l=!1})=>{var i,d;const c=de(),r={icon:"folder_stuffed",title:c.formatMessage(T.syncTitle),description:c.formatMessage(T.syncDescription,{connectorName:t.name,link:m=>"[".concat(m,"](").concat(ye,")")})};return s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{children:s.jsx(ge,{onClose:a,connectorIcon:s.jsx(xe,{connector:t,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),connectorDeveloper:(d=(i=t.branding)==null?void 0:i.developer)!=null?d:void 0,title:s.jsx(g,R(p({},T.addConnectorLinkModalTitle),{values:{connectorName:t.name}}))})}),n,s.jsx(ke,{blurbs:l&&e?[r,...e.blurbs]:e==null?void 0:e.blurbs}),o]})},ie=({connector:t,tos:e,onClose:a})=>{var l;const o=K();return pe(o,t)?s.jsx(be,{blurbs:(l=e==null?void 0:e.blurbs)!=null?l:null,connector:t,primaryActions:s.jsx(F,{loading:!0,onClick:()=>{}}),onClose:a}):s.jsx(z,{connector:t,tos:e,onClose:a,children:s.jsx(F,{loading:!0,onClick:()=>{}})})},re=({connector:t,tos:e,onClose:a,retry:o})=>s.jsx(z,{connector:t,tos:e,onClose:a,children:s.jsx("div",{className:"flex items-center justify-center pt-4",children:s.jsx(W,{onClick:o,size:"large",className:"w-full",children:s.jsx(g,p({},T.errorLoadingStateButton))})})}),Lt=({connectorIcon:t,connectorName:e,connectorId:a,onClose:o,isConnecting:n,onContinue:l,productSku:c})=>{var v,j;const{data:r,isLoading:i,isError:d,refetch:m}=Ne(a,c),u=(v=r==null?void 0:r.blurbs)!=null?v:[],f=(j=r==null?void 0:r.generic_name)!=null?j:"Google";return s.jsxs(s.Fragment,{children:[s.jsx(ge,{onClose:o,connectorIcon:t,title:s.jsx(g,R(p({},T.addConnectorLinkModalTitle),{values:{connectorName:e}}))}),i?s.jsx("div",{className:"flex items-center justify-center p-4",children:s.jsx(he,{})}):d?s.jsx("div",{className:"flex items-center justify-center pt-4",children:s.jsx(W,{onClick:()=>void m(),size:"large",className:"w-full",children:s.jsx(g,p({},T.errorLoadingStateButton))})}):u.length>0?s.jsx(ke,{blurbs:u}):null,s.jsx("div",{className:"pt-4",children:s.jsx(F,{loading:n,onClick:l,children:s.jsx(g,R(p({},T.continueButton),{values:{connectorName:f}}))})})]})},_e=({connector:t,tos:e,onClose:a,isConnecting:o,isConnectingAuthType:n,onContinue:l,showExternalIcon:c,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d=!1,isRequestingSync:m=!1,setIsRequestingSync:u})=>{const f=K(),v=f&&Oe(f,"2792858552"),j=Ie(),h=Q();D.useEffect(()=>{I.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",p({mfa:"not_required",type:t.id},h&&{referrer:h}))},[t.id,h]);const x=b=>{var w;We(t.id,Ue.ConnectorLinkContinueClick,{auth_type:(w=N?b:y)!=null?w:""}),I.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"connection",type:t.id}),l(b)},y=Fe(t,j),{supported_auth:M}=t,N=v&&!j&&M.some(b=>b.type==="OAUTH")&&M.some(b=>b.type==="NONE"),A=i?s.jsx("div",{className:"bg-token-interactive-bg-accent-muted-context rounded-xl p-4 text-center text-sm text-[#0285FF]",children:i}):void 0,[E,_]=D.useState(!1),k=pe(f,t),L=s.jsxs(s.Fragment,{children:[s.jsx(F,{fitWidth:k,loading:o&&n==="OAUTH",onClick:()=>x("OAUTH"),children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[k?s.jsx(g,{id:"emLORe",defaultMessage:"Continue"}):s.jsx(g,R(p({},T.continueButton),{values:{connectorName:t.name}})),c&&s.jsx(oe,{className:"icon-sm"})]})}),s.jsx(ae,{fitWidth:k,loading:o&&n==="NONE",onClick:()=>x("NONE"),children:s.jsx("span",{className:"flex items-center justify-center gap-1",children:s.jsx(g,p({},T.connectWithoutAccountButton))})})]}),C=s.jsx(F,{fitWidth:k,loading:o,onClick:()=>x(),children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[y==="OAUTH"?k?s.jsx(g,{id:"emLORe",defaultMessage:"Continue"}):s.jsx(g,R(p({},T.continueButton),{values:{connectorName:t.name}})):k?s.jsx(g,{id:"yWpEzd",defaultMessage:"Connect"}):s.jsx(g,R(p({},T.connectButton),{values:{connectorName:t.name}})),y==="OAUTH"&&c&&s.jsx(oe,{className:"icon-sm"})]})});return k?s.jsx(be,{blurbs:e.blurbs,connector:t,primaryActions:N?L:C,onClose:a}):s.jsx(s.Fragment,{children:E&&u&&!o?s.jsx(at,{value:m,onChange:u,onClose:()=>_(!1)}):s.jsx(z,{connector:t,tos:e,onClose:a,beforeBlurbs:A,willSync:m,children:s.jsxs("div",{className:"flex flex-col gap-2",children:[r,N?L:C,d&&s.jsx("p",{className:"text-token-text-secondary text-center text-sm font-medium",children:s.jsx(ae,{onClick:()=>_(!0),disabled:o,children:s.jsx(g,{id:"qAio8L",defaultMessage:"Advanced settings"})})})]})})})},gt=({connector:t,tos:e,onClose:a})=>{const o=V(),[n,l]=D.useState(!1),c=o.hash?o.pathname+o.hash:o.pathname,{setupMfa:r}=je({redirectUrl:c}),i=Q();D.useEffect(()=>{I.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",p({mfa:"required",type:t.id},i&&{referrer:i}))},[t.id,i]);const d=()=>{l(!0),I.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"mfa",type:t.id}),r()};return s.jsxs(z,{connector:t,tos:e,onClose:a,children:[s.jsx("div",{className:"pt-2"}),s.jsx("div",{className:"border-token-border-default border-t p-4",children:s.jsx("div",{className:"text-token-text-primary font-medium",children:s.jsx(g,p({},T.mfaRequiredTitle))})}),s.jsx(F,{loading:n,onClick:d,children:s.jsx(g,p({},T.mfaRequiredButton))})]})},le={"google-oauth2":{icon:s.jsx(ut,{}),name:"Google"},windowslive:{icon:s.jsx(dt,{}),name:"Microsoft"},apple:{icon:s.jsx(mt,{}),name:"Apple"}},ht=({connector:t,tos:e,onClose:a,isConnecting:o,onContinue:n})=>{var M;const l=K(),{session:c}=$e(l),r=(M=c==null?void 0:c.user)==null?void 0:M.idp,i=V(),[d,m]=D.useState(!1),u=i.hash?i.pathname+i.hash:i.pathname,{setupMfa:f}=je({redirectUrl:u}),v=Q();D.useEffect(()=>{I.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",p({mfa:"suggested",type:t.id},v&&{referrer:v}))},[t.id,v]);const j=()=>{m(!0),I.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"mfa",type:t.id}),f()},h=()=>{I.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"connection"}),n()};if(!r||!le[r])return He.addError("Unknown idp found on suggested mfa requirement",{idp:r}),s.jsx(_e,{connector:t,onClose:a,tos:e,isConnecting:o,onContinue:n});const{icon:x,name:y}=le[r];return s.jsxs(z,{connector:t,tos:e,onClose:a,children:[s.jsxs("div",{className:"border-token-border-default flex items-center gap-4 rounded-xl border p-4 text-sm",children:[s.jsx("div",{className:"text-token-text-primary",children:x}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-token-text-primary font-medium",children:s.jsx(g,R(p({},T.socialLoginTitle),{values:{socialProvider:y}}))}),s.jsx("div",{className:"text-token-text-secondary",children:s.jsx(g,R(p({},T.socialLoginDescription),{values:{socialProvider:y,link:N=>s.jsx("button",{onClick:j,className:"underline",children:s.jsxs("span",{className:"flex items-center gap-2",children:[N,d&&s.jsx(he,{className:"h-4 w-4"})]})})}}))})]})]}),s.jsx("div",{className:"pt-6",children:s.jsx(F,{loading:o,onClick:h,children:s.jsx(g,R(p({},T.continueButton),{values:{connectorName:t.name}}))})})]})},xt=({connector:t,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:c,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:d,setIsRequestingSync:m})=>{const{data:u,isLoading:f,isError:v,refetch:j}=ct(),h=ft(t,u),{status:x,retry:y}=Qe(t.id),{status:M,retry:N}=Ke({enabled:x==="required"||x==="suggested"});return f?s.jsx(ie,{connector:t,tos:h,onClose:e}):v||!h?s.jsx(re,{connector:t,tos:h,onClose:e,retry:()=>{j(),N(),y()}}):M==="loading"||x==="loading"?s.jsx(ie,{connector:t,tos:h,onClose:e}):M==="enabled"||x==="not_required"?s.jsx(_e,{connector:t,tos:h,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:c,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:d,setIsRequestingSync:m}):x==="required"?s.jsx(gt,{connector:t,tos:h,onClose:e}):x==="suggested"?s.jsx(ht,{connector:t,tos:h,onClose:e,isConnecting:a,onContinue:n}):s.jsx(re,{connector:t,tos:h,onClose:e,retry:()=>{N(),y(),j()}})},Ct=({connector:t,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,productSku:c,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d,isRequestingSync:m,setIsRequestingSync:u})=>s.jsx(lt,{connectorId:t.id,productSku:c,children:s.jsx(xt,{connector:t,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d,isRequestingSync:m,setIsRequestingSync:u})}),T=ue({addConnectorLinkModalTitle:{id:"addConnectorLinkModal.title",defaultMessage:"Connect {connectorName}"},permissionsTitle:{id:"addConnectorLinkModal.permissionsTitle",defaultMessage:"Permissions always respected"},permissionsDescription:{id:"addConnectorLinkModal.permissionsDescription",defaultMessage:"ChatGPT is strictly limited to permissions you've explicitly set."},inControlTitle:{id:"addConnectorLinkModal.inControlTitle",defaultMessage:"You're in control"},inControlDescription:{id:"addConnectorLinkModal.inControlDescription",defaultMessage:"ChatGPT always respects your training data preferences."},noTrainTitle:{id:"addConnectorLinkModal.noTrainTitle",defaultMessage:"How ChatGPT uses data"},noTrainDescription:{id:"addConnectorLinkModal.noTrainDescription",defaultMessage:"Data accessed from this connector is not used to train our models."},neverTrainTitle:{id:"addConnectorLinkModal.neverTrainTitle",defaultMessage:"How ChatGPT uses data"},neverTrainDescription:{id:"addConnectorLinkModal.neverTrainDescription",defaultMessage:"Your data is never used for training."},risksTitle:{id:"addConnectorLinkModal.risksTitle",defaultMessage:"Connectors may introduce risk"},risksDescription:{id:"addConnectorLinkModal.risksDescription",defaultMessage:"Connectors are designed to respect your privacy, but sites may attempt to steal your data. <link>Learn more on how to stay safe</link>"},syncTitle:{id:"addConnectorLinkModal.syncTitle",defaultMessage:"Continuous sync"},syncDescription:{id:"addConnectorLinkModal.syncDescription",defaultMessage:"Your {connectorName} content is indexed, stored, and kept up to date in ChatGPT. <link>Learn more</link>"},redirectTitle:{id:"addConnectorLinkModal.redirectTitle",defaultMessage:"This page will redirect to {connectorName}"},redirectDescription:{id:"addConnectorLinkModal.redirectDescription",defaultMessage:"You'll sign in and confirm permissions on {connectorName}'s page."},googlePrivacyTitle:{id:"addConnectorLinkModal.googlePrivacyTitle",defaultMessage:"Private and secure"},googlePrivacyDescription:{id:"addConnectorLinkModal.googlePrivacyDescription",defaultMessage:"Data accessed from {connectorName} may be used to reply to prompts. We do not train generalized models on this data or derivations of it, unless you choose to submit it as feedback. <link>Learn more</link>"},googleControlTitle:{id:"addConnectorLinkModal.googleControlTitle",defaultMessage:"You're in control of your data"},googleControlDescription:{id:"addConnectorLinkModal.googleControlDescription",defaultMessage:"You can delete your conversations, which will also delete any {connectorName} data used in those conversations. <link>Learn more</link>"},connectButton:{id:"addConnectorLinkModal.connectButton",defaultMessage:"Connect {connectorName}"},connectWithoutAccountButton:{id:"addConnectorLinkModal.connectWithoutAccountButton",defaultMessage:"Continue without account"},continueButton:{id:"addConnectorLinkModal.continueButton",defaultMessage:"Continue to {connectorName}"},socialLoginTitle:{id:"addConnectorLinkModal.socialLoginTitle",defaultMessage:"You use {socialProvider} to authenticate"},socialLoginDescription:{id:"addConnectorLinkModal.socialLoginDescription",defaultMessage:"For added security, enable Multi-factor authentication (MFA) on your {socialProvider} account or <link>your ChatGPT account.</link>"},mfaRequiredTitle:{id:"addConnectorLinkModal.mfaRequiredTitle",defaultMessage:"Multi-factor authentication (MFA) required"},mfaRequiredButton:{id:"addConnectorLinkModal.mfaRequiredButton",defaultMessage:"Turn on MFA to continue"},errorLoadingStateButton:{id:"addConnectorLinkModal.errorLoadingStateButton",defaultMessage:"Failed to load connector settings, please retry"}});export{Lt as GoogleRedirectContent,_e as MainRedirectContent,xt as MainRedirectContentWrapper,Ct as RedirectContent};
//# sourceMappingURL=ix5lrwx6wtngd72w.js.map
