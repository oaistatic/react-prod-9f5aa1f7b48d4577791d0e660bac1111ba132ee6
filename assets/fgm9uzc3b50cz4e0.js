const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/h9j7auau81n4iqw1.js","assets/eys65c62g4tdkkh3.js","assets/belj8mv6xurittd0.js","assets/cozfmghltr1vkpdi.js"])))=>i.map(i=>d[i]);
var wt=Object.defineProperty,Ot=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable;var nt=(t,e,o)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,x=(t,e)=>{for(var o in e||(e={}))Nt.call(e,o)&&nt(t,o,e[o]);if(at)for(var o of at(e))Dt.call(e,o)&&nt(t,o,e[o]);return t},se=(t,e)=>Ot(t,jt(e));import{_ as he,c as Ie,j as s,e as oe,r as h,M as A,f as be,k as Pt}from"./i8clt0mfz495j7ii.js";import{b2 as At,b3 as Wt,j as Lt,m as It,o as Tt,iS as ut,iT as Ae,cM as Bt,cN as Et,cO as Rt,cP as Ut,iU as pt,iV as mt,iW as Ne,iX as Vt,iY as zt,e2 as Gt,br as Ft,dj as qt,iZ as Ht,i_ as $t,i$ as Qt,e1 as Yt,gU as Xt,j0 as Jt,j1 as Zt,j2 as Kt,j3 as es,j4 as ts,j5 as ss,j6 as os,bt as as,j7 as ns,j8 as is,j9 as rs,ja as ls,jb as cs,jc as ds,jd as us,je as ps,jf as ms,cQ as gs,jg as fs,cC as hs,jh as bs,ji as Ms,jj as ks,jk as ys,jl as xs,jm as Ss,jn as vs,jo as Cs,jp as _s,jq as ws,jr as Os,js,jt as Ns,ju as Ds,jv as Ps,jw as As,jx as Ws,jy as Ls,jz as Is,jA as Ts,jB as Bs,jC as Es,jD as Rs,jE as Us,aQ as De,aP as it,P as rt}from"./j0yo6uv6652vva62.js";import{P as Vs}from"./d30gyor263984jzn.js";import{b as gt,c as zs}from"./kgnykbdth8mb50na.js";import{o as Me,L as Gs,u as ke,B as Fs,f as le,w as We,x as Le,h as ve,bE as ft,a4 as qs,z as Hs,d as $s,aM as Qs,cS as ge,$ as Ce,C as ae,W as _e,a5 as ht,hX as Ys,S as lt,P as fe,R as Xs,q as $,bF as we,k_ as Js,t as Zs,a_ as Ks,a0 as eo,nD as to,nA as so,cH as oo,p as ao,aZ as no,H as io,nu as ro,i1 as lo,po as co,pp as Pe,i2 as uo}from"./ghewn7l2ynbm32fm.js";import{a as po}from"./o108mlelkx5ejfzn.js";import bt from"./fv135gy2k0pewip3.js";const mo=Me(()=>he(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>Gs(t)}),re=be({title:{id:"workspaceDiscovery.renamePromptModal.title",defaultMessage:"Set a workspace display name"},laterCta:{id:"workspaceDiscovery.renamePromptModal.laterCta",defaultMessage:"Update later"},save:{id:"workspaceDiscovery.renamePromptModal.save",defaultMessage:"Update"},checkboxLabel:{id:"workspaceDiscovery.renamePromptModal.checkboxLabel",defaultMessage:"Use workspace name (recommended)"},body:{id:"workspaceDiscovery.renamePromptModal.body.1",defaultMessage:"This is what teammates on your domain will see when they request to join your workspace. <learnMoreLink>Open settings</learnMoreLink>.{br}{br}Current: <b>{currentName}</b>"},clearToWorkspaceNameAria:{id:"workspaceIdentity.clearToWorkspaceNameAria",defaultMessage:"Clear and use workspace name"}}),ct={dismissedAt:0,shownCount:0},Mt=t=>{if(!t)return ct;try{const e=JSON.parse(t);return{dismissedAt:Number(e.dismissedAt)||0,shownCount:Number(e.shownCount)||0}}catch(e){return ct}},go=5,kt=()=>{"use forget";var w;const t=Ie.c(8),e=ke(),o=Fs();let a;t[0]!==o?(a=o==null?void 0:o.getWorkspaceId(),t[0]=o,t[1]=a):a=t[1];const r=a,i=le(bo),n=i!=null?At(i.role)||Wt(i.role):void 0,p=Mt(We.getItem(Le.WorkspaceDiscoveryRenamePromptInfo)),d=Date.now()>p.dismissedAt+864e5,l=p.shownCount<go,M=ve(e,"1053331630"),g=ve(e,"3592108663"),b=n&&M&&g&&d&&l&&!!r,{data:m,isLoading:k}=ft(b?r:void 0),C=!!(m!=null&&m.support_workspace_discovery),S=!!(m!=null&&m.workspace_discoverable),f=(m==null?void 0:m.use_workspace_name_for_discovery)===!0,_=(f?"":(w=m==null?void 0:m.public_display_name)!=null?w:"").includes("Workspace #");if(!(C&&b&&!k&&S&&!f&&_)){let y;return t[2]!==k?(y={isOpen:!1,isLoading:k},t[2]=k,t[3]=y):y=t[3],y}let v;t[4]!==e?(v=qs(e,"309365540").get("enable",!1),t[4]=e,t[5]=v):v=t[5];const N=v;let c;return t[6]!==N?(c={isOpen:N,isLoading:!1},t[6]=N,t[7]=c):c=t[7],c},fo=t=>{"use forget";const e=Ie.c(6),{onClose:o}=t,a=ke();let r;if(e[0]!==a){const l=Hs(a);r=l==null?void 0:l.getWorkspaceId(),e[0]=a,e[1]=r}else r=e[1];const i=r,{data:n,isPending:p}=ft(i);if(!i||p||!n)return null;let d;return e[2]!==o||e[3]!==n||e[4]!==i?(d=s.jsx(ho,{onClose:o,workspaceId:i,settings:n}),e[2]=o,e[3]=n,e[4]=i,e[5]=d):d=e[5],d},ho=t=>{"use forget";var pe;const e=Ie.c(68),{onClose:o,workspaceId:a,settings:r}=t,i=oe(),n=ke();let p;e[0]!==n||e[1]!==o?(p=()=>{ge(n,"chatgpt_workspace_discovery_rename_prompt_modal_closed"),o()},e[0]=n,e[1]=o,e[2]=p):p=e[2];const d=p;let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=Mt(We.getItem(Le.WorkspaceDiscoveryRenamePromptInfo)),e[3]=l):l=e[3];const M=l,{mutateAsync:g,isPending:b}=Lt(a),m=gt(),k=!!(r!=null&&r.workspace_discoverable),C=(r==null?void 0:r.use_workspace_name_for_discovery)===!0,S=C?"":(pe=r==null?void 0:r.public_display_name)!=null?pe:"",[f,Q]=h.useState(!0),[_,ce]=h.useState(""),[v,N]=h.useState(!1);let c;e[4]!==f||e[5]!==S||e[6]!==_||e[7]!==v||e[8]!==b||e[9]!==C?(c=!f&&!b&&!C&&(v?_.trim()!=="":S.trim()!==""),e[4]=f,e[5]=S,e[6]=_,e[7]=v,e[8]=b,e[9]=C,e[10]=c):c=e[10];const w=c,y=f?m:v?_:S;let O;e[11]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{We.setItem(Le.WorkspaceDiscoveryRenamePromptInfo,JSON.stringify({dismissedAt:Date.now(),shownCount:M.shownCount+1}))},e[11]=O):O=e[11];const ye=O;let D;e[12]!==n?(D=H=>{Q(H),ge(n,"chatgpt_workspace_discovery_rename_prompt_modal_checkbox_toggled",H?1:0)},e[12]=n,e[13]=D):D=e[13];const de=D;let Y;e[14]!==n||e[15]!==d?(Y=()=>{ge(n,"chatgpt_workspace_discovery_rename_prompt_modal_dismiss_clicked"),ye(),d()},e[14]=n,e[15]=d,e[16]=Y):Y=e[16];const P=Y;let X;e[17]!==f||e[18]!==n||e[19]!==_||e[20]!==d||e[21]!==b||e[22]!==g||e[23]!==k?(X=async()=>{b||(ge(n,"chatgpt_workspace_discovery_rename_prompt_modal_save_clicked"),await g({value:k,public_display_name:f?null:_.trim(),use_workspace_name_for_discovery:f,action:"name"}),d())},e[17]=f,e[18]=n,e[19]=_,e[20]=d,e[21]=b,e[22]=g,e[23]=k,e[24]=X):X=e[24];const ue=X;let L,ne;e[25]!==n?(L=()=>{ge(n,"chatgpt_workspace_discovery_rename_prompt_modal_shown")},ne=[n],e[25]=n,e[26]=L,e[27]=ne):(L=e[26],ne=e[27]),h.useEffect(L,ne);let I;e[28]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(A,x({},re.laterCta)),e[28]=I):I=e[28];let T;e[29]!==P?(T=s.jsx(Ce,{color:"secondary",onClick:P,children:I}),e[29]=P,e[30]=T):T=e[30];let J;e[31]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(A,x({},re.save)),e[31]=J):J=e[31];let B;e[32]!==ue||e[33]!==b?(B=s.jsx(Ce,{onClick:ue,loading:b,children:J}),e[32]=ue,e[33]=b,e[34]=B):B=e[34];let E;e[35]!==T||e[36]!==B?(E=s.jsxs("div",{className:"mt-8 flex w-full justify-end gap-3",children:[T,B]}),e[35]=T,e[36]=B,e[37]=E):E=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("div",{className:"mb-4 w-full text-xl",children:s.jsx(A,x({},re.title))}),e[38]=Z):Z=e[38];let K;e[39]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("br",{}),e[39]=K):K=e[39];let R;e[40]!==S?(R=s.jsx("div",{className:"text-token-text-secondary",children:s.jsx(A,se(x({},re.body),{values:{b:Mo,br:K,currentName:S,learnMoreLink:ko}}))}),e[40]=S,e[41]=R):R=e[41];let U;e[42]!==de?(U=H=>de(H.currentTarget.checked),e[42]=de,e[43]=U):U=e[43];let V;e[44]!==m?(V=s.jsx("span",{className:"text-sm",children:s.jsx(A,se(x({},re.checkboxLabel),{values:{workspaceName:m}}))}),e[44]=m,e[45]=V):V=e[45];let z;e[46]!==f||e[47]!==U||e[48]!==V?(z=s.jsx("div",{className:"mt-6 mb-3",children:s.jsx(It,{id:"use-workspace-name-for-discovery",checked:f,onChange:U,label:V})}),e[46]=f,e[47]=U,e[48]=V,e[49]=z):z=e[49];const ie=f&&"text-token-text-tertiary";let G;e[50]!==ie?(G=$s(ie),e[50]=ie,e[51]=G):G=e[51];let ee;e[52]===Symbol.for("react.memo_cache_sentinel")?(ee=H=>{ce(H.target.value),N(!0)},e[52]=ee):ee=e[52];let F;e[53]!==i||e[54]!==w?(F=w?s.jsx("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-secondary absolute end-0 top-1/2 -translate-y-1/2 pe-1","aria-label":i.formatMessage(re.clearToWorkspaceNameAria),onClick:()=>{ce("")},children:s.jsx(mo,{className:"icon-sm"})}):null,e[53]=i,e[54]=w,e[55]=F):F=e[55];let q;e[56]!==f||e[57]!==S||e[58]!==y||e[59]!==G||e[60]!==F?(q=s.jsx(Tt,{name:"public_display_name",ariaLabel:!1,disabled:f,inputClassName:G,placeholder:S,maxLength:Vs,value:y,onChange:ee,insideContainerChildren:F}),e[56]=f,e[57]=S,e[58]=y,e[59]=G,e[60]=F,e[61]=q):q=e[61];let te;return e[62]!==P||e[63]!==E||e[64]!==R||e[65]!==z||e[66]!==q?(te=s.jsxs(ae,{isOpen:!0,onClose:P,contentClassName:"p-6",shouldIgnoreClickOutside:!0,size:"custom",className:"max-w-lg",testId:"modal-workspace-discovery-rename-prompt",footerContent:E,children:[Z,R,z,q]}),e[62]=P,e[63]=E,e[64]=R,e[65]=z,e[66]=q,e[67]=te):te=e[67],te};function bo(t){return t.currentWorkspace}function Mo(t){return s.jsx("b",{children:t})}function ko(t){return s.jsx(Qs,{href:"/admin/identity",children:t})}const yo=Object.freeze(Object.defineProperty({__proto__:null,WorkspaceDiscoveryRenamePromptModal:fo,useWorkspaceDiscoveryRenamePromptModal:kt},Symbol.toStringTag,{value:"Module"})),xo="g-68c9a4676c8c81918d99178b55901b9a",So=({onContinue:t,scope:e})=>{const o=oe(),a=gt();return s.jsx(ae,{testId:"modal-initial-workspace-onboarding",isOpen:!0,onClose:$,type:"success",title:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:o.formatMessage(W.secureWorkspaceWelcomeTitle)}),s.jsx("span",{className:"text-token-text-secondary text-sm",children:a})]}),size:"custom",noPadding:!0,className:"max-w-2xl",children:s.jsx(pt,{onClose:()=>{t()},scope:e})})},vo=({onContinue:t,onSkip:e,isEduPlan:o})=>{const a=oe();return s.jsx(ae,{testId:"modal-role-survey",isOpen:!0,onClose:$,type:"success",title:a.formatMessage(W.primaryRoleTitle),size:"custom",className:"max-w-lg",children:s.jsx(yt,{options:o?Rt:Ut,onSkip:e,onSubmit:t})})},Co=({onContinue:t,onSkip:e,isEduPlan:o})=>{const a=oe();return s.jsx(ae,{testId:"modal-department-survey",isOpen:!0,onClose:$,type:"success",title:a.formatMessage(W.workTypeTitle),size:"custom",className:"max-w-lg",children:s.jsx(yt,{options:o?Bt:Et,onSkip:e,onSubmit:t,multiSelect:!0})})};function yt({options:t,onSkip:e=$,onSubmit:o=$,multiSelect:a=!1}){const r=oe(),[i,n]=h.useState([]);function p(l,M){const g=l.indexOf(M);return g===-1?[...l,M]:[...l.slice(0,g),...l.slice(g+1)]}const d=h.useCallback(l=>{var g;const M=(g=l.currentTarget.dataset.value)!=null?g:"";a?n(p(i,M)):o(M)},[o,i,n,a]);return s.jsxs("div",{children:[a&&s.jsx("p",{className:"text-token-text-tertiary mx-2 text-sm",children:r.formatMessage(W.selectAll)}),s.jsx("div",{className:"flex flex-col items-center justify-center",children:s.jsx("div",{className:"flex-wrap space-y-4",children:t.map(l=>s.jsx(Ce,{onClick:d,color:i.includes(l.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":l.id,children:s.jsx(A,x({},l.displayValue))},l.id))})}),s.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[s.jsx(we,{title:r.formatMessage(W.skipButton),onClick:e}),a&&s.jsx(we,{title:r.formatMessage(W.continueButton),onClick:()=>{o(i)},disabled:i.length===0,color:"primary",className:"ms-4"})]})]})}const _o=({onYes:t,onSkip:e})=>{const o=oe();return s.jsx(ae,{testId:"modal-chat-onboarding",isOpen:!0,onClose:$,type:"success",title:o.formatMessage(W.chatOnboardingTitle),size:"custom",className:"max-w-lg",children:s.jsxs("div",{className:"px-4 pb-2",children:[s.jsx("p",{className:"text-token-text-secondary mb-4 text-sm",children:o.formatMessage(W.chatOnboardingDescription)}),s.jsxs("div",{className:"mt-4 flex flex-row justify-end gap-3",children:[s.jsx(we,{title:o.formatMessage(W.skipButton),onClick:e}),s.jsx(we,{title:o.formatMessage(W.yesButton),onClick:t,color:"primary"})]})]})})};function wo({onClose:t}){var m;const e=ke(),o=(m=ve(e,"2839926172"))!=null?m:!1,{setHasSeenOnboarding:a}=ut(),[r,i]=h.useState(0),[n,p]=h.useState({role:"",departments:[]}),d=le(_e.businessWorkspaceId),l=le(_e.isEduPlan),M=ht(),g=M==null?void 0:M.id,b=()=>{lt.logEvent("chatgpt_biz_onboarding_skipped"),fe.logEvent("Business Onboarding Skipped"),t(),a()};switch(r){case 0:return s.jsx(So,{scope:Ae.Workspace,onContinue:()=>{i(1)}});case 1:return s.jsx(vo,{onContinue:k=>{p(C=>se(x({},C),{role:k})),i(2)},onSkip:b,isEduPlan:l});case 2:return s.jsx(Co,{onContinue:k=>{const C=se(x({},n),{departments:k});lt.logEvent("chatgpt_biz_onboarding_completed"),fe.logEvent("Business Onboarding Completed"),Xs.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:d,user_id:g}},requestBody:{onboarding_information:C}}).finally(()=>{o?i(3):(t(),a())})},onSkip:b,isEduPlan:l});case 3:return s.jsx(_o,{onSkip:b,onYes:()=>{if(typeof window<"u"){const k=Ys(xo);window.location.assign(k)}t(),a()}});default:return s.jsx(s.Fragment,{})}}const W=be({secureWorkspaceWelcomeTitle:{id:"onboarding.secureWorkspaceWelcomeTitle",defaultMessage:"Welcome to your secure workspace"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"},yesButton:{id:"onboarding.yesButton",defaultMessage:"Yes"},chatOnboardingTitle:{id:"onboarding.chatOnboardingTitle",defaultMessage:"Meet Your Onboarding Buddy GPT?"},chatOnboardingDescription:{id:"onboarding.chatOnboardingDescription",defaultMessage:"Brainstorm ways to get the most out of ChatGPT with a personal onboarding buddy."}}),Oo=()=>{const t="center",{isOpen:e,modalType:o}=mt(),a=zs(),r=Js();if(h.useEffect(()=>{e&&fe.logEvent("Sidetron: Blocking Modal Shown",{modalType:o})},[e,o]),!e)return null;function i(){switch(fe.logEvent("Sidetron: Modal Action Clicked",{modalType:o}),o){case Ne.unsupported_app_version:window.open(r?Vt:zt,"_blank");return;case null:Ks.warn("No modal type provided for DesktopBlockingModal");return}}function n(){switch(o){case Ne.unsupported_app_version:return No;case null:return jo}}function p(){switch(o){case Ne.unsupported_app_version:return!1;case null:return!1}}return s.jsx(ae,{testId:"modal-desktop-blocking",isOpen:!0,onClose:$,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:t,children:s.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[s.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:s.jsx(A,x({},n().title))}),s.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:s.jsx(A,x({},n().subtitle))}),s.jsx(Ce,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:i,children:s.jsx(A,x({},n().cta))}),p()&&s.jsxs("span",{children:[a," Â· ",s.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:d=>{d.preventDefault(),fe.logEvent("Sidetron: Modal Logout Clicked",{modalType:o}),Zs()},"data-testid":"desktop-blocking-modal-logout",children:s.jsx(A,x({},n().logout))})]})]})})},jo=be({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Business, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),No=be({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),Do=Me(()=>he(()=>Promise.resolve().then(()=>yo),void 0).then(t=>t.WorkspaceDiscoveryRenamePromptModal)),Po=Me(()=>he(()=>import("./h9j7auau81n4iqw1.js"),__vite__mapDeps([5,1,0,2,3,4,6]))),Ao=Me(()=>he(()=>import("./belj8mv6xurittd0.js"),__vite__mapDeps([7,1,0,2,3,4,6]))),Wo=Me(()=>he(()=>import("./cozfmghltr1vkpdi.js"),__vite__mapDeps([8,1,2,3])).then(t=>t.RequestWorkspaceAccessModal)),Lo=({onClose:t})=>{const e=oe(),o=le(_e.isBusinessWorkspace),a=le(i=>i.currentWorkspace),r=o?e.formatMessage(dt.workspaceWelcome,{workspaceName:a==null?void 0:a.name}):"ChatGPT";return s.jsx(ae,{testId:"modal-onboarding",isOpen:!0,onClose:$,type:"success",title:r,size:"custom",noPadding:!0,className:"max-w-3xl",description:e.formatMessage(dt.personalOnboardingSubheading),children:s.jsx(pt,{onClose:t,scope:o?Ae.Workspace:Ae.Personal})})},Io=({onClose:t})=>{const e=uo.useStore();return h.useEffect(()=>(e.setOnCloseSideEffect(t),e.setManualVisibility(!0),()=>{e.setManualVisibility(!1)}),[t,e]),null};function To(t){return s.jsx(bt,se(x({},t),{mode:"blocking",section:"both",source:"first_login"}))}function Bo(t){return s.jsx(bt,se(x({},t),{mode:"blocking",section:"existing",source:"should_select_workspace"}))}function Ho({clientThreadId:t,page:e,isIosDirectPurchaseFlow:o}){const a=ke(),[r,i]=h.useState(0),n=eo(a,"109457"),{hasSeenOnboardingDate:p}=ut(),d=p===!1&&n.get("is_new_user_banner_disclaimer_enabled",!1),{hasSeenWorkspaceDiscoveryFirstLoginDate:l}=Gt(),{hasSeenTeamOwnerOnboardingDate:M}=Ft(),g=le(_e.isBusinessWorkspace),[b,m]=h.useState(!1),{data:k,isPending:C,isEnabled:S}=qt(),f=Ht(k,C&&S),Q=to(),_=so(),[ce,v]=oo(t,u=>[!u||u.isLoading,u==null?void 0:u.conversationOrigin]),N=ce&&!!t,{data:c,isError:w}=ao(),y=no(c),O=c!=null,ye=$t(15),[D,de]=h.useState(!1);h.useEffect(()=>{ye&&!D&&de(!0)},[ye,D]);const Y=Qt(),P=ht(),X=(P==null?void 0:P.email_domain_type)==="professional",ue=!!(c!=null&&c.accountItems.some(u=>u.isEnterprisey())),L=X&&!ue&&io(a).getLayer("3217430380").get("enable_workspace_discovery",!1),ne=!!(X&&l===!1&&L&&D),{data:I,isLoading:T}=Yt(ne),J=!!(c&&(c==null?void 0:c.accountItems.length)>1&&c.currentAccountId==null),B=c==null?void 0:c.accountItems.some(u=>u.isPersonalAccount()),E=!!(c!=null&&c.accountItems)&&c.accountItems.length>0&&c.accountItems.every(({canAccessWithCurrentSession:u})=>!u),{eligible:Z,isLoading:K}=Xt(),R=ve(a,"1542198993"),{punchOutRequireLoginInfo:U}=Jt(),{state:V}=Zt(),{isOpen:z}=Kt(),{isOpen:ie}=es(),{isOpen:G,isLoading:ee}=kt(),{isOpen:F,isLoading:q}=ts(),{isOpen:te,isLoading:pe}=mt(),{isOpen:H,isLoading:Te}=ss(),{isOpen:Be,isLoading:Ee}=os(),{isOpen:Re,isLoading:Ue}=as(),{isOpen:Ve}=ro(),{state:ze}=ns(),Ge=is(),Fe=rs(),qe=ls(),He=cs(),$e=ds(),Qe=us(),Ye=ps(),{isOpen:Xe,isLoading:Je}=ms(),{isOpen:xt}=gs(),{isOpen:St}=fs(),{isOpen:vt}=hs(),{isOpen:Ze,open:Ke}=bs(),{shouldShowCookieBanner:et,isCookieConsentBannerLoading:tt}=lo();h.useEffect(()=>{d&&!g&&!Ze&&Ke()},[d,g,Ze,Ke]);const Oe=h.useMemo(()=>[{Component:Ms,visibility:["chat","codex"],getModalState:()=>U?"show":"hide",isDeferrable:!1},{Component:ks,visibility:["chat","codex"],getModalState:()=>V,isDeferrable:!1},{Component:ys,visibility:["chat"],getModalState:()=>ze,isDeferrable:!1},{Component:Do,visibility:["chat","codex"],getModalState:()=>ee?"loading":G?"show":"hide",isDeferrable:!1},{Component:To,visibility:["chat","codex"],getModalState:()=>{var j,me;return!L||Q!=null||l||w?"hide":l==null||T?"loading":((me=(j=I==null?void 0:I.workspaces)==null?void 0:j.length)!=null?me:0)>0&&D?"show":"hide"},isDeferrable:!1},{Component:L?Bo:po,visibility:["chat","codex"],getModalState:()=>Q!=null||w?"hide":O?J?"show":"hide":"loading",isDeferrable:!1},{Component:xs,visibility:["codex"],getModalState:()=>Y,isDeferrable:!1},{Component:Ss,visibility:["chat"],getModalState:()=>Je?"loading":Xe?"show":"hide",isDeferrable:!1},{Component:vs,visibility:["chat"],getModalState:()=>z?"show":"hide",isDeferrable:!1},{Component:Cs,visibility:["chat"],getModalState:()=>Ge,isDeferrable:!0},{Component:_s,visibility:["chat"],getModalState:()=>q||N?"loading":v===Pe.APPLE?"hide":F?"show":"hide",isDeferrable:!0},{Component:co,visibility:["chat"],getModalState:()=>N?"loading":v===Pe.APPLE?"hide":Ve?"show":"hide",isDeferrable:!0},{Component:ws,visibility:["chat"],getModalState:()=>Ue||N?"loading":v===Pe.APPLE?"hide":Re?"show":"hide",isDeferrable:!0},{Component:Io,visibility:["chat","codex"],getModalState:()=>tt?"loading":et?"show":"hide",isDeferrable:!1},{Component:Lo,visibility:["chat"],getModalState:()=>g||d?"hide":p===null?"loading":p===!1?"show":"hide",isDeferrable:!0},{Component:Wo,visibility:["chat","codex"],getModalState:()=>Q!==null?"show":w||O?"hide":"loading",isDeferrable:!1},{Component:Po,visibility:["chat","codex"],getModalState:()=>_!=null?"show":w||O?"hide":"loading",isDeferrable:!1},{Component:Os,visibility:["chat","codex"],getModalState:()=>O?E?"show":"hide":"loading",isDeferrable:!1},{Component:Oo,visibility:["chat","codex"],getModalState:()=>pe?"loading":te?"show":"hide",isDeferrable:!1},{Component:js,visibility:["chat","codex"],getModalState:()=>Te?"loading":H?"show":"hide",isDeferrable:!1},{Component:Ns,visibility:["chat","codex"],getModalState:()=>"hide",isDeferrable:!1},{Component:Ao,visibility:["chat","codex"],getModalState:()=>!(y!=null&&y.isSelfServeBusiness())||!(y!=null&&y.isOwnerOfAccount())||!B?"hide":!O||M===null?"loading":M===!1?"show":"hide",isDeferrable:!1},{Component:Ds,visibility:["chat"],getModalState:()=>g?Ee?"loading":Be?"show":"hide":"hide",isDeferrable:!1},{Component:wo,visibility:["chat","codex"],getModalState:()=>g?p===null?"loading":p===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ps,visibility:["chat"],getModalState:()=>K?"loading":Z&&R?"show":"hide",isDeferrable:!1},{Component:As,visibility:["chat","codex"],getModalState:()=>f,isDeferrable:!1},{Component:Ws,visibility:["chat"],getModalState:()=>Fe,isDeferrable:!1},{Component:Ls,visibility:["chat"],getModalState:()=>Qe,isDeferrable:!1},{Component:Is,visibility:["chat"],getModalState:()=>Ye,isDeferrable:!1},{Component:Ts,visibility:["chat"],getModalState:()=>qe,isDeferrable:!1},{Component:Bs,visibility:["chat"],getModalState:()=>$e,isDeferrable:!0},{Component:Es,visibility:["chat"],getModalState:()=>He,isDeferrable:!0},{Component:Rs,visibility:["chat"],getModalState:()=>ie?"show":"hide",isDeferrable:!1}].filter(j=>j.visibility.includes(e)),[e,U,V,ze,Je,Xe,Ge,q,ee,G,N,v,F,z,Ue,Re,tt,et,g,d,p,l,w,I,T,J,O,Q,_,E,pe,te,Te,H,y,B,M,Ee,Be,K,Z,R,L,f,Fe,qe,He,Qe,Ye,Y,D,Ve,ie,$e]),Ct=b;function st(u){if(u!=null)return u.isDeferrable&&Ct?"hide":u.Component?u.getModalState():"hide"}const je=Oe[r],xe=st(je);xe==="hide"&&i((()=>{let j=r+1;for(;j<Oe.length;j++)if(st(Oe[j])!=="hide")return j;return j})());const{pathname:Se}=Pt(),ot=h.useRef(Se);if(h.useEffect(()=>{ot.current!==Se&&(ot.current=Se,i(0))},[Se]),h.useEffect(()=>{const u=xe==="show",me=Us(a).getState().activeModals.has(De.BlockingInitialComponent);u!==me&&(u?it.openModal(De.BlockingInitialComponent):it.closeModal(De.BlockingInitialComponent))},[a,xe]),je==null)return rt.trackNamespace(rt.NS_COMPOSER),s.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});if(xe!=="show"||xt||St||vt||o)return null;const _t=je.Component;return s.jsx(_t,{onClose:()=>{m(!0),i(u=>u+1)}})}const dt=be({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});export{Ho as B};
//# sourceMappingURL=fgm9uzc3b50cz4e0.js.map
