const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3j20em1lilnrpdcm.js","assets/i8clt0mfz495j7ii.js","assets/jl0gmzdyiwz0e04r.js","assets/ceivmd4pm4umbvdn.js","assets/j0yo6uv6652vva62.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var ke=Object.defineProperty,Se=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var ue=(a,t,n)=>t in a?ke(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,s=(a,t)=>{for(var n in t||(t={}))Ne.call(t,n)&&ue(a,n,t[n]);if(ce)for(var n of ce(t))Re.call(t,n)&&ue(a,n,t[n]);return a},ae=(a,t)=>Se(a,ye(t));import{e as ie,r,j as e,M as o,_ as te,u as Te,a as Ve}from"./i8clt0mfz495j7ii.js";import{T as Pe,$ as H,o as se,d as pe,B as xe,e as fe,P as J,m as re,gH as _e,S as ve,L as ne,R as Ae}from"./ghewn7l2ynbm32fm.js";import{o as be,x as w,m as je,aI as Le,aJ as Be,aK as De,V as de}from"./j0yo6uv6652vva62.js";import{T as b}from"./zm1ki9l766pgg0bx.js";import{E as Fe}from"./ebe73b5ila3cf4xf.js";import{I as He}from"./n8tfpmgkqe98i7yl.js";import{g as Oe}from"./kgnykbdth8mb50na.js";const Ee=se(()=>te(()=>import("./3j20em1lilnrpdcm.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>ne(a)}),We=se(()=>te(()=>import("./jl0gmzdyiwz0e04r.js").then(a=>a._),__vite__mapDeps([2,1])),{loading:a=>ne(a)}),we=se(()=>te(()=>import("./ceivmd4pm4umbvdn.js").then(a=>a._),__vite__mapDeps([3,1])),{loading:a=>ne(a)}),ze=se(()=>te(()=>import("./j0yo6uv6652vva62.js").then(a=>a.yq),__vite__mapDeps([4,1,5,6,7])),{loading:a=>ne(a)}),Ue="email,role\nuser1@company.com,member\nadmin@company.com,admin\nit@company.com,owner",Ce=25,ge=[],Me=({workspace:a,onSuccess:t,setStep:n,isNewTeamsPurchaseUxEnabled:j,seatCount:S})=>{var Q;const l=xe(),m=a.isOwnerOfAccount(),[u,g]=r.useState(!1),d=r.useRef(null),x=ie(),C=fe(),[f,M]=r.useState(!1),[A,V]=r.useState(!0),[_,I]=r.useState(!1),[c,O]=r.useState([]),[G,B]=r.useState([]),[q,K]=r.useState(S?Array(S).fill(""):[]),{mutateAsync:N}=Ke(a.id,t),W=Be(),$=(Q=De())!=null?Q:!0,[U,X]=r.useState(ge),P=r.useMemo(()=>l==null?void 0:l.subscriptionAnalyticsParams,[l]);r.useEffect(()=>{if(!(c!=null&&c.length)||!(W!=null&&W.length)||$){X(ge);return}const p=W.map(v=>"@"+v.hostname.toLowerCase()),T=c.map(({email:v})=>v.toLowerCase()).filter(v=>!p.some(E=>v.endsWith(E)));X(T)},[W,$,c]);const z=Ye(m),Y=r.useCallback(p=>{const T={numEmailsAdded:p,uploadType:"Bulk"};J.logEvent("Account Pay: Collaborator Emails Added",s(s({},P),T))},[P]),R=r.useCallback(async p=>{var v;M(!0);const T=(v=p.target.files)==null?void 0:v[0];if(T){const E=await Xe(T,z,u);E.status==="success"?(O(E.newRows),j?B(E.newRows.map(ee=>({label:ee.email,value:ee.email,isValid:de.test(ee.email)}))):n==null||n(1),g(E.hasWarning),Y(E.newRows.length),p.target.files=null):E.reason==="file_too_large"?C.danger(x.formatMessage(i.fileTooLargeWarning,{maxSize:"".concat(Ce,"MB")}),{duration:5,loggingTitle:"CSV Upload: File too large"}):E.reason==="invalid_file_type"&&C.danger(x.formatMessage(i.fileIncorrectTypeWarning),{duration:5,loggingTitle:"CSV Upload: File incorrect type",toastId:"csv_upload",loggingDescription:i.fileIncorrectTypeWarning.defaultMessage})}},[z,x,j,n,u,C,Y]),D=(p,T,v)=>{const E=[...c];E[p]=ae(s({},E[p]),{[T]:v}),O(E)},y=r.useCallback(p=>{J.logEvent("Account Pay: Add Collaborators Modal Clicked",s(s({},P),p))},[P]),F=r.useCallback(()=>{J.logEvent("Account Pay: Add Collaborators Upload Clicked",P)},[P]),le=r.useCallback(()=>{J.logEvent("Account Pay: Collaborator Email Removed",P)},[P]),k=p=>{const T=[...c.slice(0,p),...c.slice(p+1)];O(T),le()},h=r.useCallback(()=>{O([]),n==null||n(0),I(!1),B([])},[n]),L=r.useCallback(async()=>{I(!0);try{c.length>5&&C.info(x.formatMessage(i.inviteMessageLoading,{numRows:c.length}),{hasCloseButton:!0});const p=[["admin",re.ADMIN],["owner",re.OWNER],["member",re.STANDARD]],v=(await Promise.all(_e(p.map(([E,ee])=>{const me=c.filter(oe=>oe.role===E).map(oe=>oe.email);return me.length>0&&N({emails:me,role:ee,resendEmails:A})})))).flat().length;v>0&&C.success(x.formatMessage(i.inviteSuccessToast,{numRows:v,userStr:v===1?"user":"users",workspaceName:Oe(x,a)})),ve.logEvent("chatgpt_invite_users_to_workspace",c.length,{action:"SubmitEmails",location:"modal-submit-button",text:"Submit",step:"AdminModal-CollectEmails-Submit"}),t==null||t(),h()}finally{I(!1)}},[N,c,A,t,C,x,a,h]),Z=r.useCallback(()=>{var p,T;(p=d.current)!=null&&p.value&&(d.current.value=""),(T=d.current)==null||T.click(),typeof document<"u"&&document.activeElement&&setTimeout(()=>{var E;const v=document.activeElement;(E=v==null?void 0:v.blur)==null||E.call(v)},0),F()},[d,F]);return{INVITE_ROLES:z,clearState:h,emailInputList:q,emailTableRows:c,emailTextAreaValue:G,emailsOutsideOfDomain:U,fileInputRef:d,handleClickImportCSV:Z,handleDeleteRow:k,handleInputChange:D,handleSubmit:L,handleUploadCSV:R,hasUploadedCsv:f,isInviting:_,resendEmails:A,setEmailInputList:K,setEmailTableRows:O,setEmailTextAreaValue:B,setResendEmails:V,shouldShowWarning:u,trackNavigationClick:y,trackUploadClick:F}};function na({workspace:a,canResendInviteEmails:t,onCancel:n,cancelButtonText:j,onSuccess:S,fullWidthButtons:l=!1}){const[m,u]=r.useState(!1),g=ie(),[d,x]=r.useState(0),{handleUploadCSV:C,handleInputChange:f,handleDeleteRow:M,clearState:A,handleSubmit:V,shouldShowWarning:_,emailTableRows:I,isInviting:c,resendEmails:O,setResendEmails:G,emailTextAreaValue:B,emailsOutsideOfDomain:q,trackNavigationClick:K,INVITE_ROLES:N,setEmailTableRows:W,setEmailTextAreaValue:$,fileInputRef:U,handleClickImportCSV:X}=Me({workspace:a,onSuccess:S,setStep:x}),P=()=>{const R=new Set,D=B.reduce((y,F)=>(R.has(F.value)||y.push(F.value),R.add(F.value),y),[]);W(D.map(y=>({email:y,role:N.member}))),x(1),ve.logEvent("chatgpt_invite_users_to_workspace",0,{action:"CollectEmails",location:"modal-next-button",text:"Next",step:"AdminModal-CollectEmails-Next"})},z=e.jsx(H,{color:"primary",size:l?"large":"medium",disabled:a.isDeactivated()||c||I.length===0||q.length>0,onClick:()=>{V(),K({buttonType:"Send"})},children:c?g.formatMessage(i.inviteMemberInviteSubmitButtonLoading):g.formatMessage(i.inviteMemberInviteSubmitButton)}),Y=e.jsx(H,{color:"primary",size:l?"large":"medium",disabled:B.length===0,onClick:P,children:g.formatMessage(i.inviteMemberInviteNextButton)});return e.jsxs("div",{className:"flex flex-col gap-2",children:[d===0&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"upload-csv",id:"upload-csv-label",children:e.jsx(o,s({},i.importCSVLabel))}),e.jsxs("span",{className:"text-token-text-tertiary text-sm",children:[e.jsx(o,ae(s({},m?i.helperCSVFormatHide:i.helperCSVFormatShow),{values:{link:R=>e.jsx("button",{className:"underline",onClick:()=>{u(!m)},children:R})}})),m&&e.jsx("pre",{className:"mt-4",children:Ue})]})]}),e.jsx("input",{ref:U,type:"file",accept:".csv,text/csv",id:"upload-csv",className:"hidden",onChange:C}),e.jsx(H,{color:"secondary",onClick:X,children:e.jsx(o,s({},i.importCSVButtonLegacy))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"add-member-emails",id:"add-emails-label",children:e.jsx(o,s({},i.addEmailsFieldName))}),e.jsx(Ie,{value:B,onChange:$})]})]}),d===1&&e.jsxs(e.Fragment,{children:[_&&e.jsxs("div",{className:"flex w-full items-center bg-yellow-100 p-4",children:[e.jsx(Ee,{className:"icon-sm me-2 text-yellow-700"}),e.jsx("div",{className:"grow text-yellow-700",children:e.jsx(o,s({},i.unspecifiedRoleDescription))})]}),q.length>0&&e.jsx("div",{className:"flex w-full items-center bg-red-100 p-4",children:e.jsxs("div",{className:"grow text-red-700",children:[e.jsx(o,s({},i.prohibitedExternalEmailDescription)),e.jsx("pre",{className:"my-1",children:q.join(", ")}),e.jsx(o,s({},i.prohibitedExternalEmailResolution))]})}),e.jsxs(b.Root,{size:"normal",children:[e.jsxs(b.Header,{children:[e.jsx(b.HeaderCell,{children:e.jsx(o,s({},i.inviteTableHeaderEmail))}),e.jsx(b.HeaderCell,{className:"ps-3",children:e.jsx(o,s({},i.inviteTableHeaderRole))}),e.jsx(b.HeaderCell,{})]}),e.jsx(b.Body,{children:I.map((R,D)=>e.jsxs(b.Row,{children:[e.jsx(b.Cell,{children:e.jsx(be,{ariaLabel:g.formatMessage(i.inviteTableHeaderEmail),name:"email",type:"email",value:R.email,onChange:y=>f(D,"email",y.target.value),color:"neutral"})}),e.jsx(b.Cell,{children:e.jsxs(w.Root,{value:R.role,onValueChange:y=>f(D,"role",y),children:[e.jsxs(w.Trigger,{children:[e.jsx(w.Value,{}),e.jsx(w.Icon,{})]}),e.jsx(w.Portal,{children:e.jsxs(w.Content,{className:"border-token-main-surface-secondary border",children:[e.jsx(w.Item,{value:N.member,children:e.jsx(o,s({},i.inviteRoleMember))}),N.admin&&e.jsx(w.Item,{value:N.admin,children:e.jsx(o,s({},i.inviteRoleAdmin))}),N.owner&&e.jsx(w.Item,{value:N.owner,children:e.jsx(o,s({},i.inviteRoleOwner))})]})})]})}),e.jsx(b.Cell,{textAlign:"right",children:e.jsx(we,{onClick:()=>M(D),className:"icon-sm text-token-text-secondary me-2 cursor-pointer"})})]},D))})]})]}),t&&G&&e.jsx("div",{className:"text-token-text-secondary mt-2 flex items-center text-start",children:e.jsx(je,{id:"resend-emails",checked:O,onChange:R=>G(R.currentTarget.checked),label:g.formatMessage(i.resendEmailsFieldName)})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(H,{color:"secondary",size:l?"large":"medium",onClick:()=>{d!==0?x(0):(A(),n(),K({buttonType:"Skip"}))},children:d===0?j:g.formatMessage(i.inviteMemberInviteBackButton)}),d===0?Y:z]})]})}const qe=({email:a,index:t,emailInputList:n,setEmailInputList:j,setEmailTableRows:S})=>{const l=ie(),[m,u]=r.useState(!1),g=!!a&&!m&&t>0&&n.indexOf(a)<t;return e.jsxs("div",{className:"flex w-full flex-col gap-1",children:[e.jsx(He,{className:pe((m||g)&&"border-token-text-error"),type:"email",value:a,onBlur:()=>{u(!!a&&!de.test(a))},placeholder:l.formatMessage(i.emailInputPlaceholder),onChange:d=>j(x=>{const C=[...x];return C[t]=d.target.value,S(C.filter(Boolean).map(f=>({email:f,role:"member"}))),C})},t),m&&e.jsx("div",{className:"text-token-text-error ms-1 flex text-xs",children:e.jsx(o,s({},i.invalidEmailWarning))}),g&&e.jsx("div",{className:"text-token-text-error ms-1 flex text-xs",children:e.jsx(o,s({},i.duplicateEmailWarning))})]})},he=25,$e=10;function Ge(a,t,n,j){const S=Math.max(0,j),l=Math.min(Math.max(0,n),t),m=Math.max(t-l,0),u=Math.min(S,m),g=Math.max(S-u,0);if(a<l)return"bg-black/30 dark:bg-white/30";if(a<l+u)return"bg-black dark:bg-white";if(a<l+u+g)return"bg-blue-200 dark:bg-blue-500 border border-blue-600 dark:border-blue-300"}function la({workspace:a,canResendInviteEmails:t,onCancel:n,cancelButtonText:j,onSuccess:S,fullWidthButtons:l=!1,seatCount:m,seatsUsedBaseline:u=0,enableRoleSelectionStep:g=!1}){const d=ie(),[x,C]=r.useState(m>$e),[f,M]=r.useState(!1),{clearState:A,emailInputList:V,emailTableRows:_,emailTextAreaValue:I,emailsOutsideOfDomain:c,fileInputRef:O,handleClickImportCSV:G,handleSubmit:B,handleUploadCSV:q,hasUploadedCsv:K,isInviting:N,resendEmails:W,setEmailInputList:$,setEmailTableRows:U,setEmailTextAreaValue:X,setResendEmails:P,trackNavigationClick:z,shouldShowWarning:Y,handleInputChange:R,handleDeleteRow:D,INVITE_ROLES:y}=Me({workspace:a,onSuccess:S,seatCount:m,isNewTeamsPurchaseUxEnabled:!0}),F=e.jsx(Pe,{label:d.formatMessage(i.importCSVTooltip),contentClassName:"w-[280px]",side:"top",delayDuration:200,children:e.jsx(H,{className:"ms-auto",color:"secondary",icon:We,onClick:G,children:e.jsx(o,s({},K?i.reimportCSVButton:i.importCSVButton))})}),le=k=>{const h=k.filter((L,Z,Q)=>Q.findIndex(p=>p.value===L.value)===Z);X(h),U(h.map(L=>({email:L.value,role:"member"})))};return r.useEffect(()=>{const k=I.filter((h,L,Z)=>Z.findIndex(Q=>Q.value===h.value)===L);U(k.map(h=>({email:h.value,role:"member"})))},[I,U]),g&&f?e.jsxs("div",{className:"flex flex-col gap-2",children:[Y&&e.jsxs("div",{className:"flex w-full items-center rounded-xl bg-yellow-100 p-4",children:[e.jsx(Ee,{className:"icon-sm me-2 text-yellow-700"}),e.jsx("div",{className:"grow text-yellow-700",children:e.jsx(o,s({},i.unspecifiedRoleDescription))})]}),c.length>0&&e.jsx("div",{className:"flex w-full items-center bg-red-100 p-4",children:e.jsxs("div",{className:"grow text-red-700",children:[e.jsx(o,s({},i.prohibitedExternalEmailDescription)),e.jsx("pre",{className:"my-1",children:c.join(", ")}),e.jsx(o,s({},i.prohibitedExternalEmailResolution))]})}),e.jsxs(b.Root,{size:"normal",children:[e.jsxs(b.Header,{children:[e.jsx(b.HeaderCell,{children:e.jsx(o,s({},i.inviteTableHeaderEmail))}),e.jsx(b.HeaderCell,{className:"w-32 ps-3",children:e.jsx(o,s({},i.inviteTableHeaderRole))}),e.jsx(b.HeaderCell,{})]}),e.jsx(b.Body,{children:_.map((k,h)=>e.jsxs(b.Row,{children:[e.jsx(b.Cell,{children:e.jsx(be,{ariaLabel:d.formatMessage(i.inviteTableHeaderEmail),name:"email",type:"email",value:k.email,onChange:L=>R(h,"email",L.target.value),color:"neutral"})}),e.jsx(b.Cell,{children:e.jsxs(w.Root,{value:k.role,onValueChange:L=>R(h,"role",L),children:[e.jsxs(w.Trigger,{className:"w-32 justify-between",children:[e.jsx(w.Value,{}),e.jsx(w.Icon,{})]}),e.jsx(w.Portal,{children:e.jsxs(w.Content,{className:"border-token-main-surface-secondary border",children:[e.jsx(w.Item,{value:y.member,children:e.jsx(o,s({},i.inviteRoleMember))}),y.admin&&e.jsx(w.Item,{value:y.admin,children:e.jsx(o,s({},i.inviteRoleAdmin))}),y.owner&&e.jsx(w.Item,{value:y.owner,children:e.jsx(o,s({},i.inviteRoleOwner))})]})})]})}),e.jsx(b.Cell,{textAlign:"right",children:e.jsx(we,{onClick:()=>D(h),className:"icon-sm text-token-text-secondary me-2 cursor-pointer"})})]},h))})]}),t&&P&&e.jsx("div",{className:"text-token-text-secondary mt-2 flex items-center text-start",children:e.jsx(je,{id:"resend-emails",checked:W,onChange:k=>P(k.currentTarget.checked),label:d.formatMessage(i.resendEmailsFieldName)})}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(H,{color:"secondary",size:l?"large":"medium",onClick:()=>M(!1),children:d.formatMessage(i.inviteMemberInviteBackButton)}),e.jsx(H,{color:"primary",size:l?"large":"medium",disabled:N||_.length===0||c.length>0,onClick:()=>{B(),z({buttonType:"Send"})},children:N?d.formatMessage(i.inviteMemberInviteSubmitButtonLoading):d.formatMessage(i.inviteMemberInviteSubmitButton)})]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("input",{ref:O,type:"file",accept:".csv,text/csv",id:"upload-csv",className:"hidden",onChange:k=>{q(k),C(!0)}}),c.length>0&&e.jsx("div",{className:"flex w-full items-center bg-red-100 p-4",children:e.jsxs("div",{className:"grow text-red-700",children:[e.jsx(o,s({},i.prohibitedExternalEmailDescription)),e.jsx("pre",{className:"my-1",children:c.join(", ")}),e.jsx(o,s({},i.prohibitedExternalEmailResolution))]})}),x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 flex w-full items-center gap-3",children:[Math.max(m,Math.min(u,m)+I.length)<=he&&e.jsx("div",{className:"bg-token-main-surface-secondary flex h-2 grow overflow-hidden rounded-3xl",children:Array(Le(Math.max(m,Math.min(u,m)+I.length),0,he)).fill(0).map((k,h)=>e.jsx("div",{className:pe("border-token-bg-primary h-full grow border-e-2 last-of-type:border-0",Ge(h,m,u,I.length))},h))}),e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(o,ae(s({},i.seatsInvited),{values:{seatCount:m,enteredCount:Math.max(0,u)+I.length}}))})]}),e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("label",{htmlFor:"add-member-emails",id:"add-emails-label",className:"text-base font-medium",children:e.jsx(o,s({},i.addEmailsFieldName))}),F]}),e.jsx(Ie,{value:I,onChange:le})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4",children:[e.jsx("div",{className:"text-base font-medium",children:e.jsx(o,s({},i.addEmailsFieldName))}),V.map((k,h)=>e.jsx(qe,{email:k,index:h,emailInputList:V,setEmailInputList:$,setEmailTableRows:U},h))]}),e.jsxs("div",{className:"align-center flex justify-between",children:[e.jsx(H,{color:"secondary",onClick:()=>{$(k=>[...k,""])},icon:ze,children:e.jsx(o,s({},i.addEmailButton))}),F]})]}),Math.max(0,u)+_.length-m>0&&e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(o,ae(s({},i.seatsExceeded),{values:{exceeded:Math.max(0,u)+_.length-m}}))})]}),e.jsxs("div",{className:"mt-8 flex w-full flex-col gap-2",children:[e.jsx(H,{color:"primary",size:l?"large":"medium",loading:g?!1:N,disabled:(g?!1:N)||_.length===0||c.length>0,onClick:()=>{g?M(!0):(B(),z({buttonType:"Send"}))},children:g?d.formatMessage(i.inviteMemberInviteNextButton):d.formatMessage(N?i.inviteMemberInviteSubmitButtonLoading:i.inviteMemberInviteSubmitButton)}),e.jsx(H,{color:"ghost",size:l?"large":"medium",onClick:()=>{A(),n(),z({buttonType:"Skip"})},children:j})]})]})}function Ie(a){const t=xe(),n=r.useMemo(()=>t==null?void 0:t.subscriptionAnalyticsParams,[t]),j=r.useCallback(l=>{J.logEvent("Account Pay: Collaborator Emails Added",s(s({},n),l))},[n]),S=r.useCallback(l=>{J.logEvent("Account Pay: Collaborator Email Removed",s(s({},n),l))},[n]);return e.jsx(Fe,s({trackEmailsAdded:j,trackEmailRemoved:S},a))}function Ke(a,t){const n=ie(),j=fe(),S=Te();return Ve({mutationFn:async({emails:l,role:m,resendEmails:u})=>{const g=[],d=Math.max(5,Math.round(l.length/10));for(let f=0;f<l.length;f+=d)g.push(l.slice(f,f+d));const x=async f=>Ae.safePost("/accounts/{account_id}/invites",{parameters:{path:{account_id:a}},requestBody:{email_addresses:f,role:m,resend_emails:u}}).then(M=>(M.errored_emails.length>0&&j.danger(n.formatMessage(i.inviteMessageFailure,{emailsStr:M.errored_emails.map(({email_address:A,error:V})=>"".concat(A,": ").concat(V)).join(", ")}),{loggingTitle:"Failed to invite members",toastId:"admin_invite",loggingDescription:i.inviteMessageFailure.defaultMessage}),M.account_invites)).catch(M=>{throw j.danger(M.message,{toastId:"admin_invite",loggingTitle:"Failed to invite members",loggingDescription:M.message}),M});return(await Promise.all(g.map(f=>x(f)))).flat()},onSuccess:()=>{S.invalidateQueries({queryKey:["workspace","invites",a]}),t==null||t()}})}function Xe(a,t,n){return new Promise(j=>{if(a.size/1048576>Ce)j({status:"error",reason:"file_too_large"});else if(a.type!=="text/csv")j({status:"error",reason:"invalid_file_type"});else{const l=new FileReader;l.readAsText(a),l.onload=function(m){var f;let u=n;const d=((f=m.target)==null?void 0:f.result).split("\n"),x=new Set,C=d.reduce((M,A)=>{var I;const[V,_]=A.split(",").map(c=>c.trim());return de.test(V)&&!x.has(V)&&(t[_]===void 0&&!u&&(u=!0),M.push({email:V,role:(I=t[_])!=null?I:t.member})),x.add(V),M},[]);j({status:"success",newRows:C,hasWarning:u})}}})}const Ye=a=>{const t={member:"member"};return a&&(t.admin="admin",t.owner="owner"),t},i={importCSVLabel:{id:"adminPage.importCSVLabel",defaultMessage:"Import from CSV",description:"Name of label for import from CSV button"},helperCSVFormatHide:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Hide Example</link>',description:"Instructions for formatting the import CSV, with a link to hide the example"},helperCSVFormatShow:{id:"adminPage.helperCSVFormat",defaultMessage:'The file must include email and an optional role on each line. Roles can be "member", "admin", or "owner". <link>Show Example</link>',description:"Instructions for formatting the import CSV, with a link to show an example"},importCSVButtonLegacy:{id:"adminPage.importCSVButtonLegacy",defaultMessage:"Upload",description:"Name of upload from CSV button"},addEmailsFieldName:{id:"adminPage.addEmailsFieldName.0",defaultMessage:"Emails",description:"Name of input for adding emails to workspace"},unspecifiedRoleDescription:{id:"adminPage.unspecifiedRoleDescription",defaultMessage:"Roles that were unspecified have been changed to Member.",description:"Description text for defaulting invite roles to member"},prohibitedExternalEmailDescription:{id:"adminPage.prohibitedExternalEmailDescription",defaultMessage:"The following emails are not a part of your organization's verified domains:",description:"Description text for error message"},prohibitedExternalEmailResolution:{id:"adminPage.prohibitedExternalEmailResolution",defaultMessage:'Either remove these emails, enable "Allow External Domain Invites" from your workspace settings, or verify these email domains.',description:"Description text for error message"},inviteTableHeaderEmail:{id:"adminPage.inviteTableHeaderEmail",defaultMessage:"Email",description:"Label for email column of invite table header which shows the email of the user being invited"},inviteTableHeaderRole:{id:"adminPage.inviteTableHeaderRole",defaultMessage:"Role",description:"Label for role column of invite table header. A user's role indicates their permissions in the workspace."},inviteRoleMember:{id:"adminPage.inviteRoleMember",defaultMessage:"Member",description:"Label for role of the newly invited workspace user: workspace member"},inviteRoleAdmin:{id:"adminPage.inviteRoleAdmin",defaultMessage:"Admin",description:"Label for role of the newly invited workspace user: workspace adminsistrator"},inviteRoleOwner:{id:"adminPage.inviteRoleOwner",defaultMessage:"Owner",description:"Label for role of the newly invited workspace user: workspace owner"},fileTooLargeWarning:{id:"adminPage",defaultMessage:"File is too large. Please upload a CSV file smaller than {maxSize}.",description:"Error when uploading a file that is too large"},fileIncorrectTypeWarning:{id:"adminPage",defaultMessage:"Please upload a CSV file.",description:"Error when uploading a file that is not a CSV"},resendEmailsFieldName:{id:"adminPage.resendEmailsFieldName",defaultMessage:"Resend emails for existing invites",description:"Name of checkbox input for resending emails to outstanding invitees to join the workspace"},teamInviteModalNote:{id:"adminPage.teamInviteModalNote",defaultMessage:"Users that accept invites will be included as additional seats on your next invoice.",description:"Note for team plan invites that additional seats will be charged"},teamInviteModalNoteBeforeLink:{id:"adminPage.teamInviteModalNoteBeforeLink",defaultMessage:"Learn more about ",description:"Note for team plan invites that additional seats will be charged"},teamInviteModalNoteBillingLink:{id:"adminPage.teamInviteModalNoteBillingLink",defaultMessage:"billing",description:"billing word that will be a link to the billing help page"},inviteMessageLoading:{id:"adminPage.inviteMessageLoading",defaultMessage:"Sending out {numRows} invites, this may take a minute...",description:"Loading message when invites are being sent"},inviteSuccessToast:{id:"adminPage.inviteSuccessToast",defaultMessage:"Invited {numRows} {userStr} to {workspaceName}",description:"Message on successfully sending out invites"},inviteMemberInviteNextButton:{id:"adminPage.inviteMemberInviteNextButton",defaultMessage:"Next",description:"The title of the invite member modal next button"},inviteMemberInviteSubmitButton:{id:"adminPage.inviteMemberInviteSubmitButton",defaultMessage:"Send invites",description:"The title of the invite member modal submit button"},inviteMemberInviteSubmitButtonLoading:{id:"adminPage.inviteMemberInviteSubmitButtonLoading",defaultMessage:"Sending invites...",description:"Button label while inviting members which indicates that the job to send invites is in progress"},inviteMemberInviteBackButton:{id:"adminPage.inviteMemberInviteBackButton",defaultMessage:"Back",description:"The title of the invite member modal back navigation button"},inviteMessageFailure:{id:"adminPage.inviteMessageFailure",defaultMessage:"Unable to invite {emailsStr}",description:"Message that shows which emails were unsuccessful at being invited"},importCSVButton:{id:"adminPage.importCSVButton",defaultMessage:"Upload CSV",description:"Name of upload from CSV button which permits uploading a CSV file of emails to invite"},reimportCSVButton:{id:"adminPage.reimportCSVButton",defaultMessage:"Re-upload CSV",description:"Name of re-upload from CSV button which permits re-uploading a CSV file of emails to invite"},importCSVTooltip:{id:"adminPage.importCSVTooltip",defaultMessage:"Upload a CSV file. Your file must include an email on each line.",description:"Tooltip for import from CSV button and guidance on CSV format"},seatsInvited:{id:"adminPage.seatsInvited",defaultMessage:"{enteredCount} of {seatCount} users",description:"Label for number of users invited with context of the currently available seats"},seatsExceeded:{id:"adminPage.seatsExceeded",defaultMessage:"Inviting these users will bill {exceeded} additional {exceeded, plural, one {user} other {users}} on your workspace.",description:"Label for exceeding number of users invited"},emailInputPlaceholder:{id:"adminPage.emailInputPlaceholder",defaultMessage:"Email",description:"Placeholder for email input"},addEmailButton:{id:"adminPage.addEmailButton",defaultMessage:"Add more",description:"Button to add another email input"},duplicateEmailWarning:{id:"adminPage.duplicateEmailWarning",defaultMessage:"This email is a duplicate.",description:"Warning for duplicate email"},invalidEmailWarning:{id:"adminPage.invalidEmailWarning",defaultMessage:"Please enter a valid email address.",description:"Warning for invalid email"}};export{la as A,na as a};
//# sourceMappingURL=doippqp4i4x3ehuc.js.map
