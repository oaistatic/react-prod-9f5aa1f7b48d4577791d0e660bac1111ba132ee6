const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/gsas8pb1acnf7jnd.js","assets/hk38qh27djli4v92.js","assets/g5lgy1otfli5p2x7.js","assets/ieykhlrsk25lij4e.js","assets/i03gut32e8jn5ajq.js","assets/h1em0bjkpkjv8ykw.js","assets/e26n6uhwwtwdmiki.js","assets/mjq17q47489shd3e.js","assets/hxdh3tr5l8kut4ed.js","assets/hu1bt0oauegdhua6.js"])))=>i.map(i=>d[i]);
import{_ as ee,c as Q,j as s,M,e as de,r as we,A as Oe}from"./i8clt0mfz495j7ii.js";import{o as te,L as me,u as ye,h as be,T as _e,$ as ne,dj as Ee,k6 as Te,w as $e,x as Ae,b0 as He}from"./ghewn7l2ynbm32fm.js";import{W as Fe}from"./kzwmj5bk0a8ido2q.js";import{a as Ce,c as Me}from"./k0yjsblyrvonk8x1.js";import{T as O}from"./zm1ki9l766pgg0bx.js";import{u as We}from"./opd3w2dk1rgqmcsu.js";import{M as ve}from"./nkquz7bm0zoqtxn8.js";import{G as ze,H as Ve,I as Ge,n as qe}from"./g5lgy1otfli5p2x7.js";import{p as Ye}from"./m5w9igq1wqtt0i8f.js";import{mb as Ke}from"./j0yo6uv6652vva62.js";import{f as Qe,i as Ze,a as Je}from"./i94vqq9eycryltby.js";import{U as Xe,a as et}from"./bh6goa3ciig8ylh2.js";import"./fgm9uzc3b50cz4e0.js";import"./d30gyor263984jzn.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./o108mlelkx5ejfzn.js";import"./fv135gy2k0pewip3.js";import"./pbvsc3do5o365cxq.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./olrcssu7duieo6m7.js";import"./gzhyo73bmtx9f3d9.js";import"./o56jrqjpjpipvc65.js";import"./chs4g5r39qlnqw6r.js";import"./c80gqv0732s10rnu.js";import"./o6tyvbjf9zh9qku3.js";import"./ieykhlrsk25lij4e.js";import"./i03gut32e8jn5ajq.js";import"./h1em0bjkpkjv8ykw.js";import"./e26n6uhwwtwdmiki.js";import"./mjq17q47489shd3e.js";import"./hxdh3tr5l8kut4ed.js";import"./hu1bt0oauegdhua6.js";import"./pajs134rv9yn6t4z.js";import"./iguylefzk1dr51wi.js";import"./eflwd0j5c3pxruh8.js";import"./galyil7vygq0i5a6.js";import"./kf7tqzde2yk57qjr.js";import"./nvrhbbc4qxooogd5.js";import"./l3jkxavl2du23cqn.js";import"./pc8anf0wrjlgogua.js";import"./mewip4u74thselsp.js";const tt=te(()=>ee(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yq),__vite__mapDeps([0,1,2,3,4])),{loading:t=>me(t)}),st=te(()=>ee(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>me(t)}),at=te(()=>ee(()=>import("./hk38qh27djli4v92.js"),__vite__mapDeps([6,1,2,3,0,4,7,8,9,10,11,12,13,14])).then(t=>t.CodexCreditPurchaseModal));function Ue(t){return Math.floor(Number(t!=null?t:0))}function Pe(t){return new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:0,maximumSignificantDigits:10}).format(Ue(t))}function rt(t){"use forget";var y,B,P,S,R,I,U,g;const e=Q.c(27),{creditDetails:a}=t,c=Ce(),r=Me(),n=ye(),l=be(n,"1823130936"),x=a==null?void 0:a.balance;let f;e[0]!==x?(f=Ue(x),e[0]=x,e[1]=f):f=e[1];const o=f,i=a==null?void 0:a.balance;let m;e[2]!==i?(m=Pe(i),e[2]=i,e[3]=m):m=e[3];const j=m;if(!l||!c&&!r)return null;let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(M,{id:"wham.usageDashboard.metric.rcreditsRemainingLabel",defaultMessage:"Credits remaining"})}),e[4]=h):h=e[4];let d;e[5]!==n?(d=s.jsxs("div",{className:"flex w-full items-center justify-between",children:[h,s.jsx(ne,{onClick:()=>Ee(n,at),size:"small",icon:tt})]}),e[5]=n,e[6]=d):d=e[6];let u;e[7]!==(a==null?void 0:a.unlimited)||e[8]!==j?(u=a!=null&&a.unlimited?s.jsx(M,{id:"wham.usageDashboard.metric.creditsUnlimited",defaultMessage:"Unlimited"}):j,e[7]=a==null?void 0:a.unlimited,e[8]=j,e[9]=u):u=e[9];let p;e[10]!==u?(p=s.jsx("div",{className:"text-token-text-primary flex items-baseline gap-1",children:s.jsx("span",{className:"text-2xl font-semibold",children:u})}),e[10]=u,e[11]=p):p=e[11];let _;e[12]!==d||e[13]!==p?(_=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("header",{className:"flex w-full flex-col gap-1",children:[d,p]})}),e[12]=d,e[13]=p,e[14]=_):_=e[14];let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(M,{id:"wham.usageDashboard.metric.creditsUsageSubtitle",defaultMessage:"Use credits to send messages beyond your plan limit"}),e[15]=C):C=e[15];let b;e[16]!==o||e[17]!==a?(b=o!==0&&(a==null?void 0:a.approx_local_messages)&&(a==null?void 0:a.approx_cloud_messages)&&s.jsx(_e,{label:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("p",{children:s.jsx(M,{id:"wham.usageDashboard.metric.creditsUsageTooltip",defaultMessage:"From remaining credits"})}),s.jsx("p",{children:s.jsx(M,{id:"wham.usageDashboard.metric.creditsLocalUsageTooltip",defaultMessage:"Local: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(B=(y=a.approx_local_messages)==null?void 0:y[0])!=null?B:0,messagesUpperBound:(S=(P=a.approx_local_messages)==null?void 0:P[1])!=null?S:0}})}),s.jsx("p",{children:s.jsx(M,{id:"wham.usageDashboard.metric.creditsCloudUsageTooltip",defaultMessage:"Cloud: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(I=(R=a.approx_cloud_messages)==null?void 0:R[0])!=null?I:0,messagesUpperBound:(g=(U=a.approx_cloud_messages)==null?void 0:U[1])!=null?g:0}})})]}),children:s.jsx("span",{className:"ms-1 text-base font-normal",children:s.jsx(st,{className:"inline-block size-4"})})}),e[16]=o,e[17]=a,e[18]=b):b=e[18];let w;e[19]!==b?(w=s.jsxs("span",{children:[C,b]}),e[19]=b,e[20]=w):w=e[20];let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0}),e[21]=N):N=e[21];let D;e[22]!==w?(D=s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[w,N]}),e[22]=w,e[23]=D):D=e[23];let v;return e[24]!==D||e[25]!==_?(v=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[_,D]}),e[24]=D,e[25]=_,e[26]=v):v=e[26],v}const pe={web:{label:"Cloud",color:"#3A7DE8"},cli:{label:"CLI",color:"#2A5EB1"},vscode:{label:"IDE",color:"#EF9262"},github_turn:{label:"GitHub Turn",color:"#BB5926"},github_code_review:{label:"GitHub Code Review",color:"#D47C3D"},slack:{label:"Slack",color:"#16B7DB"},sdk:{label:"SDK",color:"#0C839E"},exec:{label:"Exec",color:"#783CBF"}};function lt(t){var c;const e=(c=pe[t])==null?void 0:c.label;return e||t.split("_").map(r=>r.length===0?r:r.charAt(0).toUpperCase()+r.slice(1)).join(" ")||t}const ot=te(()=>ee(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>me(t)});function it(t,e){const a=Math.max(t.data.length-e,0),c=t.data.slice(a),r=Object.fromEntries(Object.entries(t.metrics).map(([n,l])=>{const x=c.reduce((f,o)=>{var i;return f+((i=o.values[n])!=null?i:0)},0);return[n,{displayName:l.displayName,total:x}]}));return{data:c,metrics:r}}function ke(t){const e={data:[],metrics:{}};if(!(t!=null&&t.data)||t.data.length===0)return{chartData:e,seriesColorMap:{},seriesOrder:[]};const a=Object.keys(pe),c={};a.forEach(o=>{c[o]=0});const r=t.data.map(({date:o,product_surface_usage_values:i})=>{const m={};let j=0;return a.forEach(h=>{var u;const d=Number((u=i==null?void 0:i[h])!=null?u:0);c[h]+=d,m[h]=d,j+=d}),{date:o,total:j,values:m}}),n=a.filter(o=>c[o]>0),l=r.map(({date:o,total:i,values:m})=>{const j={};return n.forEach(h=>{var d;j[h]=(d=m[h])!=null?d:0}),{date:o,total:i,values:j}}),x=Object.fromEntries(n.map(o=>[o,{total:c[o],displayName:pe[o].label}])),f=Object.fromEntries(n.map(o=>[o,pe[o].color]));return{chartData:{data:l,metrics:x},seriesColorMap:f,seriesOrder:n}}function nt(){"use forget";const t=Q.c(58),e=ye();let a;t[0]!==e?(a=be(e,"3661935633"),t[0]=e,t[1]=a):a=t[1];const c=a,{data:r,isLoading:n,error:l}=ze(),f=We()&&c;let o;t[2]!==f?(o={enabled:f},t[2]=f,t[3]=o):o=t[3];const{data:i,isLoading:m,error:j}=Ve(o);let h;t[4]!==r?(h=ke(r),t[4]=r,t[5]=h):h=t[5];const{chartData:d,seriesColorMap:u,seriesOrder:p}=h;let _;t[6]!==i?(_=ke(i),t[6]=i,t[7]=_):_=t[7];const{chartData:C,seriesColorMap:b,seriesOrder:w}=_,N=!!l,D=!!(f&&j),v=(r==null?void 0:r.units)==="credits",y=de();let B;t[8]!==y?(B=y.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.month",defaultMessage:"30 days"}),t[8]=y,t[9]=B):B=t[9];let P;t[10]!==B?(P={id:"month",label:B,apply:mt},t[10]=B,t[11]=P):P=t[11];let S;t[12]!==y?(S=y.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.week",defaultMessage:"Week"}),t[12]=y,t[13]=S):S=t[13];let R;t[14]!==S?(R={id:"week",label:S,apply:dt},t[14]=S,t[15]=R):R=t[15];let I;t[16]!==P||t[17]!==R?(I=[P,R],t[16]=P,t[17]=R,t[18]=I):I=t[18];const U=I;let g;t[19]!==y?(g=(H,J)=>y.formatNumber(H/J,{style:"percent",maximumFractionDigits:0}),t[19]=y,t[20]=g):g=t[20];const E=g;let L;t[21]!==y?(L=(H,J)=>{const V=Math.round(H);return y.formatMessage({id:"wham.usageDashboard.chart.credits",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:V})},t[21]=y,t[22]=L):L=t[22];const k=L;let q;t[23]!==k?(q=(H,J)=>{const V=Math.round(J.reduce(ct,0));return"".concat(Te(Ye(String(H)),"MMM d")," (").concat(k(V,V),")")},t[23]=k,t[24]=q):q=t[24];const F=q;let Y;t[25]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(M,{id:"wham.usageDashboard.section.personalUsage",defaultMessage:"Usage breakdown"}),t[25]=Y):Y=t[25];let T;t[26]!==y?(T=y.formatMessage({id:"wham.usageDashboard.usageChart.tooltip",defaultMessage:"Usage data is approximate and may be incomplete before Oct 20th. Data may be delayed by up to 12 hours."}),t[26]=y,t[27]=T):T=t[27];let W;t[28]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(ot,{className:"inline-block size-4"}),t[28]=W):W=t[28];let $;t[29]!==T?($=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[Y,s.jsx(_e,{label:T,children:W})]}),t[29]=T,t[30]=$):$=t[30];let A;t[31]!==k||t[32]!==E||t[33]!==N||t[34]!==y||t[35]!==n||t[36]!==F||t[37]!==d||t[38]!==u||t[39]!==p||t[40]!==v||t[41]!==U?(A=N?s.jsx(ce,{title:s.jsx(M,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(ve,{title:s.jsx(M,{id:"wham.usageDashboard.section.dailyUsageChart",defaultMessage:"Personal usage"}),data:n?"loading":d,clientEventSource:"whamDailyTokenUsageBreakdown",forceStack:!0,seriesColorMap:u,stackOrder:p,legendOrder:p,filters:U,filterLabel:y.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:v?k:E,labelFormatter:v?F:void 0,hideYAxis:!0,hideReferenceLine:!0}),t[31]=k,t[32]=E,t[33]=N,t[34]=y,t[35]=n,t[36]=F,t[37]=d,t[38]=u,t[39]=p,t[40]=v,t[41]=U,t[42]=A):A=t[42];let z;t[43]!==C||t[44]!==b||t[45]!==w||t[46]!==k||t[47]!==D||t[48]!==y||t[49]!==m||t[50]!==F||t[51]!==f||t[52]!==U?(z=f&&(D?s.jsx(ce,{title:s.jsx(M,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(ve,{title:s.jsx(M,{id:"wham.usageDashboard.section.teamUsageChart",defaultMessage:"Team usage"}),data:m?"loading":C,clientEventSource:"whamDailyEnterpriseTokenUsageBreakdown",forceStack:!0,seriesColorMap:b,stackOrder:w,legendOrder:w,filters:U,filterLabel:y.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:k,labelFormatter:F,hideYAxis:!0,hideReferenceLine:!0})),t[43]=C,t[44]=b,t[45]=w,t[46]=k,t[47]=D,t[48]=y,t[49]=m,t[50]=F,t[51]=f,t[52]=U,t[53]=z):z=t[53];let Z;return t[54]!==$||t[55]!==A||t[56]!==z?(Z=s.jsxs("section",{className:"flex flex-col gap-6",children:[$,A,z]}),t[54]=$,t[55]=A,t[56]=z,t[57]=Z):Z=t[57],Z}function ct(t,e){return t+e.value}function dt(t){return it(t,7)}function mt(t){return t}function ce(t){"use forget";const e=Q.c(10),{title:a,description:c,action:r}=t;let n;e[0]!==a?(n=s.jsx("h2",{className:"text-token-text-primary text-base font-medium",children:a}),e[0]=a,e[1]=n):n=e[1];let l;e[2]!==c?(l=c?s.jsx("p",{className:"text-token-text-secondary text-sm",children:c}):null,e[2]=c,e[3]=l):l=e[3];let x;e[4]!==r?(x=r?s.jsx("div",{className:"pt-1",children:r}):null,e[4]=r,e[5]=x):x=e[5];let f;return e[6]!==n||e[7]!==l||e[8]!==x?(f=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-3 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[n,l,x]}),e[6]=n,e[7]=l,e[8]=x,e[9]=f):f=e[9],f}const Le=te(()=>ee(()=>import("./hk38qh27djli4v92.js"),__vite__mapDeps([6,1,2,3,0,4,7,8,9,10,11,12,13,14])).then(t=>t.CodexCreditPurchaseModal)),xe=10;function ft(t){"use forget";var Ne;const e=Q.c(72),{formattedCreditBalance:a}=t,c=de(),{data:r,isLoading:n,error:l,refetch:x,isFetching:f}=Ge();let o;e[0]!==(r==null?void 0:r.data)?(o=(Ne=r==null?void 0:r.data)!=null?Ne:[],e[0]=r==null?void 0:r.data,e[1]=o):o=e[1];const i=o,[m,j]=we.useState(1),h=ye();let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{j(1)},e[2]=d):d=e[2];let u;e[3]!==i?(u=[i],e[3]=i,e[4]=u):u=e[4],we.useEffect(d,u);const p=Math.max(1,Math.ceil(i.length/xe)),_=Math.min(m,p),C=i.length===0?0:(_-1)*xe,b=Math.min(C+xe,i.length);let w;e[5]!==b||e[6]!==i||e[7]!==C?(w=i.slice(C,b),e[5]=b,e[6]=i,e[7]=C,e[8]=w):w=e[8];let N;e[9]!==b||e[10]!==_||e[11]!==C||e[12]!==w||e[13]!==p?(N={pageRows:w,start:C,end:b,safePage:_,pageCount:p},e[9]=b,e[10]=_,e[11]=C,e[12]=w,e[13]=p,e[14]=N):N=e[14];const{pageRows:D,start:v,end:y,safePage:B,pageCount:P}=N;if(l){let K,G;e[15]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(M,{id:"wham.usageDashboard.creditHistory.error.title",defaultMessage:"We couldn’t load your credit usage"}),G=s.jsx(M,{id:"wham.usageDashboard.creditHistory.error.body",defaultMessage:"Please try again or contact support if the issue persists."}),e[15]=K,e[16]=G):(K=e[15],G=e[16]);let X;e[17]!==x?(X=()=>{x()},e[17]=x,e[18]=X):X=e[18];let oe;e[19]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx(M,{id:"wham.usageDashboard.creditHistory.retry",defaultMessage:"Try again"}),e[19]=oe):oe=e[19];let ie;return e[20]!==X?(ie=s.jsx(ce,{title:K,description:G,action:s.jsx(ne,{color:"secondary",onClick:X,children:oe})}),e[20]=X,e[21]=ie):ie=e[21],ie}const S=!n&&i.length===0,R=f&&!n;let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.title",defaultMessage:"Credits remaining"})}),e[22]=I):I=e[22];let U;e[23]!==a?(U=s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[I,s.jsx("p",{className:"text-token-text-secondary text-lg font-medium",children:a})]}),e[23]=a,e[24]=U):U=e[24];let g;e[25]!==h?(g=()=>{Ee(h,Le)},e[25]=h,e[26]=g):g=e[26];let E;e[27]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(M,{id:"wham.usageDashboard.creditHistory.addMore",defaultMessage:"Add more"}),e[27]=E):E=e[27];let L;e[28]!==g?(L=s.jsx(ne,{color:"secondary",onPointerOver:xt,onClick:g,children:E}),e[28]=g,e[29]=L):L=e[29];let k;e[30]!==L||e[31]!==U?(k=s.jsxs("div",{className:"flex w-full items-center justify-between p-6",children:[U,L]}),e[30]=L,e[31]=U,e[32]=k):k=e[32];let q;e[33]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(O.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.date",defaultMessage:"Date"})}),e[33]=q):q=e[33];let F;e[34]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(O.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.surface",defaultMessage:"Service"})}),e[34]=F):F=e[34];let Y;e[35]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsxs(O.Header,{children:[q,F,s.jsx(O.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.credits",defaultMessage:"Credits used"})})]}),e[35]=Y):Y=e[35];let T;e[36]!==n?(T=n?Array.from({length:xe}).map(gt):null,e[36]=n,e[37]=T):T=e[37];let W;e[38]!==S?(W=S?s.jsx(O.Row,{children:s.jsx(O.Cell,{colSpan:4,divClassName:"flex h-16 items-center justify-center text-sm",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.empty",defaultMessage:"No credit usage recorded yet"})})}):null,e[38]=S,e[39]=W):W=e[39];let $;if(e[40]!==c||e[41]!==D){let K;e[43]!==c?(K=(G,X)=>{var De;const oe=lt(G.product_surface),ie=c.formatMessage({id:"wham.usageDashboard.creditHistory.creditsValue",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:G.credit_amount}),Ie=c.formatDate(new Date(G.date),{month:"short",day:"numeric",year:"numeric"});return s.jsxs(O.Row,{children:[s.jsx(O.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm",children:Ie})}),s.jsx(O.Cell,{divClassName:"flex h-14 flex-col justify-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:oe})}),s.jsx(O.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:ie})})]},"".concat((De=G.usage_id)!=null?De:"usage","-").concat(G.date,"-").concat(X))},e[43]=c,e[44]=K):K=e[44],$=D.map(K),e[40]=c,e[41]=D,e[42]=$}else $=e[42];let A;e[45]!==T||e[46]!==W||e[47]!==$?(A=s.jsxs(O.Root,{className:"overflow-x-auto overflow-y-clip rounded-2xl",disableScroll:!0,children:[Y,s.jsxs(O.Body,{children:[T,W,$]})]}),e[45]=T,e[46]=W,e[47]=$,e[48]=A):A=e[48];const z="border-token-border-light flex items-center justify-between border-t px-4 py-3 text-xs ".concat(R?"opacity-70":""),Z=i.length===0?0:v+1;let H;e[49]!==y||e[50]!==i.length||e[51]!==Z?(H=s.jsx("div",{className:"text-token-text-tertiary",children:s.jsx(M,{id:"wham.usageDashboard.creditHistory.range",defaultMessage:"{from}-{to} of {total} usage events",values:{from:Z,to:y,total:i.length}})}),e[49]=y,e[50]=i.length,e[51]=Z,e[52]=H):H=e[52];const J=n||B<=1;let V,fe;e[53]===Symbol.for("react.memo_cache_sentinel")?(V=()=>j(ht),fe=s.jsx(M,{id:"wham.usageDashboard.creditHistory.prev",defaultMessage:"Previous"}),e[53]=V,e[54]=fe):(V=e[53],fe=e[54]);let se;e[55]!==J?(se=s.jsx(ne,{as:"button",size:"small",color:"secondary",disabled:J,onClick:V,children:fe}),e[55]=J,e[56]=se):se=e[56];const je=n||B>=P;let ue,he;e[57]===Symbol.for("react.memo_cache_sentinel")?(ue=()=>j(ut),he=s.jsx(M,{id:"wham.usageDashboard.creditHistory.next",defaultMessage:"Next"}),e[57]=ue,e[58]=he):(ue=e[57],he=e[58]);let ae;e[59]!==je?(ae=s.jsx(ne,{as:"button",size:"small",color:"secondary",disabled:je,onClick:ue,children:he}),e[59]=je,e[60]=ae):ae=e[60];let re;e[61]!==se||e[62]!==ae?(re=s.jsxs("div",{className:"flex items-center gap-2",children:[se,ae]}),e[61]=se,e[62]=ae,e[63]=re):re=e[63];let le;e[64]!==z||e[65]!==H||e[66]!==re?(le=s.jsxs("div",{className:z,children:[H,re]}),e[64]=z,e[65]=H,e[66]=re,e[67]=le):le=e[67];let ge;return e[68]!==k||e[69]!==A||e[70]!==le?(ge=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary rounded-2xl border shadow-sm",children:[k,A,le]}),e[68]=k,e[69]=A,e[70]=le,e[71]=ge):ge=e[71],ge}function ut(t){return t+1}function ht(t){return Math.max(1,t-1)}function gt(t,e){return s.jsx(O.Row,{children:s.jsx(O.Cell,{colSpan:4,divClassName:"p-4",children:s.jsx("div",{className:"bg-token-bg-tertiary border-token-border-light h-6 w-full animate-pulse rounded-md border"})})},"credit-usage-loading-".concat(e))}function xt(){return Le.prefetch()}const pt=te(()=>ee(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>me(t)});function bt(t){"use forget";var j;const e=Q.c(13),{rateLimit:a}=t,c=de();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(M,{id:"wham.usageDashboard.section.creditUsageHistory",defaultMessage:"Credits usage history"}),e[0]=r):r=e[0];let n;e[1]!==c?(n=c.formatMessage({id:"wham.usageDashboard.creditHistory.tooltip",defaultMessage:"Credit history data may be incomplete before Oct 24th. Data may be delayed by up to 12 hours."}),e[1]=c,e[2]=n):n=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(pt,{className:"inline-block size-4"}),e[3]=l):l=e[3];let x;e[4]!==n?(x=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[r,s.jsx(_e,{label:n,children:l})]}),e[4]=n,e[5]=x):x=e[5];const f=(j=a==null?void 0:a.credits)==null?void 0:j.balance;let o;e[6]!==f?(o=Pe(f),e[6]=f,e[7]=o):o=e[7];let i;e[8]!==o?(i=s.jsx(ft,{formattedCreditBalance:o}),e[8]=o,e[9]=i):i=e[9];let m;return e[10]!==x||e[11]!==i?(m=s.jsxs("section",{className:"flex flex-col gap-6 pb-12",children:[x,i]}),e[10]=x,e[11]=i,e[12]=m):m=e[12],m}const yt=te(()=>ee(()=>import("./gsas8pb1acnf7jnd.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>me(t)});function _t(t){return Math.min(Math.max(Math.round(t),0),100)}function Be(t){return t<=30?"bg-[#f87171]":"bg-[#22c55e]"}function Se(t,e,a,c){var l;const r=_t(100-((l=e.used_percent)!=null?l:0)),n=jt(t,e.reset_after_seconds);return{id:a,label:c,remainingPercent:r,resetLabel:n,barColorClassName:Be(r)}}function jt(t,e){const a=Qe(t,e);return t.formatMessage({id:"wham.usageDashboard.metric.resetsAt",defaultMessage:"Resets {label}"},{label:a})}function wt(t){"use forget";const e=Q.c(34),{rateLimit:a,creditDetails:c}=t,r=de(),n=Ce(),l=Me(),x=a.primary_window,f=a.secondary_window;if(!x||!f)return null;let o;e[0]!==r||e[1]!==x?(o=Se(r,x,"quota-primary",r.formatMessage({id:"wham.usageDashboard.metric.window.primary",defaultMessage:"5 hour usage limit"})),e[0]=r,e[1]=x,e[2]=o):o=e[2];let i;e[3]!==r||e[4]!==f?(i=Se(r,f,"quota-secondary",r.formatMessage({id:"wham.usageDashboard.metric.window.secondary",defaultMessage:"Weekly usage limit"})),e[3]=r,e[4]=f,e[5]=i):i=e[5];let m;e[6]!==o||e[7]!==i?(m=[o,i],e[6]=o,e[7]=i,e[8]=m):m=e[8];const j=m;let h;e[9]!==r?(h=r.formatMessage({id:"wham.usageDashboard.section.quota",defaultMessage:"Balance"}),e[9]=r,e[10]=h):h=e[10];let d;e[11]!==h?(d=s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:h}),e[11]=h,e[12]=d):d=e[12];let u;e[13]!==j?(u=j.map(Ct),e[13]=j,e[14]=u):u=e[14];let p;e[15]!==r?(p=r.formatMessage({id:"wham.usageDashboard.metric.window.codeReview",defaultMessage:"Code review"}),e[15]=r,e[16]=p):p=e[16];let _;e[17]!==r?(_=r.formatMessage({id:"wham.usageDashboard.metric.window.codeReview.tooltip",defaultMessage:"Code review is unlimited until Nov 20th"}),e[17]=r,e[18]=_):_=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C=Be(100),e[19]=C):C=e[19];let b;e[20]!==p||e[21]!==_?(b=s.jsx(Re,{metric:{id:"code-review",label:p,remainingPercent:100,resetLabel:"",tooltip:_,barColorClassName:C}},"code-review"),e[20]=p,e[21]=_,e[22]=b):b=e[22];let w;e[23]!==c||e[24]!==n||e[25]!==l?(w=(!!n||!!l)&&s.jsx(rt,{creditDetails:c}),e[23]=c,e[24]=n,e[25]=l,e[26]=w):w=e[26];let N;e[27]!==b||e[28]!==w||e[29]!==u?(N=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u,b,w]}),e[27]=b,e[28]=w,e[29]=u,e[30]=N):N=e[30];let D;return e[31]!==N||e[32]!==d?(D=s.jsxs("section",{className:"flex flex-col gap-6",children:[d,N]}),e[31]=N,e[32]=d,e[33]=D):D=e[33],D}function Ct(t){return s.jsx(Re,{metric:t},t.id)}function Re(t){"use forget";const e=Q.c(32),{metric:a}=t,c=de(),{label:r,remainingPercent:n,resetLabel:l,barColorClassName:x}=a;let f;e[0]!==n?(f=Math.round(n),e[0]=n,e[1]=f):f=e[1];const o=Math.min(Math.max(f,0),100);let i;e[2]!==c||e[3]!==o?(i=c.formatNumber(o/100,{style:"percent",maximumFractionDigits:0}),e[2]=c,e[3]=o,e[4]=i):i=e[4];const m=i;let j;e[5]!==c?(j=c.formatMessage({id:"wham.usageDashboard.metric.remainingLabel",defaultMessage:"remaining"}),e[5]=c,e[6]=j):j=e[6];const h=j;let d;e[7]!==r?(d=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:r}),e[7]=r,e[8]=d):d=e[8];let u;e[9]!==m?(u=s.jsx("span",{className:"text-2xl font-semibold",children:m}),e[9]=m,e[10]=u):u=e[10];let p;e[11]!==h?(p=s.jsxs("span",{className:"text-base font-normal",children:[" ",h," "]}),e[11]=h,e[12]=p):p=e[12];let _;e[13]!==a.tooltip?(_=a.tooltip?s.jsx(_e,{label:a.tooltip,children:s.jsx("span",{className:"text-base font-normal",children:s.jsx(yt,{className:"inline-block size-4"})})}):null,e[13]=a.tooltip,e[14]=_):_=e[14];let C;e[15]!==u||e[16]!==p||e[17]!==_?(C=s.jsxs("div",{className:"text-token-text-primary flex items-baseline gap-1",children:[u,p,_]}),e[15]=u,e[16]=p,e[17]=_,e[18]=C):C=e[18];let b;e[19]!==d||e[20]!==C?(b=s.jsxs("header",{className:"flex flex-col gap-1",children:[d,C]}),e[19]=d,e[20]=C,e[21]=b):b=e[21];const w="".concat(x," rounded-full").concat(o===0?" hidden":"");let N;e[22]!==o||e[23]!==w?(N=s.jsx(Ke,{percentage:o,height:12,backgroundClassName:"rounded-full bg-[#ebebf0]",barClassName:w}),e[22]=o,e[23]=w,e[24]=N):N=e[24];let D;e[25]!==o||e[26]!==l?(D=o<100?s.jsxs("div",{className:"text-token-text-tertiary flex items-center text-xs",children:[s.jsx("span",{children:l}),s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0})]}):null,e[25]=o,e[26]=l,e[27]=D):D=e[27];let v;return e[28]!==N||e[29]!==D||e[30]!==b?(v=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[b,N,D]}),e[28]=N,e[29]=D,e[30]=b,e[31]=v):v=e[31],v}function Mt(){"use forget";var I,U;const t=Q.c(39),e=ye();let a;t[0]!==e?(a=be(e,"3585049109"),t[0]=e,t[1]=a):a=t[1];const c=a;let r;t[2]!==e?(r=be(e,"1823130936"),t[2]=e,t[3]=r):r=t[3];const n=r,{data:l,isLoading:x,error:f}=qe(),o=Ce(),i=Me(),m=(I=l==null?void 0:l.rate_limit)!=null?I:null,j=(U=l==null?void 0:l.credits)!=null?U:null;let h;t[4]!==l?(h=!!l&&Ze(l),t[4]=l,t[5]=h):h=t[5];const d=h;let u;t[6]!==l?(u=!!l&&Je(l),t[6]=l,t[7]=u):u=t[7];const p=u,_=!!(m!=null&&m.primary_window&&(m!=null&&m.secondary_window)),C=!!(l&&m==null),b=!!(m&&!_),w=!!C,D=!!f||b;let v,y;if(t[8]===Symbol.for("react.memo_cache_sentinel")?(y=[],t[8]=y):y=t[8],we.useEffect(Nt,y),x){let g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(He,{className:"icon me-2"}),t[9]=g):g=t[9];let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{className:"flex w-full items-center justify-center py-16",children:[g,s.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:s.jsx(M,{id:"wham.usageDashboard.loading",defaultMessage:"Loading usage data"})})]}),t[10]=E):E=t[10],v=E}else if(w){let g;t[11]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(ce,{title:s.jsx(M,{id:"wham.usageDashboard.noLimits",defaultMessage:"Your plan does not impose Codex rate limits"})}),t[11]=g):g=t[11],v=g}else if(D){let g;t[12]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(ce,{title:s.jsx(M,{id:"wham.usageDashboard.error.title",defaultMessage:"We couldn’t load your usage data"}),description:s.jsx(M,{id:"wham.usageDashboard.error.body",defaultMessage:"Please try again. If the issue continues, contact support."})}),t[12]=g):g=t[12],v=g}else{let g;t[13]!==l||t[14]!==d?(g=d&&l&&s.jsx(Xe,{rateLimit:l}),t[13]=l,t[14]=d,t[15]=g):g=t[15];let E;t[16]!==l||t[17]!==p||t[18]!==d?(E=p&&!d&&l&&s.jsx(et,{rateLimit:l}),t[16]=l,t[17]=p,t[18]=d,t[19]=E):E=t[19];let L;t[20]!==j||t[21]!==m?(L=m&&s.jsx(wt,{rateLimit:m,creditDetails:j}),t[20]=j,t[21]=m,t[22]=L):L=t[22];let k;t[23]!==g||t[24]!==E||t[25]!==L?(k=s.jsxs(s.Fragment,{children:[g,E,L]}),t[23]=g,t[24]=E,t[25]=L,t[26]=k):k=t[26],v=k}let B;t[27]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx("header",{className:"border-token-border-heavy flex flex-col border-b",children:s.jsx("h1",{className:"text-token-text-primary py-2 text-xl leading-7 font-medium",children:s.jsx(M,{id:"wham.usageDashboard.title",defaultMessage:"Usage dashboard"})})}),t[27]=B):B=t[27];let P;t[28]!==c?(P=c?s.jsx("div",{className:"flex flex-col gap-10",children:s.jsx(nt,{})}):null,t[28]=c,t[29]=P):P=t[29];let S;t[30]!==n||t[31]!==o||t[32]!==i||t[33]!==l?(S=n&&(o||i)&&s.jsx(bt,{rateLimit:l}),t[30]=n,t[31]=o,t[32]=i,t[33]=l,t[34]=S):S=t[34];let R;return t[35]!==v||t[36]!==P||t[37]!==S?(R=s.jsx(Fe,{topPadding:!0,children:s.jsxs("div",{className:"mx-auto flex h-full max-w-screen-xl flex-1 flex-col gap-10 ps-4 pe-12 pb-16",children:[B,s.jsxs("div",{className:"flex flex-col gap-10",children:[v,P,S]})]})}),t[35]=v,t[36]=P,t[37]=S,t[38]=R):R=t[38],R}function Nt(){$e.removeItem(Ae.CreditCheckoutRedirectPath)}const gs=()=>[{title:"Codex"}],xs=Oe(function(){"use forget";const e=Q.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Mt,{}),e[0]=a):a=e[0],a});export{xs as default,gs as meta};
//# sourceMappingURL=mxd7f63judtqfjvi.js.map
