const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/rsi9kppw43ykrsgk.js","assets/i8clt0mfz495j7ii.js","assets/biezqtzsomegvlsv.js","assets/frf0wu8ouyfyu06j.js","assets/bz46otimdhidcz20.js"])))=>i.map(i=>d[i]);
var Ot=Object.defineProperty,Rt=Object.defineProperties;var At=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable;var ut=(i,e,s)=>e in i?Ot(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,q=(i,e)=>{for(var s in e||(e={}))Wt.call(e,s)&&ut(i,s,e[s]);if(dt)for(var s of dt(e))Ft.call(e,s)&&ut(i,s,e[s]);return i},Ge=(i,e)=>Rt(i,At(e));import{c as re,r as x,j as t,M as z,_ as Ke,h as ht,p as Ut,b as xt,f as Dt,e as it}from"./i8clt0mfz495j7ii.js";import{u as He,a$ as ft,b0 as bt,d as we,P as O,o as Je,L as Xe,$ as ie,bN as Bt,a0 as $e,a5 as qt,cH as mt,a as tt,cI as $t,H as Ht,cS as Ce,dY as zt,R as lt,z as Qt,oU as Vt,a4 as at,A as _t,el as Yt,aW as st,aV as Pe,mM as yt,B as wt,aY as Gt,iu as Kt,oV as Jt,iv as Xt,lq as Zt,bO as Ze,bM as es,le as ct}from"./ghewn7l2ynbm32fm.js";import{u as ts}from"./gbb3ypbzzsv572sp.js";import{gN as ss,cQ as ns,cR as os,aP as pt,cT as et,cU as St,gO as is,gP as vt,aS as as,aT as ls,bI as kt,dr as jt,bJ as Nt,eK as Et,eL as rs,gQ as cs,dC as ds,gR as us,gS as fs,bx as ms,cS as ps}from"./j0yo6uv6652vva62.js";import{s as ge,R as gs}from"./m33zu9g0u0zd5b6m.js";import{O as hs,M as xs}from"./ddoygll5qa9ks6q8.js";import{F as Ct,b as bs,c as _s,S as ys}from"./fe1zgnccg3ea7jld.js";import{P as Pt}from"./mtmwfv9ttg0ed53k.js";import{M as ws}from"./bc51ukj7a2qfpnc3.js";import{H as Ss}from"./g4tl5lt9yqf20m4s.js";import"./n8tfpmgkqe98i7yl.js";import"./kplnfohfof8ely0n.js";import"./kgnykbdth8mb50na.js";import"./g8i6bixylsxyemsr.js";import"./iej0cupg2dqkmejt.js";import"./o1s10g7vrpyumh3e.js";import"./mq11hu99eist2abq.js";import"./ji1868fe7hk3rgcl.js";import"./izvx0vf35f3cqx26.js";import"./e2bky2k6amgws3b2.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";import"./hht3m8p9e0s4tqnx.js";import"./hhl3vz1yrrpnwu4u.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./kj8h59p17s2tn6gp.js";import"./hlon4mihnqp86jji.js";import"./f6ek1vdaohim72xh.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./mh1u90j45tiq86ol.js";const vs=Je(()=>Ke(()=>import("./rsi9kppw43ykrsgk.js").then(i=>i._),__vite__mapDeps([0,1])),{loading:i=>Xe(i)}),gt=["outline-green-400 bg-green-50 text-green-500","outline-purple-400 bg-purple-50 text-purple-500","outline-blue-400 bg-blue-50 text-blue-500","outline-orange-400 bg-orange-50 text-orange-500","outline-red-400 bg-red-50 text-red-500","outline-pink-400 bg-pink-50 text-pink-500","outline-yellow-400 bg-yellow-50 text-yellow-500"],ks=x.forwardRef(function(e,s){"use forget";const n=re.c(25),{emoji:o,label:d,selected:l,onClick:f,className:a,loading:p,disabled:c,colorClasses:g}=e,h=p===void 0?!1:p,S=c===void 0?!1:c;let m;n[0]!==S||n[1]!==h||n[2]!==f?(m=E=>{if(h||S){E.preventDefault();return}f()},n[0]=S,n[1]=h,n[2]=f,n[3]=m):m=n[3];const k=h||void 0,y=S||void 0;let j;n[4]!==a||n[5]!==g||n[6]!==h||n[7]!==l?(j=we("focus-visible:outline-token-outline-primary shadow-xxs inline-flex h-11 items-center justify-center gap-2 rounded-full px-4 ps-3 outline outline-1 outline-offset-[-1px] transition-colors duration-150 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",l?we(g||"bg-token-interactive-bg-accent-muted-hover outline-token-outline-primary text-white"):"bg-token-main-surface-primary text-token-text-secondary outline-token-border-light hover:bg-token-main-surface-secondary hover:text-token-text-primary disabled:cursor-not-allowed disabled:opacity-50",h&&"cursor-wait",a),n[4]=a,n[5]=g,n[6]=h,n[7]=l,n[8]=j):j=n[8];let b;n[9]!==o||n[10]!==h||n[11]!==l?(b=t.jsx("span",{"aria-hidden":"true",className:"flex h-5 w-5 items-center justify-center",children:h?t.jsx("span",{className:"icon text-token-interactive-icon-accent-default",children:t.jsx(bt,{})}):l?t.jsx("span",{className:"icon",children:t.jsx(vs,{})}):t.jsx("span",{className:"text-xl leading-none opacity-90",children:o})}),n[9]=o,n[10]=h,n[11]=l,n[12]=b):b=n[12];let _;n[13]!==d?(_=t.jsx("span",{className:"text-center text-sm leading-tight font-medium text-current",children:d}),n[13]=d,n[14]=_):_=n[14];let v;return n[15]!==d||n[16]!==s||n[17]!==l||n[18]!==m||n[19]!==k||n[20]!==y||n[21]!==j||n[22]!==b||n[23]!==_?(v=t.jsxs("button",{ref:s,type:"button",onClick:m,"aria-pressed":l,"aria-busy":k,"aria-label":d,"aria-disabled":y,className:j,children:[b,_]}),n[15]=d,n[16]=s,n[17]=l,n[18]=m,n[19]=k,n[20]=y,n[21]=j,n[22]=b,n[23]=_,n[24]=v):v=n[24],v});function js(i){"use forget";const e=re.c(81),{onContinue:s,onSkip:n,initialSelection:o,fetchInterests:d,topLevelInterests:l,isLoading:f}=i;let a;e[0]!==o?(a=o===void 0?[]:o,e[0]=o,e[1]=a):a=e[1];const p=a,c=He();let g;e[2]!==c?(g=ss(c,!1).get("onboarding_interest_picker_max_interests",10),e[2]=c,e[3]=g):g=e[3];const h=g;let S;e[4]!==p?(S=()=>new Set(p),e[4]=p,e[5]=S):S=e[5];const[m,k]=x.useState(S),[y,j]=x.useState(Is),[b,_]=x.useState(Ms);let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=new Map,e[6]=v):v=e[6];const E=x.useRef(v);let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=new Map,e[7]=C):C=e[7];const P=x.useRef(C),[R,L]=x.useState(Ts),A=x.useRef(null),[Q,G]=x.useState(!1),[V,K]=x.useState(!1);let W;e[8]===Symbol.for("react.memo_cache_sentinel")?(W=u=>{const N=A.current;if(!N)return;const U=E.current.get(u);if(!U)return;const D=N.getBoundingClientRect(),T=U.getBoundingClientRect();D.bottom-T.bottom<140&&N.scrollBy({top:140,behavior:"smooth"})},e[8]=W):W=e[8];const $=W;let J;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=u=>N=>{const U=E.current;N?U.set(u,N):U.delete(u)},e[9]=J):J=e[9];const se=J;let I,M;e[10]!==p?(M=()=>{k(new Set(p))},I=[p],e[10]=p,e[11]=I,e[12]=M):(I=e[11],M=e[12]),x.useEffect(M,I);let F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=[],e[13]=F):F=e[13],x.useEffect(Ps,F);let te;e[14]!==l?(te=l.map(Cs),e[14]=l,e[15]=te):te=e[15];const Z=te;let ne;if(e[16]!==Z){ne=new Map;for(let u=0;u<Z.length;u++){const N=Z[u];ne.set(N.label,gt[u%gt.length])}e[16]=Z,e[17]=ne}else ne=e[17];const Te=ne;let Me,We;e[18]!==Z?(Me=()=>{_(u=>{const N=new Set(u);for(const U of Z)N.add(U.id);return N})},We=[Z],e[18]=Z,e[19]=Me,e[20]=We):(Me=e[19],We=e[20]),x.useEffect(Me,We);let he;if(e[21]!==y||e[22]!==Z){he=[];const u=(N,U)=>{const D=y.get(N);if(D)for(const T of D){const H="".concat(N,"||").concat(T.label),ee=[...U,T.label];he.push({id:H,label:T.label,emoji:T.emoji,isTopLevel:!1,chainLabels:ee}),u(H,ee)}};for(const N of Z)he.push(N),u(N.id,N.chainLabels);e[21]=y,e[22]=Z,e[23]=he}else he=e[23];const ae=he;let ze;e[24]===Symbol.for("react.memo_cache_sentinel")?(ze=()=>{var ee,r;const u=A.current,N=u==null?void 0:u.getBoundingClientRect(),U=(ee=u==null?void 0:u.scrollLeft)!=null?ee:0,D=(r=u==null?void 0:u.scrollTop)!=null?r:0,T=new Map;E.current.forEach((B,X)=>{const oe=B.getBoundingClientRect();N?T.set(X,{left:oe.left-N.left+U,top:oe.top-N.top+D}):T.set(X,{left:oe.left,top:oe.top})});const H=P.current;T.forEach((B,X)=>{const oe=H.get(X);if(!oe)return;const qe=oe.left-B.left,Re=oe.top-B.top;if(qe!==0||Re!==0){const pe=E.current.get(X);if(!pe)return;pe.style.transition="none",pe.style.transform="translate(".concat(qe,"px, ").concat(Re,"px)"),requestAnimationFrame(()=>{pe.style.transition="transform 200ms ease",pe.style.transform=""})}}),P.current=T},e[24]=ze):ze=e[24];let Ie;e[25]!==ae?(Ie=[ae],e[25]=ae,e[26]=Ie):Ie=e[26],ft(ze,Ie);let le;e[27]===Symbol.for("react.memo_cache_sentinel")?(le=()=>{const u=A.current;if(!u)return;const N=()=>{const D=u.scrollHeight-u.clientHeight>1,T=u.scrollHeight-u.clientHeight-u.scrollTop<=1,H=D&&!T;G(B=>B===H?B:H);const ee=u.scrollTop<=1,r=D&&!ee;K(B=>B===r?B:r)};N(),u.addEventListener("scroll",N,{passive:!0});let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(N),U.observe(u)),()=>{u.removeEventListener("scroll",N),U==null||U.disconnect()}},e[27]=le):le=e[27];let Fe;e[28]!==ae?(Fe=[ae],e[28]=ae,e[29]=Fe):Fe=e[29],ft(le,Fe);let Se;e[30]!==y?(Se=(u,N)=>{const U="".concat(u,"||");for(const H of Array.from(N))H!==u&&H.startsWith(U)&&N.delete(H);const D=new Map(y),T=[u];for(;T.length>0;){const H=T.pop();if(H===void 0)break;const ee=D.get(H);if(D.delete(H),ee&&ee.length)for(const r of ee){const B="".concat(H,"||").concat(r.label);T.push(B)}}j(D),_(H=>{const ee=new Set(H);for(const r of Array.from(ee))r!==u&&r.startsWith(U)&&ee.delete(r);return ee})},e[30]=y,e[31]=Se):Se=e[31];const Ue=Se;let Le;e[32]!==y||e[33]!==d||e[34]!==R||e[35]!==h||e[36]!==Ue||e[37]!==m?(Le=async u=>{if(R.has(u.id))return;O.logEventWithStatsig("Onboarding Interest Clicked","chatgpt_onboarding_interest_clicked",{chain_depth:u.chainLabels.length});const N=!m.has(u.id);if(N&&m.size>=h)return;if(k(D=>{const T=new Set(D);return T.has(u.id)?(T.delete(u.id),Ue(u.id,T)):T.add(u.id),T}),N&&$(u.id),N&&d){L(D=>{const T=new Set(D);return T.add(u.id),T});try{const T=await d(u.chainLabels),H=new Map(y);H.set(u.id,T),j(H);const ee=T.map(r=>"".concat(u.id,"||").concat(r.label));requestAnimationFrame(()=>{requestAnimationFrame(()=>{_(r=>{const B=new Set(r);for(const X of ee)B.add(X);return B}),$(u.id)})})}catch(D){O.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"interest_children_load_failed"})}L(D=>{const T=new Set(D);return T.delete(u.id),T})}},e[32]=y,e[33]=d,e[34]=R,e[35]=h,e[36]=Ue,e[37]=m,e[38]=Le):Le=e[38];const De=Le;let Oe;e[39]!==ae||e[40]!==s||e[41]!==m?(Oe=()=>{const u=new Map(ae.map(Es)),N=Array.from(m).map(U=>u.get(U)).filter(Ns);s(N)},e[39]=ae,e[40]=s,e[41]=m,e[42]=Oe):Oe=e[42];const Qe=Oe;let ve;e[43]!==n?(ve=()=>{O.logEventWithStatsig("Onboarding Interests Skipped","chatgpt_onboarding_interests_skipped"),n()},e[43]=n,e[44]=ve):ve=e[44];const Ve=ve;let ke;e[45]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx("div",{className:"max-w-[520px]",children:t.jsx("h1",{className:"text-token-text-primary mb-8 text-center text-3xl leading-9 font-medium",children:t.jsx(z,q({},ge.whatDoYouWantToDoWithChat))})}),e[45]=ke):ke=e[45];let xe;e[46]!==Te||e[47]!==ae||e[48]!==De||e[49]!==f||e[50]!==R||e[51]!==h||e[52]!==b||e[53]!==m?(xe=f?t.jsx("div",{className:"flex justify-center",children:t.jsx(bt,{})}):ae.map(u=>{var N;return t.jsx(ks,{emoji:(N=u.emoji)!=null?N:"",label:u.label,selected:m.has(u.id),loading:R.has(u.id),disabled:m.size>=h&&!m.has(u.id),onClick:()=>De(u),ref:se(u.id),colorClasses:Te.get(u.chainLabels[0]),className:we("transition-opacity duration-200",u.isTopLevel||b.has(u.id)?"opacity-100":"opacity-0")},u.id)}),e[46]=Te,e[47]=ae,e[48]=De,e[49]=f,e[50]=R,e[51]=h,e[52]=b,e[53]=m,e[54]=xe):xe=e[54];let be;e[55]!==xe?(be=t.jsx("div",{ref:A,className:"h-full w-full overflow-y-auto",children:t.jsx("div",{className:"mx-auto w-full max-w-[640px] py-2",children:t.jsx("div",{className:"flex flex-wrap items-start justify-center gap-3",children:xe})})}),e[55]=xe,e[56]=be):be=e[56];const w=V?"opacity-100":"opacity-0";let de;e[57]!==w?(de=we("from-token-main-surface-primary via-token-main-surface-primary/80 dark:from-token-main-surface-primary dark:via-token-main-surface-primary/80 pointer-events-none absolute inset-x-0 top-0 h-15 bg-gradient-to-b to-transparent transition-opacity duration-200",w),e[57]=w,e[58]=de):de=e[58];let ue;e[59]!==de?(ue=t.jsx("div",{className:de}),e[59]=de,e[60]=ue):ue=e[60];const Ye=Q?"opacity-100":"opacity-0";let me;e[61]!==Ye?(me=we("from-token-main-surface-primary via-token-main-surface-primary/80 dark:from-token-main-surface-primary dark:via-token-main-surface-primary/80 pointer-events-none absolute inset-x-0 bottom-0 h-15 bg-gradient-to-t to-transparent transition-opacity duration-200",Ye),e[61]=Ye,e[62]=me):me=e[62];let fe;e[63]!==me?(fe=t.jsx("div",{className:me}),e[63]=me,e[64]=fe):fe=e[64];let ce;e[65]!==be||e[66]!==ue||e[67]!==fe?(ce=t.jsxs("div",{className:"flex min-h-0 flex-1 flex-col items-center",children:[ke,t.jsxs("div",{className:"relative flex min-h-0 w-full flex-1 justify-center",children:[be,ue,fe]})]}),e[65]=be,e[66]=ue,e[67]=fe,e[68]=ce):ce=e[68];let je;e[69]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(z,q({},ge.continueButton)),e[69]=je):je=e[69];let _e;e[70]!==Qe?(_e=t.jsx(ie,{size:"large",color:"primary",onClick:Qe,className:"mt-10",fullWidth:!0,children:je}),e[70]=Qe,e[71]=_e):_e=e[71];let Ne;e[72]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(z,q({},ge.skip)),e[72]=Ne):Ne=e[72];let ye;e[73]!==Ve?(ye=t.jsx(ie,{size:"large",color:"ghost",onClick:Ve,fullWidth:!0,children:Ne}),e[73]=Ve,e[74]=ye):ye=e[74];let Ee;e[75]!==_e||e[76]!==ye?(Ee=t.jsxs("div",{className:"flex w-full flex-col gap-2 sm:max-w-[320px] sm:gap-3",children:[_e,ye]}),e[75]=_e,e[76]=ye,e[77]=Ee):Ee=e[77];let Be;return e[78]!==ce||e[79]!==Ee?(Be=t.jsxs(hs,{className:"sm:tall:max-h-[750px] flex h-full flex-col items-center justify-between self-center max-sm:h-full max-sm:w-full max-sm:px-6 max-sm:pt-10 max-sm:pb-5 sm:w-full sm:max-w-[996px] sm:px-12 sm:py-12",children:[ce,Ee]}),e[78]=ce,e[79]=Ee,e[80]=Be):Be=e[80],Be}function Ns(i){return!!i}function Es(i){return[i.id,i.label]}function Cs(i){return{id:i.label,label:i.label,emoji:i.emoji,isTopLevel:!0,chainLabels:[i.label]}}function Ps(){O.logEventWithStatsig("Onboarding Step Shown","chatgpt_onboarding_step_shown",{step_type:"interest_picker"})}function Ts(){return new Set}function Ms(){return new Set}function Is(){return new Map}const Ls=Je(()=>Ke(()=>import("./biezqtzsomegvlsv.js").then(i=>i._),__vite__mapDeps([2,1])),{loading:i=>Xe(i)}),Os=Je(()=>Ke(()=>import("./frf0wu8ouyfyu06j.js").then(i=>i._),__vite__mapDeps([3,1])),{loading:i=>Xe(i)}),rt=Je(()=>Ke(()=>import("./rsi9kppw43ykrsgk.js").then(i=>i._),__vite__mapDeps([0,1])),{loading:i=>Xe(i)}),Rs=Je(()=>Ke(()=>import("./bz46otimdhidcz20.js").then(i=>i._),__vite__mapDeps([4,1])),{loading:i=>Xe(i)}),As=(i,e,s,n)=>{"use forget";var j;const o=re.c(19),d=n===void 0?7e3:n;let l;o[0]!==e||o[1]!==s?(l=["onboardingSteps",e,s],o[0]=e,o[1]=s,o[2]=l):l=o[2];const f=!i;let a;o[3]!==i||o[4]!==e||o[5]!==d||o[6]!==s?(a=()=>{const b=lt.safePost("/onboarding/steps",{requestBody:{main_usage:void 0,main_usages:e,user_description:s,exclude_feature_steps:i},authOption:_t.SendIfAvailable});if(d===0)return b;const _=new Promise(v=>setTimeout(()=>v({steps:[],isError:!0}),d));return Promise.race([b,_])},o[3]=i,o[4]=e,o[5]=d,o[6]=s,o[7]=a):a=o[7];let p;o[8]!==l||o[9]!==f||o[10]!==a?(p={queryKey:l,enabled:f,queryFn:a},o[8]=l,o[9]=f,o[10]=a,o[11]=p):p=o[11];const{data:c,isLoading:g,isSuccess:h,isError:S}=xt(p);let m;o[12]!==(c==null?void 0:c.steps)?(m=(j=c==null?void 0:c.steps)!=null?j:[],o[12]=c==null?void 0:c.steps,o[13]=m):m=o[13];const k=S||(c==null?void 0:c.isError);let y;return o[14]!==g||o[15]!==h||o[16]!==m||o[17]!==k?(y={steps:m,isLoading:g,isSuccess:h,isError:k},o[14]=g,o[15]=h,o[16]=m,o[17]=k,o[18]=y):y=o[18],y};function Ae(i){"use forget";const e=re.c(7),{children:s,className:n}=i;let o,d,l,f;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={opacity:0,y:7},d={opacity:1,y:0},l={duration:.2},f={opacity:0,y:-7},e[0]=o,e[1]=d,e[2]=l,e[3]=f):(o=e[0],d=e[1],l=e[2],f=e[3]);let a;return e[4]!==s||e[5]!==n?(a=t.jsx(Pe.div,{className:n,initial:o,animate:d,transition:l,exit:f,children:s}),e[4]=s,e[5]=n,e[6]=a):a=e[6],a}function Ws(i){"use forget";const e=re.c(8),{isUserInfoReady:s,setShowLoadingScreen:n,userName:o}=i;let d,l;e[0]!==n?(d=()=>{const p=setTimeout(()=>{n(!1)},3900);return()=>clearTimeout(p)},l=[n],e[0]=n,e[1]=d,e[2]=l):(d=e[1],l=e[2]),x.useEffect(d,l);let f;e[3]!==s||e[4]!==o?(f=s&&t.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:t.jsxs(st,{children:[t.jsx(Pe.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},exit:{opacity:0,y:-10},children:o?t.jsx(z,Ge(q({},Y.niceToMeetYou),{values:{name:o}})):t.jsx(z,q({},Y.niceToMeetYouWithoutName))}),t.jsx(Pe.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.5},exit:{opacity:0,y:-10},children:t.jsx(z,q({},Y.hereIsAQuickTour))})]})}),e[3]=s,e[4]=o,e[5]=f):f=e[5];let a;return e[6]!==f?(a=t.jsx(Ae,{className:"max-sm:px-5 max-sm:py-4",children:f}),e[6]=f,e[7]=a):a=e[7],a}function Fs(i){"use forget";const e=re.c(23),{clientThreadId:s,isNewThread:n,endOnboarding:o}=i,d=He(),l=ht(),{eligible:f,isLoading:a,markAsViewed:p}=as(ls.Onboarding);let c,g;e[0]!==d||e[1]!==n||e[2]!==l?(c=()=>($e(d,"109457",{disableExposureLog:!0}).get("new_thread_after_onboarding",!1)&&!n&&et(l),()=>{St.set(d,!1)}),g=[d,n,l],e[0]=d,e[1]=n,e[2]=l,e[3]=c,e[4]=g):(c=e[3],g=e[4]),x.useEffect(c,g);let h,S;e[5]!==f||e[6]!==a||e[7]!==p?(h=()=>{f&&!a&&p()},S=[p,f,a],e[5]=f,e[6]=a,e[7]=p,e[8]=h,e[9]=S):(h=e[8],S=e[9]),x.useEffect(h,S);let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(rt,{className:"text-token-text-primary h-9 w-9 text-4xl"}),e[10]=m):m=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4 text-center max-sm:flex-1",children:[m,t.jsx("p",{className:"text-token-text-primary text-center text-3xl",children:t.jsx(z,q({},Y.allDone))})]}),e[11]=k):k=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"text-token-text-secondary relative mt-auto w-full text-center text-base",children:t.jsx(gs,{})}),e[12]=y):y=e[12];let j;e[13]!==o?(j=()=>{o(!0)},e[13]=o,e[14]=j):j=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(z,q({},Y.continue)),e[15]=b):b=e[15];let _;e[16]!==j?(_=t.jsx(ie,{size:"large",color:"primary",onClick:j,fullWidth:!0,children:b}),e[16]=j,e[17]=_):_=e[17];let v;e[18]!==s?(v=t.jsx("div",{className:"text-token-text-secondary relative mt-auto flex w-full items-center justify-center text-center text-sm",children:t.jsx(us,{clientThreadId:s,variant:"byContinuing"})}),e[18]=s,e[19]=v):v=e[19];let E;return e[20]!==_||e[21]!==v?(E=t.jsxs(Ae,{className:"flex flex-col items-center justify-between max-sm:h-full max-sm:w-full max-sm:py-4 sm:w-[320px] sm:justify-center sm:gap-y-12",children:[k,t.jsxs("div",{className:"flex flex-col gap-y-4 max-sm:w-full max-sm:px-6",children:[y,_,v]})]}),e[20]=_,e[21]=v,e[22]=E):E=e[22],E}function Us(i){"use forget";const e=re.c(11),{steps:s,stepIndex:n,toolProgress:o,isUserInfoReady:d,handleGoBack:l}=i;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f={minHeight:"var(--screen-thread-header-min-height,60px)"},e[0]=f):f=e[0];let a;e[1]!==d||e[2]!==s||e[3]!==o?(a=s&&s.length>0&&d&&t.jsx("div",{className:"absolute start-0 top-0 h-2 w-full",children:t.jsx(Pe.div,{className:"bg-token-bg-primary-inverse h-1.5",initial:{width:"0%",opacity:0},animate:{width:"".concat(o*100,"%"),opacity:1},transition:{duration:.3}})}),e[1]=d,e[2]=s,e[3]=o,e[4]=a):a=e[4];let p;e[5]!==l||e[6]!==n?(p=n>0?t.jsx(ie,{onClick:l,color:"ghost",className:"border-none",icon:Os}):t.jsx("div",{}),e[5]=l,e[6]=n,e[7]=p):p=e[7];let c;return e[8]!==a||e[9]!==p?(c=t.jsxs("div",{className:"absolute start-0 top-0 z-10 flex w-full items-center justify-between bg-none px-4",style:f,children:[a,p]}),e[8]=a,e[9]=p,e[10]=c):c=e[10],c}function Ds(i){"use forget";const e=re.c(18),{step:s,steps:n,stepIndex:o,wrapUp:d,gotoStep:l,isNextButtonDisabled:f}=i,a=it(),p=Tt(s,o,n.length,d,l);if((s==null?void 0:s.step_type)==="usage_question"||(s==null?void 0:s.step_type)==="self_description")return null;let c;e[0]!==a||e[1]!==s?(c=s&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl leading-9 font-medium",children:s.title?s.title:nt[s.step_type]?a.formatMessage(nt[s.step_type]):null}),t.jsx("p",{className:"text-token-text-secondary text-base leading-normal font-normal",children:s.subtitle?s.subtitle:ot[s.step_type]?a.formatMessage(ot[s.step_type]):null})]}),e[0]=a,e[1]=s,e[2]=c):c=e[2];let g;e[3]!==a?(g=a.formatMessage(ge.next),e[3]=a,e[4]=g):g=e[4];let h;e[5]!==f||e[6]!==g||e[7]!==p?(h=t.jsx(ie,{onClick:p,color:"primary",size:"large",className:"mt-4",disabled:f,children:g}),e[5]=f,e[6]=g,e[7]=p,e[8]=h):h=e[8];let S;e[9]!==a||e[10]!==o||e[11]!==n.length||e[12]!==d?(S=o!==n.length-1&&t.jsx(ie,{onClick:()=>d(),color:"ghost",children:a.formatMessage(Y.skipTour)}),e[9]=a,e[10]=o,e[11]=n.length,e[12]=d,e[13]=S):S=e[13];let m;return e[14]!==c||e[15]!==h||e[16]!==S?(m=t.jsx("div",{className:"from-bg-token-bg-primary via-bg-token-bg-primary absolute start-0 bottom-0 z-30 w-full bg-gradient-to-t to-transparent px-4 pb-8",children:t.jsxs("div",{className:"bg-token-bg-primary shadow-token-border-heavy flex w-full flex-col gap-y-2 rounded-3xl px-6 py-5 text-center shadow-[0px_10px_30px_0px]",children:[c,h,S]})}),e[14]=c,e[15]=h,e[16]=S,e[17]=m):m=e[17],m}function Rn({clientThreadId:i}){"use no forget";var ee;const e=He(),s=ht(),n=Bt(e,i),o=$e(e,"109457",{disableExposureLog:!0}),d=o.get("onboarding_skip_usage_question",!1),l=o.get("onboarding_unified_user_prompts",!1),{isOpen:f,closeModal:a,markAsViewed:p}=ns(),[c,g]=x.useState(0),[h,S]=x.useState(new Set(["usage_question"])),[m,k]=x.useState([]),[y,j]=x.useState(),[b,_]=x.useState(d),[v,E]=x.useState(!1),[C,P]=x.useState(d),[R,L]=x.useState(!1),[A,Q]=x.useState(null),[G,V]=x.useState(!1),[K,W]=x.useState(!1),[$,J]=x.useState(!1),[se,I]=x.useState(null),{steps:M,isLoading:F,isError:te}=As(!b,b?l?["justCurious"]:m:[],b?y:void 0),Z=x.useRef([]),ne=qt(),Te=os({clientThreadId:i}),[Me,We,he]=mt(i,r=>[Ze.hasUserMessage(r),Ze.getRequestId(r),!!r&&!r.isLoading]),ae=tt(()=>{var r;return((r=ps(n))==null?void 0:r.value)===es.STREAMING}),Ie=$t(We)||ae,le=$e(e,"109457",{disableExposureLog:!0}),Fe=$e(e,"109457",{disableExposureLog:!1}),Se=Ht(e).checkGate("2726713151")&&Fe.get("onboarding_enable_interest_picker",!1),Ue=le.get("onboarding_save_interest_profile",""),Le=le.get("onboarding_interest_picker_max_depth",2),De=le.get("skip_button_continues",!1),Oe=le.get("keep_onboarding_after_dismiss",!1),Qe=!tt(()=>ct());x.useEffect(()=>{f?(Ce(e,"chatgpt_onboarding_flow_shown"),O.logEvent("Onboarding Shown"),p()):pt.setOnboardingConvoState(null)},[e,f,p]),x.useEffect(()=>{te&&(p(),a(),O.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_getting_steps"}),O.logEvent("Onboarding Error",{error:te}))},[te,p,a]),x.useEffect(()=>{const r=M[c];F||!r||h.has(r.step_type)||(S(X=>new Set([...X,r.step_type])),r.step_prompt&&(pt.setOnboardingConvoState({onboardingConvoClientThreadId:i}),le.get("new_thread_for_each_prompt",!1)?(et(s),setTimeout(()=>{I(r)},500)):I(r)))},[c,F,h,M,i,le,s]);const ve=Ut("/c/:conversationId"),Ve=!!(ve!=null&&ve.params.conversationId),ke=mt(i,r=>!!r&&Ze.getIsNewConversation(r)&&!Ze.hasUserMessage(r)),xe=Ie&&!Ve,be=M.filter(r=>r.step_type==="usage_question"||r.step_type==="self_description");x.useEffect(()=>{if(!se||le.get("new_thread_for_each_prompt",!1)&&(!ke||!he))return;const r=se.step_metadata;se.step_type!=="dalle"&&le.get("use_dynamic_response",!1)&&r!=null&&r.onboarding&&(delete r.onboarding.system_hints,delete r.onboarding.hardcoded_response),Te({eventSource:"url",stepPrompt:se.step_prompt,messageMetadata:r,authorMetadata:{real_author:zt.Onboarding}}),I(null)},[se,Te,le,ke,he]);const w=M[c];x.useEffect(()=>{const r=w==null?void 0:w.step_type;(r==="usage_question"||r==="self_description")&&Me&&f&&(et(s),S(B=>new Set(Array.from(B).filter(X=>X==="usage_question"||X==="self_description"))))},[w==null?void 0:w.step_type,Me,f,s]),x.useEffect(()=>{w!=null&&w.step_type&&(Ce(e,"chatgpt_onboarding_step_shown",void 0,{step_type:w==null?void 0:w.step_type,step_index:c.toString()}),O.logEvent("Onboarding Step Shown",{step_type:w==null?void 0:w.step_type,step_index:c.toString()}))},[c,w==null?void 0:w.step_type,e]),x.useEffect(()=>{!C&&!F&&b&&g(r=>r+1)},[C,b,F]),x.useEffect(()=>{b&&Ue&&lt.safePost("/onboarding/interests/profile",{requestBody:{main_usages:m,interests:Z.current}})},[b,m,Ue]);const de=x.useCallback(()=>{E(!0)},[]),ue=x.useCallback(r=>{E(!1),c===M.length-1&&b?(Ce(e,"chatgpt_onboarding_flow_finished"),O.logEvent("Onboarding Finished")):(Ce(e,"chatgpt_onboarding_flow_dismissed",void 0,{step_type:w==null?void 0:w.step_type,step_index:c.toString()}),O.logEvent("Onboarding Dismissed",{step_type:w==null?void 0:w.step_type,step_index:c.toString()})),r&&!Oe&&p(),St.set(e,!0),a()},[e,c,M.length,b,w==null?void 0:w.step_type,Oe,p,a]);is(x.useCallback(({error:r})=>{r&&(O.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_stream"}),O.logEvent("Onboarding Error",{error:r}),ue(!0),et(s,{replace:!0}))},[ue,s]));const Ye=vt(),me=Qt(e),fe=me==null?void 0:me.isFree(),ce=(ne==null?void 0:ne.email_domain_type)==="social",je=ne?Vt(ne):!1,_e=x.useRef(!1);x.useEffect(()=>{if(!_e.current&&!(!fe||!(je||ce))){if(je){const r=at(e,"2534989725").get("variant","control");r==="A"?(V(!0),P(!1)):r==="B"&&(L(!0),P(!1))}else if(ce&&d&&at(e,"3141246771").get("variant","control")!=="control"){O.logEventWithStatsig("Onboarding Plus Recommendation","chatgpt_onboarding_plus_recommendation_triggered"),W(!0),P(!1),_(!1);return}_e.current=!0}},[e,fe,je,ce,$,d,ne]);const Ne=x.useCallback(r=>{k(r);const B=r.includes("work");let X=!1;fe&&ce&&B&&at(e,"3675952421").get("variant","control")!=="control"&&(X=!0),X?L(!0):Se?J(!0):M.find(oe=>oe.step_type==="self_description")||(P(!0),_(!0)),Ce(e,"chatgpt_onboarding_usage_question_selected",void 0,{main_usages:r.join(", ")}),O.logEvent("Onboarding Usage Question Selected",{main_usages:r.join(", ")})},[fe,ce,Se,e,M]),ye=x.useCallback(r=>{Z.current=r,M.find(B=>B.step_type==="self_description")||(P(!0),_(!0)),J(!1),O.logEventWithStatsig("Onboarding Interests Selected","chatgpt_onboarding_interests_selected",{selected_count:r.length})},[M]),Ee=r=>{j(r),_(!0),g(B=>B+1),Ce(e,"chatgpt_onboarding_self_description_entered",void 0,{main_usages:m.join(", ")}),O.logEvent("Onboarding Self Description Entered",{main_usages:m.join(", ")})},Be=()=>{Ce(e,"chatgpt_onboarding_go_back",void 0,{step_type:w==null?void 0:w.step_type,step_index:c.toString()}),O.logEvent("Onboarding Go Back",{step_type:w==null?void 0:w.step_type,step_index:c.toString()}),g(r=>r-1)},u=x.useCallback(()=>{De?Ne([]):de()},[Ne,De,de]),N=x.useCallback(r=>{Ce(e,"chatgpt_onboarding_flow_next_clicked",void 0,{source_step_type:w==null?void 0:w.step_type,source_step_index:c.toString()}),O.logEvent("Onboarding Next",{source_step_type:w==null?void 0:w.step_type,source_step_index:c.toString()}),g(r)},[e,w==null?void 0:w.step_type,c]),U=x.useCallback(async(r,B)=>{try{return(await lt.safePost("/onboarding/interests",{requestBody:{chain:[...r],main_usages:B},authOption:_t.SendIfAvailable})).items.filter(qe=>qe.label)}catch(X){return[]}},[]),{data:D,isLoading:T}=xt({queryKey:["interest-picker","top-level-interests",m.toSorted().join(",")],queryFn:()=>U([],m),enabled:Se}),H=x.useCallback(async r=>{if(r.length>=Le)return[];const X=((oe,qe)=>{if(!oe)return;let Re=oe,pe;for(const It of qe){if(pe=Re==null?void 0:Re.find(Lt=>Lt.label===It),!pe)return;Re=pe.children}return pe})(D,r);return X&&X.children&&X.children.length>0?X.children.map(oe=>oe):await U(r,m)},[U,m,Le,D]);return te?null:t.jsx(Yt,{fallback:()=>(ue(!0),O.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_modal"}),t.jsx(t.Fragment,{})),name:"NewUserOnboardingFlowModal",children:t.jsx(st,{children:t.jsx(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},exit:{opacity:0},className:"bg-token-bg-primary absolute inset-0 start-0 top-0 z-50 h-full w-full",children:t.jsx(yt,{conversation:n,children:t.jsxs("div",{className:"flex h-full max-h-full flex-col",children:[!v&&!F&&!C&&b&&(Qe?t.jsx(Ds,{step:w,steps:M,stepIndex:c,wrapUp:de,gotoStep:g,isNextButtonDisabled:xe}):t.jsx(Us,{steps:M,stepIndex:c,toolProgress:(c+1-be.length)/(M.length-be.length),isUserInfoReady:b,handleGoBack:Be})),t.jsx("div",{className:"flex min-h-0 flex-1 flex-col items-center justify-center overflow-hidden",children:t.jsx(st,{mode:"wait",children:v?t.jsx(Fs,{clientThreadId:i,isNewThread:ke,endOnboarding:ue},"wrapping-up"):b?F||C?t.jsx(Ws,{isUserInfoReady:b,setShowLoadingScreen:P,userName:(ee=ne==null?void 0:ne.first_name)!=null?ee:void 0},"loading"):(w==null?void 0:w.step_type)==="self_description"?t.jsx(Hs,{mainUsages:m,selfDescriptionProp:y,onEnterSelfDescription:Ee},"self-description"):["dalle","file_upload","canvas","voice","ask_any_question"].includes(w==null?void 0:w.step_type)?t.jsx(Ys,{step:w,gotoStep:N,stepIndex:c,totalSteps:M.length,wrapUp:de,conversation:n,isCompletionInProgress:Ie,isNextButtonDisabled:xe},"tools-onboarding"):null:K?t.jsx(qs,{onContinue:()=>{W(!1),L(!1),P(!0),_(!0)},onSkip:u},"plus-trial-step"):G?t.jsx($s,{teamFreeTrialPromo:Ye,onContinue:()=>{V(!1),L(!1),P(!0),_(!0)},onSkip:u},"team-trial-step"):R?t.jsx(Bs,{value:A,onChange:r=>{O.logEventWithStatsig("Onboarding Work Plan Question Selected","chatgpt_onboarding_team_work_question_selected",{option:r}),Q(r)},onContinue:()=>{A==="team"?V(!0):A==="self"&&W(!0)},onSkip:u},"work-plan-question"):$?t.jsx(js,{onContinue:ye,onSkip:()=>ye([]),fetchInterests:H,topLevelInterests:D!=null?D:[],isLoading:T},"interest-picker"):t.jsx(xs,{mainUsagesProp:m,onSelectMainUsages:Ne,onSkip:u},"usage-question")})})]})})})})})}const Bs=i=>{"use forget";const e=re.c(52),{value:s,onChange:n,onContinue:o,onSkip:d}=i,l=it();let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0],x.useEffect(Ks,f);let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx("div",{children:t.jsx("h1",{className:"text-token-text-primary mb-4 text-center text-3xl leading-9 font-medium",children:t.jsx(z,q({},Y.howPlanToUse))})}),e[1]=a):a=e[1];let p;e[2]!==n?(p=()=>n("self"),e[2]=n,e[3]=p):p=e[3];const c=s==="self"?"max-sm:bg-token-interactive-bg-secondary-selected bg-token-interactive-bg-secondary-selected":"max-sm:bg-token-interactive-bg-secondary-hover hover:bg-token-interactive-bg-secondary-hover";let g;e[4]!==c?(g=we("flex w-full cursor-pointer items-center gap-x-3 rounded-lg p-4 text-start",c),e[4]=c,e[5]=g):g=e[5];let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(Ls,{className:"icon"}),e[6]=h):h=e[6];let S;e[7]!==l?(S=l.formatMessage(Y.forMyself),e[7]=l,e[8]=S):S=e[8];let m;e[9]!==S?(m=t.jsx("span",{className:"flex-1 cursor-pointer",children:S}),e[9]=S,e[10]=m):m=e[10];let k;e[11]!==s?(k=s==="self"&&t.jsx(rt,{className:"text-token-text-primary"}),e[11]=s,e[12]=k):k=e[12];let y;e[13]!==p||e[14]!==g||e[15]!==m||e[16]!==k?(y=t.jsxs("button",{onClick:p,className:g,children:[h,m,k]}),e[13]=p,e[14]=g,e[15]=m,e[16]=k,e[17]=y):y=e[17];let j;e[18]!==n?(j=()=>n("team"),e[18]=n,e[19]=j):j=e[19];const b=s==="team"?"max-sm:bg-token-interactive-bg-secondary-selected bg-token-interactive-bg-secondary-selected":"max-sm:bg-token-interactive-bg-secondary-hover hover:bg-token-interactive-bg-secondary-hover";let _;e[20]!==b?(_=we("flex w-full cursor-pointer items-center gap-x-3 rounded-lg p-4 text-start",b),e[20]=b,e[21]=_):_=e[21];let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(Rs,{className:"icon"}),e[22]=v):v=e[22];let E;e[23]!==l?(E=l.formatMessage(Y.withATeam),e[23]=l,e[24]=E):E=e[24];let C;e[25]!==E?(C=t.jsx("span",{className:"flex-1 cursor-pointer",children:E}),e[25]=E,e[26]=C):C=e[26];let P;e[27]!==s?(P=s==="team"&&t.jsx(rt,{className:"text-token-text-primary"}),e[27]=s,e[28]=P):P=e[28];let R;e[29]!==j||e[30]!==_||e[31]!==C||e[32]!==P?(R=t.jsxs("button",{onClick:j,className:_,children:[v,C,P]}),e[29]=j,e[30]=_,e[31]=C,e[32]=P,e[33]=R):R=e[33];let L;e[34]!==y||e[35]!==R?(L=t.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[a,t.jsxs("div",{className:"flex min-h-0 flex-1 flex-col items-start justify-start gap-y-2 overflow-y-auto",children:[y,R]})]}),e[34]=y,e[35]=R,e[36]=L):L=e[36];const A=!s;let Q;e[37]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(z,q({},Y.continue)),e[37]=Q):Q=e[37];let G;e[38]!==o||e[39]!==A?(G=t.jsx(ie,{size:"large",color:"primary",onClick:o,disabled:A,className:"mt-10",fullWidth:!0,children:Q}),e[38]=o,e[39]=A,e[40]=G):G=e[40];let V;e[41]!==d?(V=()=>{O.logEventWithStatsig("Work Plan Question Skipped","chatgpt_onboarding_team_work_question_skipped"),d()},e[41]=d,e[42]=V):V=e[42];let K;e[43]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(z,q({},ge.skip)),e[43]=K):K=e[43];let W;e[44]!==V?(W=t.jsx(ie,{size:"large",color:"ghost",onClick:V,fullWidth:!0,children:K}),e[44]=V,e[45]=W):W=e[45];let $;e[46]!==G||e[47]!==W?($=t.jsxs("div",{className:"flex w-full flex-col gap-2 sm:gap-3",children:[G,W]}),e[46]=G,e[47]=W,e[48]=$):$=e[48];let J;return e[49]!==L||e[50]!==$?(J=t.jsxs(Ae,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5 sm:w-[320px]",children:[L,$]}),e[49]=L,e[50]=$,e[51]=J):J=e[51],J},qs=i=>{"use forget";const e=re.c(24),{onContinue:s,onSkip:n}=i,o=wt(),{country:d}=kt(),l=d!=null?d:jt;let f;e[0]!==o||e[1]!==l?(f={country:l,currentAccount:o,location:"NewUserOnboardingFlow",shouldUsePaidSubscriptionBillingCurrency:!1},e[0]=o,e[1]=l,e[2]=f):f=e[2];const a=Nt(f);let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=Et({shouldUseOnboardingFeatures:!0}),e[3]=p):p=e[3];const c=p;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=rs({isWebRedesign:!0}),e[4]=g):g=e[4];const h=g,S=Js;let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[5]=m):m=e[5],x.useEffect(Xs,m);const k=!a||!o;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:t.jsx(z,q({},Y.upgradeYourPlan))}),e[6]=y):y=e[6];let j;e[7]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("p",{className:"text-token-text-secondary mb-8 text-center text-base",children:t.jsx(z,q({},h.summary))}),e[7]=j):j=e[7];let b;e[8]!==a||e[9]!==o||e[10]!==k||e[11]!==s?(b=k?t.jsx(Mt,{}):t.jsxs(t.Fragment,{children:[t.jsx(Ct,{billingDetails:a,isWebRedesign:!0,cta:t.jsx(ie,{color:"secondary",size:"large",onClick:()=>{O.logEventWithStatsig("Free Plan Selected","chatgpt_onboarding_plus_trial_continue_clicked"),s()},className:we("w-[100%]"),children:t.jsx(z,q({},c.callToAction.active))}),shouldUseComparisonSpacing:!0,shouldUseOnboardingFeatures:!0,className:"h-full shadow-xl md:rounded-4xl!"}),t.jsx(bs,{analyticsParams:S(o),billingDetails:a,currentAccount:o,planLoading:null,plusPricingPlan:h,onClose:Zs,type:Pt.highlight,isWebRedesign:!0,shouldUseComparisonSpacing:!0,isUnifiedPricingPage:!0,className:"shadow-xl md:w-[468px]! md:rounded-4xl!",setShouldShowCheckoutLoadingOverlay:en})]}),e[8]=a,e[9]=o,e[10]=k,e[11]=s,e[12]=b):b=e[12];let _;e[13]!==k||e[14]!==b?(_=t.jsxs("div",{className:"flex w-full max-w-[980px] flex-col items-center",children:[y,j,t.jsx("div",{className:"flex w-full flex-col gap-8 md:flex-row md:items-start md:justify-center","aria-busy":k,children:b})]}),e[13]=k,e[14]=b,e[15]=_):_=e[15];let v;e[16]!==n?(v=()=>{O.logEventWithStatsig("Plus Trial Step Skipped","chatgpt_onboarding_plus_trial_step_skipped"),n()},e[16]=n,e[17]=v):v=e[17];let E;e[18]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(z,q({},ge.skip)),e[18]=E):E=e[18];let C;e[19]!==v?(C=t.jsx("div",{className:"mt-8 flex w-full justify-center",children:t.jsx(ie,{size:"large",color:"ghost",className:"max-w-[320px]",onClick:v,fullWidth:!0,children:E})}),e[19]=v,e[20]=C):C=e[20];let P;return e[21]!==C||e[22]!==_?(P=t.jsxs(Ae,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5",children:[_,C]}),e[21]=C,e[22]=_,e[23]=P):P=e[23],P},$s=i=>{"use forget";const e=re.c(43),{onContinue:s,teamFreeTrialPromo:n,onSkip:o}=i,d=He(),l=wt(),{country:f}=kt(),a=f!=null?f:jt;let p;e[0]!==l||e[1]!==a?(p={country:a,currentAccount:l,location:"NewUserOnboardingFlow",shouldUsePaidSubscriptionBillingCurrency:!1},e[0]=l,e[1]=a,e[2]=p):p=e[2];const c=Nt(p),{eligible:g,campaignId:h}=vt();let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=Et({shouldUseOnboardingFeatures:!0}),e[3]=S):S=e[3];const m=S;let k;e[4]!==g?(k=cs({shouldUseOnboardingFeatures:!0,isTrialEnabled:g}),e[4]=g,e[5]=k):k=e[5];const y=k;let j;e[6]===Symbol.for("react.memo_cache_sentinel")?(j={data:{workspaceName:""}},e[6]=j):j=e[6];const b=ts(j);let _;e[7]!==d?(_=fs(),e[7]=d,e[8]=_):_=e[8];const v=_,[E,C]=x.useState(!1),P=l==null?void 0:l.subscriptionAnalyticsParams;let R;e[9]!==P?(R=Ge(q({},P),{referrer:document.referrer,parentComponent:"NewUserOnboardingFlow"}),e[9]=P,e[10]=R):R=e[10];const L=R;let A,Q;e[11]!==g?(Q=()=>{O.logEventWithStatsig("Team Trial Step Shown","chatgpt_onboarding_team_trial_step_shown",{is_eligible_for_team_trial:g})},A=[g],e[11]=g,e[12]=A,e[13]=Q):(A=e[12],Q=e[13]),x.useEffect(Q,A);const G=!c||!l,V=n.eligible?Y.tryBusinessFor30Days:Y.upgradeYourPlan;let K;e[14]!==V?(K=t.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:t.jsx(z,q({},V))}),e[14]=V,e[15]=K):K=e[15];let W;e[16]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("p",{className:"text-token-text-secondary mb-8 text-center text-base",children:t.jsx(z,q({},Y.chatgptUpgradedForBusiness))}),e[16]=W):W=e[16];let $;e[17]!==L||e[18]!==c||e[19]!==l||e[20]!==v||e[21]!==b||e[22]!==E||e[23]!==G||e[24]!==g||e[25]!==s||e[26]!==y||e[27]!==h?($=G?t.jsx(Mt,{}):t.jsxs(t.Fragment,{children:[t.jsx(Ct,{billingDetails:c,isWebRedesign:!0,cta:t.jsx(ie,{color:"secondary",size:"large",onClick:()=>{O.logEventWithStatsig("Free Plan Selected","chatgpt_onboarding_team_trial_continue_clicked",{isTeamFreeTrialPromoEligible:g}),s()},className:we("w-[100%]"),children:t.jsx(z,q({},m.callToAction.active))}),shouldUseComparisonSpacing:!0,shouldUseOnboardingFeatures:!0,className:"h-full shadow-xl md:rounded-4xl!"}),t.jsx(_s,{analyticsParams:L,billingDetails:c,currentAccount:l,planLoading:null,isWebRedesign:!0,type:Pt.highlight,shouldUseComparisonSpacing:!0,shouldUseOnboardingFeatures:!0,className:"shadow-xl md:w-[468px]! md:rounded-4xl!",cta:t.jsx(ys,{className:"w-full",planType:Gt.SELF_SERVE_BUSINESS,activeColor:"purple",loading:E,onClick:()=>{O.logEventWithStatsig("Team Trial Selected","chatgpt_onboarding_team_trial_upgrade_clicked",{isTeamFreeTrialPromoEligible:g}),C(!0),b({priceInterval:ds.FLEXIBLE,billingDetails:c,promoData:g?{coupon:h,state:"eligible",redemption:null}:void 0,numSeats:g?5:v})},testId:"select-plan-button-teams-create",children:t.jsx(z,q({},y.callToAction.inactive))})})]}),e[17]=L,e[18]=c,e[19]=l,e[20]=v,e[21]=b,e[22]=E,e[23]=G,e[24]=g,e[25]=s,e[26]=y,e[27]=h,e[28]=$):$=e[28];let J;e[29]!==G||e[30]!==$?(J=t.jsx("div",{className:"flex w-full flex-col gap-8 md:flex-row md:items-start md:justify-center","aria-busy":G,children:$}),e[29]=G,e[30]=$,e[31]=J):J=e[31];let se;e[32]!==K||e[33]!==J?(se=t.jsxs("div",{className:"flex w-full max-w-[980px] flex-col items-center",children:[K,W,J]}),e[32]=K,e[33]=J,e[34]=se):se=e[34];let I;e[35]!==o?(I=()=>{O.logEventWithStatsig("Team Trial Step Skipped","chatgpt_onboarding_team_trial_step_skipped"),o()},e[35]=o,e[36]=I):I=e[36];let M;e[37]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(z,q({},ge.skip)),e[37]=M):M=e[37];let F;e[38]!==I?(F=t.jsx("div",{className:"mt-8 flex w-full justify-center",children:t.jsx(ie,{size:"large",color:"ghost",className:"max-w-[320px]",onClick:I,fullWidth:!0,children:M})}),e[38]=I,e[39]=F):F=e[39];let te;return e[40]!==se||e[41]!==F?(te=t.jsxs(Ae,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5",children:[se,F]}),e[40]=se,e[41]=F,e[42]=te):te=e[42],te};function Hs(i){"use forget";const e=re.c(26),{mainUsages:s,selfDescriptionProp:n,onEnterSelfDescription:o}=i,d=He(),[l,f]=x.useState(n),a=it(),p=!tt(Vs);let c;s.includes("school")?c=Y.exampleSchoolSelfDescription:s.includes("work")?c=Y.exampleWorkSelfDescription:s.includes("funAndEntertainment")?c=Y.exampleFunAndEntertainmentSelfDescription:c=Y.examplePersonalTasksSelfDescription;const g=c;let h;e[0]!==d?(h=$e(d,"109457",{disableExposureLog:!0}).get("write_custom_instructions_in_onboarding",!1),e[0]=d,e[1]=h):h=e[1];const S=h;let m;e[2]!==o||e[3]!==l||e[4]!==S?(m=()=>{o(l),S&&l&&Jt({aboutUserMessage:l,aboutModelMessage:"",disabledTools:[],enabled:!0}).catch(Qs)},e[2]=o,e[3]=l,e[4]=S,e[5]=m):m=e[5];const k=m;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("h1",{className:"text-token-text-primary mb-4 text-3xl leading-9 font-medium",children:t.jsx(z,q({},Y.anythingElseYouWantMeToKnow))}),e[6]=y):y=e[6];const j=S?Y.selfDescriptionReasonSaveToCustomInstructions:Y.selfDescriptionReason;let b;e[7]===Symbol.for("react.memo_cache_sentinel")?(b={customInstructions:zs},e[7]=b):b=e[7];let _;e[8]!==j?(_=t.jsxs("div",{children:[y,t.jsx("p",{className:"text-token-text-secondary text-base",children:t.jsx(z,Ge(q({},j),{values:b}))})]}),e[8]=j,e[9]=_):_=e[9];let v;e[10]!==a||e[11]!==g?(v=a.formatMessage(g),e[10]=a,e[11]=g,e[12]=v):v=e[12];let E;e[13]===Symbol.for("react.memo_cache_sentinel")?(E=Q=>f(Q.target.value),e[13]=E):E=e[13];let C;e[14]!==l||e[15]!==v?(C=t.jsx(ms,{className:"!dark:bg-white/5 border-token-border-default placeholder-token-text-tertiary mt-10 rounded-sm border bg-black/5! p-5 text-base!",placeholder:v,rows:4,value:l,onChange:E,autoFocus:!0}),e[14]=l,e[15]=v,e[16]=C):C=e[16];const P=p?"large":"medium";let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(z,q({},ge.next)),e[17]=R):R=e[17];let L;e[18]!==k||e[19]!==p||e[20]!==P?(L=t.jsx(ie,{size:P,color:"primary",onClick:k,className:"mt-10",fullWidth:p,children:R}),e[18]=k,e[19]=p,e[20]=P,e[21]=L):L=e[21];let A;return e[22]!==C||e[23]!==L||e[24]!==_?(A=t.jsxs(Ae,{className:"flex w-[640px] flex-col items-start max-sm:w-full max-sm:overflow-y-auto max-sm:px-5 max-sm:py-4",children:[_,C,L]}),e[22]=C,e[23]=L,e[24]=_,e[25]=A):A=e[25],A}function zs(i){return t.jsx("a",{href:Ss,className:"underline",target:"_blank",rel:"noreferrer",children:i})}function Qs(){}function Vs(){return ct()}function Tt(i,e,s,n,o){"use forget";const d=re.c(7),l=Kt();let f;return d[0]!==l||d[1]!==o||d[2]!==(i==null?void 0:i.step_type)||d[3]!==e||d[4]!==s||d[5]!==n?(f=()=>{e<s-1?((i==null?void 0:i.step_type)==="file_upload"&&Xt.reset(l),o(e+1)):n()},d[0]=l,d[1]=o,d[2]=i==null?void 0:i.step_type,d[3]=e,d[4]=s,d[5]=n,d[6]=f):f=d[6],f}function Ys(i){"use forget";var J,se;const e=re.c(35),{step:s,gotoStep:n,stepIndex:o,totalSteps:d,wrapUp:l,conversation:f,isCompletionInProgress:a,isNextButtonDisabled:p}=i,c=He();let g;e[0]!==c?(g=$e(c,"109457",{disableExposureLog:!0}).get("onboarding_auto_scroll",!1),e[0]=c,e[1]=g):g=e[1];const h=g,S=x.useRef(null),m=x.useRef(!1),k=it(),y=!tt(Gs),j=Tt(s,o,d,l,n),b=!!((se=(J=s==null?void 0:s.step_metadata)==null?void 0:J.onboarding)!=null&&se.hardcoded_response),_=(s==null?void 0:s.step_type)==="dalle";let v,E;e[2]!==h?(v=()=>{if(!h)return;const I=S.current;if(!I)return;const M=function(){m.current=!0},F=function(){m.current=!0},te=function(ne){[" ","PageUp","PageDown","End","Home","ArrowUp","ArrowDown"].includes(ne.key)&&(m.current=!0)};return I.addEventListener("wheel",M,{passive:!0}),I.addEventListener("touchmove",F,{passive:!0}),I.addEventListener("keydown",te),()=>{I.removeEventListener("wheel",M),I.removeEventListener("touchmove",F),I.removeEventListener("keydown",te)}},E=[h],e[2]=h,e[3]=v,e[4]=E):(v=e[3],E=e[4]),x.useEffect(v,E);let C,P;e[5]!==h||e[6]!==a||e[7]!==b?(C=()=>{if(b||!h)return;let I=null;const M=function(){const Z=S.current;Z&&Z.scrollTo({top:Z.scrollHeight})};function F(){m.current||(M(),a&&(I=requestAnimationFrame(F)))}return a?(m.current=!1,I=requestAnimationFrame(F)):M(),()=>{I&&cancelAnimationFrame(I)}},P=[a,b,h],e[5]=h,e[6]=a,e[7]=b,e[8]=C,e[9]=P):(C=e[8],P=e[9]),x.useEffect(C,P);const R=x.useRef(a);let L,A;e[10]!==a||e[11]!==_||e[12]!==y?(L=()=>{if(!y)return;const I=R.current;if(R.current=a,I&&!a&&_&&S.current){const M=S.current.querySelectorAll("#thread article"),F=M[M.length-1];F&&F.scrollIntoView({behavior:"smooth"})}},A=[a,_,y],e[10]=a,e[11]=_,e[12]=y,e[13]=L,e[14]=A):(L=e[13],A=e[14]),x.useEffect(L,A);let Q;e[15]!==j||e[16]!==k||e[17]!==p||e[18]!==y||e[19]!==s||e[20]!==o||e[21]!==l?(Q=!y&&t.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:t.jsxs(Pe.div,{className:"flex w-[90%] flex-1 flex-col items-center justify-center gap-2 text-center sm:w-[320px]",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs(st,{mode:"wait",children:[t.jsx(Pe.h1,{className:"text-token-text-primary mb-2 text-3xl font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:s.title?s.title:nt[s.step_type]?k.formatMessage(nt[s.step_type]):null},"title-".concat(o)),t.jsx(Pe.p,{className:"text-token-text-secondary mb-6 text-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:s.subtitle?s.subtitle:ot[s.step_type]?k.formatMessage(ot[s.step_type]):null},"subtitle-".concat(o))]}),t.jsxs("div",{className:"flex w-full flex-col gap-3",children:[t.jsx(ie,{size:"large",color:"primary",onClick:j,fullWidth:!0,disabled:p,children:t.jsx(z,q({},ge.next))}),t.jsx(ie,{onClick:()=>l(!0),color:"ghost",size:"large",className:"max-sm:hidden",children:k.formatMessage(Y.skipTour)})]})]})}),e[15]=j,e[16]=k,e[17]=p,e[18]=y,e[19]=s,e[20]=o,e[21]=l,e[22]=Q):Q=e[22];let G;e[23]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(t.Fragment,{}),e[23]=G):G=e[23];let V;e[24]!==f?(V=t.jsx("div",{className:"pointer-events-none min-h-full w-full",children:t.jsx(ws,{hideHeader:!0,hideDisclaimer:!0,conversation:f,renderEmptyState:G})}),e[24]=f,e[25]=V):V=e[25];let K;e[26]!==f||e[27]!==V?(K=t.jsx(Zt,{conversation:f,children:V}),e[26]=f,e[27]=V,e[28]=K):K=e[28];let W;e[29]!==f||e[30]!==K?(W=t.jsx("div",{className:"relative flex h-full flex-1 flex-col sm:min-w-[360px] sm:pt-20 sm:pb-20",children:t.jsx("div",{ref:S,className:"bg-token-bg-primary shadow-token-border-default h-full w-full overflow-auto shadow-[0_0_50px] max-sm:pb-40 sm:rounded-[30px]",children:t.jsx(yt,{conversation:f,ignoreParentComposerController:!0,children:K})})}),e[29]=f,e[30]=K,e[31]=W):W=e[31];let $;return e[32]!==W||e[33]!==Q?($=t.jsxs(Ae,{className:"flex h-full w-full flex-row self-center sm:px-8 md:px-12 lg:px-16 xl:px-24",children:[Q,W]}),e[32]=W,e[33]=Q,e[34]=$):$=e[34],$}function Gs(){return ct()}const Y=Dt({close:{defaultMessage:"Close",id:"chatgpt.new-onboarding.close"},done:{defaultMessage:"Done",id:"chatgpt.new-onboarding.done"},submit:{defaultMessage:"Submit",id:"chatgpt.new-onboarding.submit"},finish:{defaultMessage:"Finish",id:"chatgpt.new-onboarding.finish"},tellMeWhyHere:{defaultMessage:"Tell me about why you’re here.",id:"chatgpt.new-onboarding.tell-me-why-here"},preparingOnboardingExperience:{defaultMessage:"Preparing your onboarding experience...",id:"chatgpt.new-onboarding.preparing-onboarding-experience"},niceToMeetYouQuickTourWithName:{defaultMessage:"Nice to meet you, {name}.<nextLine></nextLine>Here’s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour-with-name"},niceToMeetYouQuickTour:{defaultMessage:"Nice to meet you.<nextLine></nextLine>Here’s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour"},niceToMeetYou:{defaultMessage:"Nice to meet you, {name}.",id:"chatgpt.new-onboarding.nice-to-meet-you"},niceToMeetYouWithoutName:{defaultMessage:"Nice to meet you.",id:"chatgpt.new-onboarding.nice-to-meet-you-without-name"},hereIsAQuickTour:{defaultMessage:"Here’s a quick tour...",id:"chatgpt.new-onboarding.heres-quick-tour"},allDone:{defaultMessage:"You're all set",id:"chatgpt.new-onboarding.all-done-2"},oneLastQuestion:{defaultMessage:"One last question:",id:"chatgpt.new-onboarding.one-last-question-2"},anythingElseYouWantMeToKnow:{defaultMessage:"Is there anything else you’d like me to know?",id:"chatgpt.new-onboarding.anything-else-you-want-me-to-know-2"},oneQuestionAnythingElse:{defaultMessage:"One last question: Is there anything else you’d like me to know?",id:"chatgpt.new-onboarding.one-more-question"},selfDescriptionReason:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant.",id:"chatgpt.new-onboarding.self-description-reason"},allSetLetMeShowYouAroundWithoutName:{defaultMessage:"All set!<nextLine></nextLine>Now, let me show you around...",id:"chatgpt.new-onboarding.all-set-let-me-show-you-around-without-name"},selfDescriptionReasonSaveToCustomInstructions:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant. I’ll save this information as <customInstructions>Custom Instructions</customInstructions>, which you can update any time.",id:"chatgpt.new-onboarding.self-description-reason-save-to-custom-instructions"},exampleSchoolSelfDescription:{defaultMessage:"I'm a college student studying computer science, and I love to play the guitar.",id:"chatgpt.new-onboarding.example-school-self-description"},exampleWorkSelfDescription:{defaultMessage:"I'm a graphic designer based in Berlin, and I enjoy painting and attending art exhibitions.",id:"chatgpt.new-onboarding.example-work-self-description"},examplePersonalTasksSelfDescription:{defaultMessage:"I live in Sydney and love cooking new recipes and planning travel itineraries.",id:"chatgpt.new-onboarding.example-personal-tasks-self-description"},exampleFunAndEntertainmentSelfDescription:{defaultMessage:"I'm a music enthusiast based in Nashville, and I can talk for hours about guitar techniques and songwriting.",id:"chatgpt.new-onboarding.example-fun-and-entertainment-self-description"},tryChatGPT:{defaultMessage:"Try ChatGPT",id:"chatgpt.new-onboarding.try-chatgpt"},howPlanToUse:{defaultMessage:"How do you plan to use ChatGPT?",id:"chatgpt.new-onboarding.how-plan-to-use"},forMyself:{defaultMessage:"For myself",id:"chatgpt.new-onboarding.for-myself"},withATeam:{defaultMessage:"With a team",id:"chatgpt.new-onboarding.with-a-team"},upgradeYourPlan:{defaultMessage:"Upgrade your plan",id:"chatgpt.new-onboarding.upgrade-your-plan"},tryBusinessFor30Days:{defaultMessage:"Try Business for 30 days",id:"chatgpt.new-onboarding.try-chatgpt-30-days"},chatgptUpgradedForBusiness:{defaultMessage:"ChatGPT, upgraded for business",id:"chatgpt.new-onboarding.upgraded-for-business"},skipTour:{defaultMessage:"Skip Tour",id:"chatgpt.new-onboarding.skip-tour"},gotIt:{defaultMessage:"Got it",id:"chatgpt.new-onboarding.got-it"},continue:{defaultMessage:"Continue",id:"chatgpt.new-onboarding.continue"}}),nt={usage_question:Y.tellMeWhyHere},ot={usage_question:ge.suggestUsefulIdeas},Mt=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-full w-full md:w-[468px]!",children:t.jsx("div",{className:"bg-token-bg-tertiary h-[540px] w-full animate-pulse rounded-3xl"})}),t.jsx("div",{className:"w-full md:w-[468px]!",children:t.jsx("div",{className:"bg-token-bg-tertiary h-[540px] w-full animate-pulse rounded-3xl"})})]});function Ks(){O.logEventWithStatsig("Work Plan Question Shown","chatgpt_onboarding_team_work_question_shown")}function Js(i){return Ge(q({},i.subscriptionAnalyticsParams),{referrer:document.referrer,parentComponent:"NewUserOnboardingFlow"})}function Xs(){O.logEventWithStatsig("Plus Trial Step Shown","chatgpt_onboarding_plus_trial_step_shown")}function Zs(){}function en(){}export{Ws as LoadingState,Ys as ToolsOnboarding,Rn as default,As as useOnboardingSteps};
//# sourceMappingURL=kfcoh0i7m25vjqw6.js.map
