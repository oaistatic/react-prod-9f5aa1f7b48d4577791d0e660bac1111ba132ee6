const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/j0yo6uv6652vva62.js","assets/i8clt0mfz495j7ii.js","assets/ghewn7l2ynbm32fm.js","assets/root-c4psboex.css","assets/conversation-small-lq38g8zw.css","assets/oz2w8uv2a0ics46w.js","assets/iqoo5whnx14dvo9x.js","assets/hkdu34erhu96s165.js","assets/n4tew1fjlr8lryav.js","assets/jkh8xq0ua1wxarx7.js","assets/mvzgfqimm10c64ej.js","assets/fqz8sozslskhjbvs.js","assets/fdkwc23ton7ihjd6.js","assets/ewkru1hsxkjpuxt5.js","assets/m7ju152dn5ab1rui.js"])))=>i.map(i=>d[i]);
var lt=Object.defineProperty,ct=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var Le=(t,e,a)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Y=(t,e)=>{for(var a in e||(e={}))mt.call(e,a)&&Le(t,a,e[a]);if(Oe)for(var a of Oe(e))ut.call(e,a)&&Le(t,a,e[a]);return t},ee=(t,e)=>ct(t,dt(e));import{j as s,_ as V,e as Q,r as I,M,c as $,u as Ge,a as ft,h as _e,k as je,R as ne,L as xt,d as he,ai as ie}from"./i8clt0mfz495j7ii.js";import{B as ht}from"./fgm9uzc3b50cz4e0.js";import{o as H,L as G,e as me,sd as pt,hr as ce,oz as ye,aU as de,d as ae,T as Ue,$ as q,b0 as oe,u as X,h as J,aS as gt,ba as wt,aV as le,eo as bt,e4 as pe,aW as vt,hK as $e,ky as ze,C as qe,kh as _t,f4 as jt,dj as yt,i8 as kt,z as Ct,fn as Nt,f5 as St,c5 as Et,jq as Mt,iX as se,ja as We,dv as Rt,rC as Tt,rI as Pt,f7 as At,iZ as It,pT as Ot,rB as ke}from"./ghewn7l2ynbm32fm.js";import{b as Lt}from"./fb2095ktsebx1zzy.js";import{u as Wt,W as Ce}from"./ozgq3nk5vhninx80.js";import{C as te,u as Dt}from"./d8gh7lgzgtiir54z.js";import{R as Ft}from"./nk6xtjk2adhp9qrw.js";import{W as Bt}from"./ky1286q3ol03v4z1.js";import{b as Vt,a as Ht,c as Gt,E as Ut,h as Ne}from"./kzwmj5bk0a8ido2q.js";import{W as Ke,a as De}from"./gzhyo73bmtx9f3d9.js";import{$ as $t,a0 as Qe,a1 as zt,l as F,W as Xe,u as ue,B as qt,P as Kt,b as Qt,y as Je,k as Xt,n as Jt,E as Yt,j as Zt,a2 as es}from"./g5lgy1otfli5p2x7.js";import{T as ts}from"./fr2n5yqcoayleu1k.js";import{vn as ss,vo as Ye,vp as as,vq as Ze,ih as et,vr as tt,tk as ns,L as ge,vs as os,tm as rs}from"./j0yo6uv6652vva62.js";import{I as is}from"./nzsqhqpna1ee8hwf.js";import{u as st}from"./k0yjsblyrvonk8x1.js";import{u as Se}from"./exi6zdummgr6bhr0.js";import{g as at,a as ls,W as fe}from"./hfx63ilakvlo6bm4.js";import{u as cs,a as ds}from"./kies0pum9k231dhu.js";import{W as be,i as ms}from"./i94vqq9eycryltby.js";import{U as us}from"./bh6goa3ciig8ylh2.js";import{useSetupBaseWhamKeyboardActions as fs}from"./hem935dboxz5ici0.js";import{g as xs}from"./pn83wqr6w775mq4b.js";import{h as nt}from"./6v0419d4xd3dzgv7.js";import{u as hs,A as ps,a as gs,N as ws,b as bs}from"./oivsnq7jwiwk2uhr.js";import{F as Fe}from"./hp8el4cmh5hx2ts0.js";import{b as vs}from"./lptwpbjabrvjmhsj.js";import{a as _s,u as js,T as ys,g as ks}from"./n3wn9a337n2r8lrh.js";import{u as Cs}from"./eh21clr7cewe9q6y.js";import{u as Ns}from"./kmbpv6g63y0ugt37.js";import{u as Ss}from"./gutjuo0v1j4y19t1.js";import{u as Es}from"./bzqztn8malpuegtc.js";function ot({disabled:t,children:e}){return t?s.jsx("div",{className:"pointer-events-none opacity-50 select-none","aria-hidden":"true",tabIndex:-1,inert:!0,children:e}):e}const Ms=H(()=>V(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yq),__vite__mapDeps([0,1,2,3,4])),{loading:t=>G(t)}),Rs=H(()=>V(()=>import("./oz2w8uv2a0ics46w.js").then(t=>t._),__vite__mapDeps([5,1])),{loading:t=>G(t)});function Ts({isGitHubConnected:t=!1,onClickCreateEnvironment:e}){const a=Q(),d=me(),x=!1;te.Complete;const c=x,l=x,{enabled:n,isLoading:i}=pt(ce.CODEX),r=I.useCallback(()=>{d.danger(a.formatMessage({id:"+vfzDI",defaultMessage:"Error fetching connector, please ensure GitHub is enabled for your account"}))},[a,d]),o=r,{isConnected:h,isLoading:m,openGithubModal:p,error:u,refetch:w}=ye(de.GITHUB_CONNECTOR,"github","/codex",ce.CODEX,r,o),g=s.jsx(Ft,{refetchConnectorData:w}),y=s.jsx(q,{color:"primary",size:"medium",icon:Rs,loading:m||i,onClick:()=>{!n||h||p()},disabled:!n||h,className:"px-3",children:s.jsx(M,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})}),_=s.jsx(q,{color:"secondary",size:"medium",icon:Ms,onClick:()=>e==null?void 0:e(),className:"px-3",children:s.jsx(M,{id:"wham.createEnvironment.cta",defaultMessage:"Create environment"})}),b=t||l,f=b?_:u?g:y;return s.jsx("div",{className:ae("bg-token-bg-tertiary","rounded-2xl","w-full","min-h-[220px]","flex items-center justify-center","pointer-events-auto","border-token-border-light","border"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2 p-8",children:[b||u||n||c?f:s.jsx(Ue,{label:a.formatMessage({id:"wham.codexOnboardingConnections.githubDisabledByAdmin",defaultMessage:"Disabled by workspace admin"}),children:s.jsx("div",{children:f})}),!b&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(M,{id:"wham.whamComposer.connectGithubSubtitle",defaultMessage:"Connect a repository to create a task"})})]})})}function Ps(){var c;const{data:t,isLoading:e}=$t(),a=(c=t==null?void 0:t.items)!=null?c:[],[d,x]=I.useState(null);return e&&a.length===0?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(oe,{})}):s.jsx("div",{className:"flex flex-col justify-center",children:a.map((l,n)=>{var i;return s.jsx(Ke,{index:n,taskListItem:l,hoveredIndex:d,onMouseEnter:()=>x(n),onMouseLeave:()=>x(null),linkPath:"/s/".concat(l.share_task_id),showArchiveButton:!1,currentFilter:"current"},(i=l.id)!=null?i:"".concat(n))})})}function Ee(){"use forget";const t=$.c(56),e=X(),a=Q(),{homeTab:d,setHomeTab:x}=Qe();let c;t[0]!==e?(c=zt(e),t[0]=e,t[1]=c):c=t[1];const l=c,n=F(Is),i=F(As),{eligible:r,isLoading:o,markAsViewed:h}=ss(),m=l&&!o&&r;let p;t[2]!==r||t[3]!==o||t[4]!==h||t[5]!==x||t[6]!==i?(p=z=>{x(z),z==="code_reviews"&&!o&&r&&h(),z==="all"&&i(!1)},t[2]=r,t[3]=o,t[4]=h,t[5]=x,t[6]=i,t[7]=p):p=t[7];const u=p;let w,g;t[8]!==d||t[9]!==r||t[10]!==o||t[11]!==h?(w=()=>{d==="code_reviews"&&!o&&r&&h()},g=[d,r,o,h],t[8]=d,t[9]=r,t[10]=o,t[11]=h,t[12]=w,t[13]=g):(w=t[12],g=t[13]),I.useEffect(w,g);let y,_;t[14]!==d||t[15]!==i?(y=()=>{d==="all"&&i(!1)},_=[d,i],t[14]=d,t[15]=i,t[16]=y,t[17]=_):(y=t[16],_=t[17]),I.useEffect(y,_);let b;t[18]!==a?(b=a.formatMessage({id:"wham.whamTasksHeader.tasks",defaultMessage:"Tasks"}),t[18]=a,t[19]=b):b=t[19];const f=b;let C;t[20]!==n?(C=n?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[20]=n,t[21]=C):C=t[21];let E;t[22]!==C||t[23]!==f?(E=s.jsxs("span",{className:"relative inline-flex items-center",children:[f,C]}),t[22]=C,t[23]=f,t[24]=E):E=t[24];const v=E;let k;t[25]!==a?(k=a.formatMessage({id:"wham.whamTasksHeader.codeReviews",defaultMessage:"Code reviews"}),t[25]=a,t[26]=k):k=t[26];const N=k;let S;t[27]!==m?(S=m?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[27]=m,t[28]=S):S=t[28];let j;t[29]!==N||t[30]!==S?(j=s.jsxs("span",{className:"relative inline-flex items-center",children:[N,S]}),t[29]=N,t[30]=S,t[31]=j):j=t[31];const R=j;let T;t[32]!==a?(T=a.formatMessage({id:"wham.whamTasksHeader.tasksAriaLabel",defaultMessage:"Tab selector to view active tasks"}),t[32]=a,t[33]=T):T=t[33];let A;t[34]!==T||t[35]!==v?(A={label:v,ariaLabel:T,key:"all"},t[34]=T,t[35]=v,t[36]=A):A=t[36];let D;t[37]!==l||t[38]!==R||t[39]!==a?(D=l?[{label:R,ariaLabel:a.formatMessage({id:"wham.whamTasksHeader.codeReviewsAriaLabel",defaultMessage:"Tab selector to view code reviews"}),key:"code_reviews"}]:[],t[37]=l,t[38]=R,t[39]=a,t[40]=D):D=t[40];let O;t[41]!==a?(O=a.formatMessage({id:"wham.whamTasksHeader.archived",defaultMessage:"Archive"}),t[41]=a,t[42]=O):O=t[42];let P;t[43]!==a?(P=a.formatMessage({id:"wham.whamTasksHeader.archivedAriaLabel",defaultMessage:"Tab selector to view archived tasks"}),t[43]=a,t[44]=P):P=t[44];let W;t[45]!==O||t[46]!==P?(W={label:O,ariaLabel:P,key:"archived"},t[45]=O,t[46]=P,t[47]=W):W=t[47];let L;t[48]!==A||t[49]!==D||t[50]!==W?(L=[A,...D,W],t[48]=A,t[49]=D,t[50]=W,t[51]=L):L=t[51];const U=L;let B;return t[52]!==u||t[53]!==d||t[54]!==U?(B=s.jsx("div",{className:"border-token-border-primary mt-4 flex w-full flex-wrap items-center justify-between gap-3 border-b align-middle md:mt-6",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ts,{currentTab:d,onChange:u,withUnderline:!0,skipTabUnderlineAnimation:!0,tabs:U})})}),t[52]=u,t[53]=d,t[54]=U,t[55]=B):B=t[55],B}function As(t){return t.setShouldHighlightTasksTab}function Is(t){return t.shouldHighlightTasksTab}function Os(){const t=Q(),e=me(),a=F(g=>g.environmentId),d=F(g=>g.branch),[x,c]=I.useState(null),l=Ge(),{isCreatingEnvironment:n,ensureEnvironment:i,hasRepository:r}=Wt(),o=!!(a&&d),h=!o&&!r,m=!o&&!r,p=[{id:"ask-0",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.0",defaultMessage:"Explain the codebase to a newcomer. What is the general structure, what are the important things to know, and what are some pointers for things to learn next?"})},{id:"build-1",type:"build",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.build.prompt.1",defaultMessage:"Pick a part of the codebase that seems important and find and fix a bug."})},{id:"ask-2",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.2",defaultMessage:"Go through the codebase, find issues and propose one task to fix a typo, one task to fix a bug, one task to fix a code comment or documentation discrepancy, and one task to improve a test."})}],{mutate:u}=ft({mutationFn:async({prompt:g,id:y})=>{const{environmentId:_,branch:b}=F.getState();if(!_||!b)throw e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"})),new Error("Environment, content, and branch are required");const f=crypto.randomUUID();return F.getState().addPendingTaskId(f),c(y),await Xe.createNewTask(_,b,g,!1).catch(E=>{throw F.getState().removePendingTaskId(f),e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"}),{id:f,duration:5,hasCloseButton:!0}),E}).then(E=>(F.getState().assignPendingTaskToFinalTask(f,E.task.id),E))},onSuccess:()=>{l.refetchQueries({queryKey:["wham","tasks"]}),l.refetchQueries({queryKey:["wham","usage","rate-limit-status"]})},onSettled:()=>{c(null)}}),w=async g=>{if(!o){if(!r){e.danger(t.formatMessage({id:"wham.startFirstTask.selectRepository",defaultMessage:"Select a repository before starting a task"}));return}c(g.id);try{if(!await i()){c(null);return}}catch(y){c(null);return}u({prompt:g.prompt,id:g.id});return}u({prompt:g.prompt,id:g.id})};return s.jsxs("div",{className:"w-full px-3 md:px-0",children:[s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-3 text-sm font-medium",children:s.jsx(M,{id:"wham.startFirstTask.title",defaultMessage:"Start your first task"})}),s.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-bg-secondary rounded-3xl p-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:p.map(g=>s.jsxs("div",{className:ae("bg-token-bg-primary dark:bg-token-bg-tertiary flex flex-col justify-between rounded-2xl p-4 shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]"),children:[s.jsx("div",{className:"text-token-text-primary pb-4 text-sm leading-5.5",children:g.prompt}),s.jsx(Ue,{disabled:!m,label:m?t.formatMessage({id:"wham.startFirstTask.disabledTooltip",defaultMessage:"Please select a repository to start a task"}):null,children:s.jsx(q,{color:"secondary",disabled:h||n,loading:x===g.id,className:"self-start",onClick:()=>w(g),children:s.jsx(M,{id:"wham.startFirstTask.cta",defaultMessage:"Start"})})})]},g.id))})})]})}const Be=H(()=>V(()=>import("./iqoo5whnx14dvo9x.js").then(t=>t._),__vite__mapDeps([6,1])),{loading:t=>G(t)});function Ls(){const t=st(),e=_e(),a=me(),d=Q(),{data:x}=ue(),{mutate:c,isPending:l}=Se({showToast:!1}),n=()=>{c({codeReviewPreference:"always"},{onSuccess:()=>{a.success(d.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeSuccess",defaultMessage:"Code review is now enabled for you"}),{duration:2})},onError:()=>{a.danger(d.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeError",defaultMessage:"Failed to enable code review for you"}),{duration:2})}})},i=()=>{e("/codex/settings/code-review")};return(x==null?void 0:x.code_review_preference)==="always"?s.jsxs("div",{className:"flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx(Be,{className:"icon-xl"})}),s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(M,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledTitle",defaultMessage:"Code review enabled"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(M,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledDescription",defaultMessage:"Codex will review PRs you push to connected repos."})}),s.jsx(q,{onClick:()=>e("/codex/settings/code-review"),className:"min-w-[220px]",children:s.jsx(M,{id:"wham.codexEnvironmentPopover.manageCodeReview",defaultMessage:"Manage code review"})})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx(Be,{className:"icon-xl"})}),s.jsxs("div",{className:"text-centers flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(M,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingTitle",defaultMessage:"Enable code review"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(M,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingDescription",defaultMessage:"Catch critical bugs before they ship"})}),s.jsx(q,{onClick:n,className:"min-w-[220px]",loading:l,children:s.jsx(M,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButton",defaultMessage:"Enable for me"})}),t&&s.jsx(q,{onClick:i,className:"min-w-[220px]",color:"secondary",children:s.jsx(M,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButtonWorkspace",defaultMessage:"Enable for my workspace"})})]})]})}function Ws(t){"use forget";const e=$.c(4),{filter:a,homeTab:d}=t,x=d||(a==="archived"?"archived":a==="code_review"?"code_reviews":"all");if(x==="code_reviews"&&a==="code_review"){let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Ls,{}),e[0]=n):n=e[0],n}if(x==="archived"){let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(M,{id:"wham.whamTasksSection.noArchivedTasks",defaultMessage:"No archived tasks"})}),e[1]=n):n=e[1],n}if(x==="all"){let n;return e[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Os,{}),e[2]=n):n=e[2],n}let l;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(M,{id:"wham.whamTasksSection.noActiveTasks",defaultMessage:"No active tasks"})}),e[3]=l):l=e[3],l}const Ds=H(()=>V(()=>import("./hkdu34erhu96s165.js").then(t=>t._),__vite__mapDeps([7,1])),{loading:t=>G(t)});function Fs({filterOverride:t,homeTab:e}={}){var E;const a=F(({homeTab:v})=>v),d=e!=null?e:a,x=t!=null?t:Kt(d),{data:c,isLoading:l,error:n,fetchNextPage:i,hasNextPage:r,isFetchingNextPage:o,refetch:h,isPending:m}=qt({filter:x,refetchOnMount:!0,refetchOnWindowFocus:!0}),p=(E=c==null?void 0:c.pages.flatMap(v=>{var k;return(k=v.items)!=null?k:[]}))!=null?E:[],u=F(v=>v.pendingTaskIds),w=F(v=>v.pendingCodeReviewIds),g=p.length>0,[y,_]=I.useState(null),b=Array.from(Object.entries(u)).filter(([v,k])=>!p.some(N=>N.id===k)).map(([v])=>v).reverse(),f=Array.from(Object.entries(w)).filter(([v,k])=>!p.some(N=>N.id===k)).map(([v])=>v).reverse(),C=p.length===0&&b.length===0&&f.length===0;return s.jsx("div",{className:"flex flex-col justify-center pb-20",children:l&&!g?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(oe,{})}):s.jsxs(s.Fragment,{children:[C&&s.jsx(s.Fragment,{children:n?s.jsxs("div",{className:"mt-6 flex w-full flex-col items-center justify-center gap-2 text-sm",children:[s.jsx("div",{className:"text-interactive-label-warning-secondary",children:s.jsx(M,{id:"wham.whamTasksSection.errorLoadingTasks",defaultMessage:"Error loading tasks"})}),s.jsx(q,{color:"secondary",onClick:()=>h(),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(M,{id:"wham.whamTasksSection.retry",defaultMessage:"Retry"}),s.jsx(Ds,{className:"icon-xs"})]})})]}):s.jsx("div",{className:"mt-6 flex h-full w-full items-center justify-center",children:s.jsx(Ws,{filter:x,homeTab:d})})}),x==="current"&&b.map(v=>s.jsx(De,{},v)),x==="code_review"&&f.map(v=>s.jsx(De,{},v)),p.map((v,k)=>s.jsx(Ke,{index:k,taskListItem:v,hoveredIndex:y,onMouseEnter:()=>{_(k)},onMouseLeave:()=>_(null),currentFilter:x,showArchiveButton:x!=="code_review"},v.id)),s.jsx(is,{isFetchingNextPage:o||m,hasNextPage:r!=null?r:!1,fetchNextPage:i})]})})}const Me=I.memo(Fs),Bs=H(()=>V(()=>import("./n4tew1fjlr8lryav.js").then(t=>t._),__vite__mapDeps([8,1])),{loading:t=>G(t)}),Vs=H(()=>V(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>G(t)});function Hs(){"use forget";const t=$.c(20),{eligible:e,isLoading:a,markAsViewed:d}=Ye(),x=Ge(),c=Q(),l=me();if(a||!e)return null;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(Bs,{className:"h-6 w-6 shrink-0"}),t[0]=n):n=t[0];let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("h2",{className:"text-sm font-semibold md:text-base",children:s.jsx(M,{id:"wham.alphaBanner.title",defaultMessage:"Codex Alpha"})}),t[1]=i):i=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"flex flex-1 items-start gap-3 md:items-center md:gap-4",children:[n,s.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[i,s.jsx("p",{className:"text-token-text-secondary text-xs leading-5 md:text-sm",children:s.jsx(M,{id:"wham.alphaBanner.description",defaultMessage:"Get early access to new models and features."})})]})]}),t[2]=r):r=t[2];let o;t[3]!==c||t[4]!==d||t[5]!==x||t[6]!==l?(o=()=>{Xe.updateUserPreferences({alphaOptIn:!0}).then(async()=>{await Qt(x),d(),l.success(c.formatMessage({id:"wham.alphaBanner.enrolled",defaultMessage:"Enrolled in Codex alpha. Update your selection anytime in your settings."}),{duration:3})}).catch(()=>l.danger(c.formatMessage({id:"wham.alphaBanner.failed",defaultMessage:"Failed to update user preferences"}),{duration:3}))},t[3]=c,t[4]=d,t[5]=x,t[6]=l,t[7]=o):o=t[7];let h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(M,{id:"wham.alphaBanner.cta",defaultMessage:"Join now"}),t[8]=h):h=t[8];let m;t[9]!==o?(m=s.jsx(q,{size:"small",color:"primary",className:"text-token-text-secondary h-9 px-6 text-sm md:px-7",onClick:o,children:h}),t[9]=o,t[10]=m):m=t[10];let p;t[11]!==c?(p=c.formatMessage({id:"wham.alphaBanner.dismiss",defaultMessage:"Dismiss Codex alpha banner"}),t[11]=c,t[12]=p):p=t[12];let u;t[13]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(Vs,{className:"icon-sm"}),t[13]=u):u=t[13];let w;t[14]!==d||t[15]!==p?(w=s.jsx(q,{size:"small",color:"secondary",className:"text-token-text-tertiary border-token-border-subtle hover:bg-token-bg-secondary hover:text-token-text-primary h-9 w-9 text-sm font-medium",onClick:d,"aria-label":p,children:u}),t[14]=d,t[15]=p,t[16]=w):w=t[16];let g;return t[17]!==m||t[18]!==w?(g=s.jsx("div",{className:"mt-4 w-full px-3 md:px-0",children:s.jsx("div",{className:"border-token-border-subtle bg-token-bg-primary text-token-text-primary flex w-full flex-col gap-3 rounded-3xl border px-4 py-3 shadow-[0px_12px_32px_rgba(15,23,42,0.14)] md:px-6 md:py-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r,s.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[m,w]})]})})}),t[17]=m,t[18]=w,t[19]=g):g=t[19],g}const Re="codex_onboarding",ve="code_review";function Gs(t){const e=new URLSearchParams(t);return e.set(Re,ve),e.toString()}function Us(t){const e=new URLSearchParams(t);return e.delete(Re),e.toString()}function Te(t){"use forget";var Z,K,re,Pe,Ae,Ie;const e=$.c(28);let a;e[0]!==t?(a=t===void 0?{}:t,e[0]=t,e[1]=a):a=e[1];const{redirectUrl:d,onError:x}=a,c=X();let l;e[2]!==c?(l=J(c,"423120313"),e[2]=c,e[3]=l):l=e[3];const n=l,{status:i}=cs(gt[de.GITHUB_CONNECTOR]),r=i==="loading",o=!r&&i==="required",{eligible:h,markAsViewed:m,isLoading:p}=as(),{data:u,isFetching:w,error:g}=Je(h&&!p&&n),{data:y,isFetching:_,error:b}=ds(),{isConnected:f,isLoading:C,openGithubModal:E,error:v}=ye(de.GITHUB_CONNECTOR,"github",d!=null?d:"/codex?codex_onboarding=code_review",ce.CODEX),{data:k,isFetching:N,error:S}=ue();let j;e[4]!==(u==null?void 0:u.memberships)?(j=(Z=u==null?void 0:u.memberships)!=null?Z:[],e[4]=u==null?void 0:u.memberships,e[5]=j):j=e[5];let R;e[6]!==(u==null?void 0:u.other)?(R=(K=u==null?void 0:u.other)!=null?K:[],e[6]=u==null?void 0:u.other,e[7]=R):R=e[7];let T;e[8]!==j||e[9]!==R?(T=[...j,...R],e[8]=j,e[9]=R,e[10]=T):T=e[10];const A=T.length>0,D=(k==null?void 0:k.code_review_preference)==="always",O=(Ie=(Ae=(Pe=(re=g&&v)!=null?re:b)!=null?Pe:v)!=null?Ae:S)!=null?Ie:null;let P,W;e[11]!==O||e[12]!==x?(P=()=>{O&&x&&x()},W=[O,x],e[11]=O,e[12]=x,e[13]=P,e[14]=W):(P=e[13],W=e[14]),I.useEffect(P,W);const L=w||_||C||N||r,U=!o||y,B=!h;let z;return e[15]!==O||e[16]!==A||e[17]!==D||e[18]!==n||e[19]!==f||e[20]!==p||e[21]!==o||e[22]!==m||e[23]!==E||e[24]!==B||e[25]!==L||e[26]!==U?(z={isLoading:L,isMfaRequired:o,isMfaEnabled:U,isGitHubConnected:f,hasValidInstallation:A,isCodeReviewEnabled:D,hasCompletedCodeReviewFlow:B,isCodeReviewOnboardingFlowEnabled:n,isHasCompletedCodeReviewLoading:p,error:O,openGithubModal:E,markCompletedCodeReview:m},e[15]=O,e[16]=A,e[17]=D,e[18]=n,e[19]=f,e[20]=p,e[21]=o,e[22]=m,e[23]=E,e[24]=B,e[25]=L,e[26]=U,e[27]=z):z=e[27],z}function $s({isHasCompletedCodeReviewLoading:t,isCodeReviewEnabled:e,hasCompletedCodeReviewFlow:a,markCompletedCodeReview:d}){I.useEffect(()=>{!t&&e&&!a&&d()},[t,e,a,d])}const zs=H(()=>V(()=>import("./jkh8xq0ua1wxarx7.js"),__vite__mapDeps([9,1])),{loading:t=>G(t)}),qs=H(()=>V(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>G(t)}),Ks=H(()=>V(()=>import("./mvzgfqimm10c64ej.js").then(t=>t._),__vite__mapDeps([10,1])),{loading:t=>G(t)}),Qs=H(()=>V(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yA),__vite__mapDeps([0,1,2,3,4])),{loading:t=>G(t)}),Xs=H(()=>V(()=>import("./fqz8sozslskhjbvs.js").then(t=>t._),__vite__mapDeps([11,1])),{loading:t=>G(t)});function Js(){const t=Q(),e=X(),{data:a,isLoading:d}=Xt(),x=wt(),c=F(P=>P.preferredEditor),l=F(P=>P.setPreferredEditor),{eligible:n,isLoading:i,markAsViewed:r}=Ze(),{cli:o,vscode:h,cursor:m,windsurf:p}=at(e),{isLoading:u,isMfaRequired:w,isMfaEnabled:g,isGitHubConnected:y,hasValidInstallation:_,isCodeReviewEnabled:b,hasCompletedCodeReviewFlow:f,isCodeReviewOnboardingFlowEnabled:C,openGithubModal:E,error:v}=Te({redirectUrl:"/codex/settings/code-review"}),k=_e(),N=je(),S=ne.useMemo(()=>{const W=[...w?[!!g]:[],!!(y&&_),!!(b&&f)],L=W.length,U=W.filter(Boolean).length,B=L===0?0:U/L*100;return{completedSteps:U,totalSteps:L,percentage:B}},[_,w,g,b,f,y]),j=!u&&S.completedSteps<S.totalSteps,R=ne.useCallback(P=>{if(C)v||(P.preventDefault(),k({pathname:N.pathname,search:Gs(N.search),hash:N.hash},{replace:!1}));else if(!y){P.preventDefault(),E();return}},[y,v,C,N.hash,N.pathname,N.search,k,E]),T=ls(c,x),[A,D]=ne.useState(!1),O=ne.useRef(!1);return!n||i||d?null:s.jsxs("div",{className:"group w-full px-3 md:px-0",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center justify-between gap-1 ps-1 pt-6 pb-2 text-sm leading-tight font-medium",children:[a?s.jsx(M,{id:"wham.whatsNew.title",defaultMessage:"What's new with Codex"}):s.jsx(M,{id:"wham.gettingStarted.title",defaultMessage:"Get started with Codex"}),s.jsx(q,{onClick:r,className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(qs,{className:"icon-sm"})})]}),s.jsxs(le.div,{layout:!0,className:"grid grid-cols-1 gap-3 md:[grid-template-columns:repeat(auto-fit,minmax(220px,1fr))]",children:[s.jsx(le.div,{layout:!0,children:s.jsx(we,{children:s.jsxs("a",{href:o,target:"_blank",rel:"noreferrer",className:"group/card -m-4 flex items-center justify-between gap-3 rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(zs,{className:"icon-md"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(M,{id:"wham.gettingStarted.cli",defaultMessage:"Try in your terminal"})})]}),s.jsx(Xs,{className:"icon-sm text-token-text-tertiary origin-[bottom_var(--start)] scale-75 opacity-0 transition-all duration-100 ease-out group-hover/card:scale-100 group-hover/card:opacity-100"})]})})}),s.jsx(le.div,{layout:!0,children:s.jsx(we,{children:s.jsxs("div",{className:"group/card -m-4 flex cursor-pointer items-center justify-between gap-3 rounded-2xl p-4 select-none",role:"button",tabIndex:0,onPointerDown:()=>{O.current=A},onClick:()=>{O.current?D(!1):D(!0)},onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),D(W=>!W))},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(T,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(M,{id:"wham.gettingStarted.ide",defaultMessage:"Try in your IDE"})})]}),s.jsxs(bt,{contentAlign:"end",open:A,onOpenChange:D,triggerButton:s.jsx("button",{onClick:P=>P.stopPropagation(),"aria-label":t.formatMessage({id:"wham.gettingStarted.ide.open",defaultMessage:"Open IDE links"}),"aria-expanded":A,className:"hover:bg-token-bg-tertiary rounded-md p-1",children:s.jsx(Qs,{className:ae("icon-sm text-token-text-tertiary shrink-0 transition-all duration-100 ease-out group-hover/card:translate-y-0 group-hover/card:opacity-100",A?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})}),children:[s.jsx(pe.ItemAs,{as:"a",href:h,target:"_blank",rel:"noreferrer",onClick:()=>l("vscode"),children:"VS Code"}),s.jsx(pe.ItemAs,{as:"a",href:m,target:"_blank",rel:"noreferrer",onClick:()=>l("cursor"),children:"Cursor"}),s.jsx(pe.ItemAs,{as:"a",href:p,target:"_blank",rel:"noreferrer",onClick:()=>l("windsurf"),children:"Windsurf"})]})]})})}),s.jsx(vt,{initial:!1,children:!f&&s.jsx(le.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:s.jsx(we,{children:s.jsxs(xt,{to:"/codex/settings/code-review",className:"group/card -m-4 flex items-center gap-2 rounded-2xl p-4",onClick:R,children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Ks,{className:"icon-md relative z-10"})}),s.jsx("div",{className:"text-token-text-primary flex-1 text-sm font-medium",children:s.jsx(M,{id:"wham.gettingStarted.codeReview",defaultMessage:"Enable code review"})}),C&&!v&&(u||j)&&s.jsx("span",{className:"pointer-events-none flex h-4 w-4 items-center justify-center",children:u?s.jsx(oe,{className:"h-5 w-5"}):s.jsx(et,{percentage:S.percentage,thickness:1/10,sizeOverride:10,className:"text-token-text-primary h-10 w-10",backgroundStrokeClassName:"stroke-token-text-primary/20",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})})]})})},"code-review-card")})]})]})}function we({children:t}){return s.jsx("div",{className:ae("bg-token-bg-tertiary","dark:bg-token-bg-secondary","flex flex-col justify-between gap-1 rounded-2xl p-4"),children:t})}const Ys=H(()=>V(()=>import("./fdkwc23ton7ihjd6.js").then(t=>t._),__vite__mapDeps([12,1])),{loading:t=>G(t)}),Zs=H(()=>V(()=>import("./j0yo6uv6652vva62.js").then(t=>t.yw),__vite__mapDeps([0,1,2,3,4])),{loading:t=>G(t)}),ea=H(()=>V(()=>import("./ewkru1hsxkjpuxt5.js").then(t=>t._),__vite__mapDeps([13,1])),{loading:t=>G(t)});function ta(){const t=Q(),e=X(),{eligible:a,isLoading:d,markAsViewed:x}=tt(),{slack:c}=at(e),{isConnected:l,isLoading:n}=ye(de.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/connectors",ce.CODEX),i=ne.useCallback(()=>{x()},[x]);if(!a||d||n||l)return null;const r=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Ys,{className:"icon-md"})}),s.jsxs("div",{className:"flex flex-1 items-center gap-2 text-start text-sm leading-tight",children:[s.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(M,{id:"wham.gettingStarted.slack",defaultMessage:"Set up Codex with Slack"})}),s.jsx(ea,{className:"icon-sm text-token-text-primary shrink-0"})]})]});return s.jsx("div",{className:"group w-full px-3 pt-4 md:px-0",children:s.jsxs("div",{className:"bg-token-bg-tertiary/80 dark:bg-token-bg-secondary flex items-center gap-3 rounded-2xl px-4 py-3",children:[s.jsx("a",{href:c,target:"_blank",rel:"noreferrer",className:"group/card flex flex-1 items-center justify-between gap-3",onClick:()=>be.recordSlackLinkClicked(),children:r}),s.jsx(q,{onClick:i,className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 shrink-0 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(Zs,{className:"icon-sm"})})]})})}function xe(){"use forget";const t=$.c(21),e=Ze(),a=tt(),d=Ye(),[x,c]=I.useState(null),{data:l}=Jt(),n=ms(l);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Js,{}),t[0]=i):i=t[0];let r;t[1]!==e.eligible?(r={eligible:e.eligible,render:i},t[1]=e.eligible,t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ta,{}),t[3]=o):o=t[3];let h;t[4]!==a.eligible?(h={eligible:a.eligible,render:o},t[4]=a.eligible,t[5]=h):h=t[5];let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(Hs,{}),t[6]=m):m=t[6];let p;t[7]!==d.eligible?(p={eligible:d.eligible,render:m},t[7]=d.eligible,t[8]=p):p=t[8];let u;t[9]!==r||t[10]!==h||t[11]!==p?(u=[r,h,p],t[9]=r,t[10]=h,t[11]=p,t[12]=u):u=t[12];const w=u;let g;t[13]!==w||t[14]!==x?(g=x==null?(()=>{const f=w.findIndex(sa);return f>=0?f:null})():null,t[13]=w,t[14]=x,t[15]=g):g=t[15];const y=g;let _,b;if(t[16]!==y?(_=()=>{y!=null&&c(f=>f==null?y:f)},b=[y],t[16]=y,t[17]=_,t[18]=b):(_=t[17],b=t[18]),I.useEffect(_,b),n&&l){let f;return t[19]!==l?(f=s.jsx("div",{className:"w-full pt-6",children:s.jsx(us,{rateLimit:l,linkToUsageDashboard:!0})}),t[19]=l,t[20]=f):f=t[20],f}return x==null?null:w[x].render}function sa(t){return t.eligible}function aa(t){return J(t,"3984934927")}function na({shouldTurnOn:t,onChange:e}){const{data:a}=ue(),d=Q();return a?s.jsx("div",{className:"border-token-border-heavy bg-token-bg-primary flex w-full flex-col items-center rounded-lg border p-4",children:s.jsxs("div",{className:"flex w-full justify-between",children:[s.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-2",children:[s.jsx("p",{className:"text-token-text-primary text-sm leading-tight font-medium",children:s.jsx(M,{id:"wham.enableCodeReviewsToggle.label",defaultMessage:"Code reviews"})}),s.jsx("p",{className:"text-token-text-secondary justify-start text-xs leading-none font-normal",children:s.jsx(M,{id:"wham.enableCodeReviewsToggle.description",defaultMessage:"Automatically run reviews on new pull requests in this repo."})})]}),s.jsx("div",{className:"flex items-center",children:s.jsx($e,{checked:t,onCheckedChange:e,className:"radix-state-checked:bg-black!","aria-label":d.formatMessage({id:"wham.enableCodeReviewsToggle.ariaLabel",defaultMessage:"Enable code reviews by Codex"})})})]})}):null}function rt(){const t=X(),e=ze("installations/select_target"),{data:a,isLoading:d}=Je();I.useEffect(()=>{var c,l;if(d)return;[...(c=a==null?void 0:a.memberships)!=null?c:[],...(l=a==null?void 0:a.other)!=null?l:[]].length===0&&nt(e)},[d,a,t,e])}function oa({backCta:t,handleGoBack:e,handleSelectEnvironment:a,goToNextPage:d,lockPageView:x,shouldDisableRow:c,disablePill:l}){var S;const n=st(),i=Q(),r=X(),[o,h]=I.useState(""),[m,p]=I.useState(null),[u,w]=I.useState(!n),{mutate:g,isPending:y}=Cs({onSuccess:j=>{be.recordCreateEnvSuccess(),a(j.id,xs(j)),d()}}),{mutate:_}=_s(),{mutate:b}=Se({showToast:!1}),f=J(r,"2134057841"),C=J(r,"1535847699");rt();const v=Ns({defaultValues:{repositoryId:"",agentNetworkAccess:f?{mode:"off"}:null},validators:{onSubmit:({value:j})=>{var T;const R={};return(!j.repositoryId||j.repositoryId==="")&&(R.repositoryId=i.formatMessage({id:"wham.codexOnboardingEnvironments.repositoryIsRequired",defaultMessage:"Repository is required"})),f&&((T=j.agentNetworkAccess)==null?void 0:T.mode)==="on"&&j.agentNetworkAccess.preset_allowlist===vs&&(!j.agentNetworkAccess.allowlist_domains||j.agentNetworkAccess.allowlist_domains.length===0)&&(R.agentNetworkAccess=i.formatMessage({id:"wham.environmentsForm.agentNetworkAccessAllowlistRequired",defaultMessage:"At least one domain is required"})),{fields:R}}},onSubmit:({value:j})=>{be.recordEnvironmentsSubmit(),x(),u&&(b({codeReviewPreference:"repo_default"}),_({repo_review_settings:[{repository:j.repositoryId,review_preference:"team"}]})),g(ee(Y({},j),{label:o,description:"",machine:"wham-public/wham-universal",workspaceDirectory:"/workspace",share_settings:"workspace",setupCommands:"",maintenanceSetupCommands:"",envVars:[],secrets:[],autoSetupSettings:C?{use_auto_setup:!0}:null}))}}),k=j=>{j.preventDefault(),j.stopPropagation(),v.handleSubmit()},N=hs();return s.jsx("form",{onSubmit:k,className:"flex flex-col gap-6",children:s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(ps,{selectedInstallationId:(S=m==null?void 0:m.id)!=null?S:null,setSelectedInstallation:p}),s.jsx(v.Field,{name:"repositoryId",children:j=>{var R,T,A;return s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(gs,{installationId:(R=m==null?void 0:m.id)!=null?R:null,installationAccountLogin:(T=m==null?void 0:m.account_login)!=null?T:null,installationAccountType:(A=m==null?void 0:m.account_type)!=null?A:null,selectedRepository:j.state.value,onSelect:(D,O)=>{j.handleChange(D),h(O)},shouldDisableRow:c,disablePill:l}),s.jsx(Fe,{field:j})]})}}),s.jsx(na,{shouldTurnOn:u,onChange:w}),f&&s.jsx(v.Field,{name:"agentNetworkAccess",children:j=>{var R;return s.jsxs("div",{className:"flex flex-col gap-4",children:[N!=null&&s.jsx(ws,{disabledByWorkspaceSettings:N,agentNetworkAccess:j.state.value,onChange:j.handleChange}),s.jsx(Fe,{field:j}),((R=j.state.value)==null?void 0:R.mode)==="on"&&s.jsx(bs,{})]})}}),s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsx(q,{color:"secondary",size:"medium",type:"button",onClick:e,children:t}),s.jsx(v.Subscribe,{selector:j=>j.values,children:j=>s.jsx(q,{color:"primary",size:"medium",loading:y,disabled:!o||f&&!j.agentNetworkAccess,onClick:()=>v.handleSubmit(),children:s.jsx(M,{id:"wham.codexOnboardingEnvironments.createEnvironment",defaultMessage:"Create environment"})})})]})]})})}function ra(t){"use forget";const e=$.c(24),{isOpen:a,onClose:d}=t,x=Q(),{markAsViewed:c}=ns(),l=F(ca),n=F(la);let i;e[0]!==n||e[1]!==l?(i=(y,_)=>{l(y),n(_)},e[0]=n,e[1]=l,e[2]=i):i=e[2];const r=i;rt();let o;e[3]!==c||e[4]!==d?(o=()=>{c(),d()},e[3]=c,e[4]=d,e[5]=o):o=e[5];let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("h2",{className:"text-center text-2xl font-semibold",children:s.jsx(M,{id:"wham.createFirstEnvironmentModal.title",defaultMessage:"Create your first environment"})}),e[6]=h):h=e[6];let m;e[7]!==x?(m=x.formatMessage({id:"wham.createFirstEnvironmentModal.cancel",defaultMessage:"Cancel"}),e[7]=x,e[8]=m):m=e[8];let p;e[9]!==c||e[10]!==d?(p=()=>{c(),d()},e[9]=c,e[10]=d,e[11]=p):p=e[11];let u;e[12]!==c||e[13]!==d?(u=()=>{c(),d()},e[12]=c,e[13]=d,e[14]=u):u=e[14];let w;e[15]!==r||e[16]!==m||e[17]!==p||e[18]!==u?(w=s.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[h,s.jsx(oa,{backCta:m,handleGoBack:p,handleSelectEnvironment:r,goToNextPage:u,lockPageView:ia})]}),e[15]=r,e[16]=m,e[17]=p,e[18]=u,e[19]=w):w=e[19];let g;return e[20]!==a||e[21]!==o||e[22]!==w?(g=s.jsx(qe,{isOpen:a,onClose:o,type:"success",size:"large",noPadding:!0,testId:"modal-wham-create-first-environment",position:"center",contentClassName:"no-scrollbar",className:"h-[90vh]",children:w}),e[20]=a,e[21]=o,e[22]=w,e[23]=g):g=e[23],g}function ia(){}function la(t){return t.setBranch}function ca(t){return t.setEnvironmentId}function da(t){"use forget";const e=$.c(32),{disabledInstallations:a,autoReviewPreference:d,isAutoReviewPreferenceSaving:x,onAutoReviewPreferenceChange:c}=t;let l;e[0]!==a?(l=a===void 0?[]:a,e[0]=a,e[1]=l):l=e[1];const n=l,i=Q(),[r,o]=I.useState(d);let h,m;e[2]!==d?(h=()=>{o(d)},m=[d],e[2]=d,e[3]=h,e[4]=m):(h=e[3],m=e[4]),I.useEffect(h,m);const{filteredSettings:p,isLoading:u,isFetching:w,isTeamOrEnterprise:g,isPlus:y,isPro:_,user:b,isLegacyEnterprisey:f,currentAccountOwnerId:C,updateCodeReviewRepositories:E}=js();let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("p",{className:"text-sm font-medium",children:s.jsx(M,{id:"wham.codeReviewPage.teamAutomations.autoReviewToggle.label",defaultMessage:"Review all my pull requests"})}),e[5]=v):v=e[5];let k;e[6]!==i?(k=i.formatMessage({id:"wham.codeReviewPage.personalPreferences.toggleRepoCodeReviewAria",defaultMessage:"Toggle code review for personal preferences"}),e[6]=i,e[7]=k):k=e[7];const N=r==="always";let S;e[8]!==c?(S=D=>{const O=D?"always":"repo_default";o(O),c(O)},e[8]=c,e[9]=S):S=e[9];let j;e[10]!==x||e[11]!==k||e[12]!==N||e[13]!==S?(j=s.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3",children:[v,s.jsx($e,{"aria-label":k,checked:N,disabled:x,onCheckedChange:S})]}),e[10]=x,e[11]=k,e[12]=N,e[13]=S,e[14]=j):j=e[14];let R;e[15]!==C||e[16]!==n||e[17]!==p||e[18]!==w||e[19]!==f||e[20]!==u||e[21]!==y||e[22]!==_||e[23]!==g||e[24]!==E||e[25]!==(b==null?void 0:b.email)?(R=u?Array.from({length:4}).map(ma):p.length===0&&!w?s.jsx("div",{className:"text-token-text-tertiary px-4 py-6 text-center text-sm",children:s.jsx(M,{id:"wham.codeReviewPage.teamAutomations.noRepositories",defaultMessage:"No repositories"})}):p.map((D,O)=>{var P;return s.jsx(ys,{repo:D,isTeamOrEnterprise:g,isLegacyEnterprisey:f,isPlus:y,isPro:_,disabledInstallations:n,updateCodeReviewRepositories:E,currentAccountOwnerId:C,currentUserEmail:(P=b==null?void 0:b.email)!=null?P:null,layout:"condensed",showDivider:O!==0},ks(D))}),e[15]=C,e[16]=n,e[17]=p,e[18]=w,e[19]=f,e[20]=u,e[21]=y,e[22]=_,e[23]=g,e[24]=E,e[25]=b==null?void 0:b.email,e[26]=R):R=e[26];let T;e[27]!==R?(T=s.jsx("div",{className:"border-token-border-light min-h-0 flex-1 overflow-y-auto border-t pe-1",children:R}),e[27]=R,e[28]=T):T=e[28];let A;return e[29]!==T||e[30]!==j?(A=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary flex h-full max-h-[400px] min-h-0 flex-col overflow-hidden rounded-2xl border",children:[j,T]}),e[29]=T,e[30]=j,e[31]=A):A=e[31],A}function ma(t,e){return s.jsxs("div",{className:ae("flex items-center justify-between gap-3 px-4 py-3",e!==0&&"border-token-border-light border-t"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{className:"h-4 w-4 rounded"}),s.jsx(ge,{className:"h-4 w-32"})]}),s.jsx(ge,{className:"h-6 w-32 rounded-md"})]},"condensed-skeleton-".concat(e))}const it=H(()=>V(()=>import("./mvzgfqimm10c64ej.js").then(t=>t._),__vite__mapDeps([10,1])),{loading:t=>G(t)}),ua=H(()=>V(()=>import("./ewkru1hsxkjpuxt5.js").then(t=>t._),__vite__mapDeps([13,1])),{loading:t=>G(t)}),fa=H(()=>V(()=>import("./m7ju152dn5ab1rui.js").then(t=>t._),__vite__mapDeps([14,1])),{loading:t=>G(t)}),xa=[he({id:"wham.codeReviewOnboardingModal.step.mfa",defaultMessage:"Set up multi-factor authentication"}),he({id:"wham.codeReviewOnboardingModal.step.github",defaultMessage:"Connect to GitHub"}),he({id:"wham.codeReviewOnboardingModal.step.configure",defaultMessage:"Configure code review"})];function Ve(t){"use forget";const e=$.c(45),{onClose:a,onModalDismissed:d}=t,x=Q();let c;e[0]!==a||e[1]!==d?(c=async K=>{await d(),a()},e[0]=a,e[1]=d,e[2]=c):c=e[2];const l=c,{isLoading:n,isMfaRequired:i,isMfaEnabled:r,isGitHubConnected:o,hasValidInstallation:h,isCodeReviewEnabled:m,openGithubModal:p,markCompletedCodeReview:u}=Te({onError:()=>{g.danger(x.formatMessage({id:"wham.codeReviewOnboardingModal.errorToast",defaultMessage:"Failed to set up code review. Please try again."}),{id:"codex-code-review-onboarding-error",duration:5,hasCloseButton:!0}),l()}}),w=X(),g=_t(w);let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y={redirectUrl:"/codex?codex_onboarding=code_review"},e[3]=y):y=e[3];const{setupMfa:_}=Ss(y),[b,f]=I.useState(!1),C=!!r,E=!!(o&&h),v=!!m;let k;e[4]!==C||e[5]!==E||e[6]!==v?(k={"wham.codeReviewOnboardingModal.step.mfa":C,"wham.codeReviewOnboardingModal.step.github":E,"wham.codeReviewOnboardingModal.step.configure":v},e[4]=C,e[5]=E,e[6]=v,e[7]=k):k=e[7];const N=k;let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=ze("installations/select_target"),e[8]=S):S=e[8];const j=S;let R;e[9]!==h||e[10]!==o||e[11]!==n||e[12]!==N?(R=K=>n?s.jsx("span",{className:"border-token-border-heavy text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(oe,{className:"h-4 w-4"})}):K==="wham.codeReviewOnboardingModal.step.github"&&o&&!h?s.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(et,{percentage:50})}):N[K]?s.jsx("span",{className:"border-token-border-heavy bg-token-bg-success/40 text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full border-2",children:s.jsx(fa,{className:"h-3 w-3"})}):s.jsx("span",{className:"border-token-border-heavy flex h-5 w-5 items-center justify-center rounded-full border-2"}),e[9]=h,e[10]=o,e[11]=n,e[12]=N,e[13]=R):R=e[13];const T=R;let A;e[14]!==l||e[15]!==u?(A=async()=>{await l(),u()},e[14]=l,e[15]=u,e[16]=A):A=e[16];const D=A;let O;e[17]!==w||e[18]!==l||e[19]!==h||e[20]!==m||e[21]!==o||e[22]!==n||e[23]!==r||e[24]!==p||e[25]!==_?(O=async()=>{if(!n){if(!r){_(),await l();return}if(!o){await l(),p();return}if(!h){await l(),nt(j,w,{includeQueryParamForRedirect:!0});return}if(!m){f(!0);return}await l()}},e[17]=w,e[18]=l,e[19]=h,e[20]=m,e[21]=o,e[22]=n,e[23]=r,e[24]=p,e[25]=_,e[26]=O):O=e[26];const P=O;let W;e[27]!==x?(W=x.formatMessage({id:"wham.codeReviewOnboardingModal.hiddenTitle",defaultMessage:" "}),e[27]=x,e[28]=W):W=e[28];const L=W,U=b?"max-w-[520px]":"max-w-[420px]";let B;e[29]!==U?(B=ae("w-full",U),e[29]=U,e[30]=B):B=e[30];let z;e[31]!==D||e[32]!==P||e[33]!==h||e[34]!==o||e[35]!==n||e[36]!==i||e[37]!==T||e[38]!==b?(z=b?s.jsx(ha,{onComplete:D}):s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[s.jsx("div",{className:"rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(it,{className:"icon h-8 w-8"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.title",defaultMessage:"Set up code review"})}),s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.subtitle",defaultMessage:"Automatically review your pull requests with Codex"})})]})]}),s.jsx("div",{className:"border-token-border-light bg-token-bg-primary flex flex-col gap-3 rounded-2xl border p-4",children:xa.map(K=>{if(K.id==="wham.codeReviewOnboardingModal.step.mfa"&&!i)return;const re=K.id==="wham.codeReviewOnboardingModal.step.github"&&!n&&o&&!h;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:T(K.id)}),s.jsx("p",{className:"text-token-text-primary text-sm leading-5",children:s.jsx(M,Y({},K))}),re?s.jsx("span",{className:"text-token-text-secondary text-xs font-medium",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.step.github.inProgress",defaultMessage:"In-progress"})}):null]},K.id)})}),s.jsxs(q,{color:"primary",fullWidth:!0,onClick:P,contentWrapperClassName:"gap-2",disabled:n,children:[s.jsx("span",{children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.continue",defaultMessage:"Continue"})}),s.jsx(ua,{className:"icon-sm"})]})]}),e[31]=D,e[32]=P,e[33]=h,e[34]=o,e[35]=n,e[36]=i,e[37]=T,e[38]=b,e[39]=z):z=e[39];let Z;return e[40]!==l||e[41]!==L||e[42]!==B||e[43]!==z?(Z=s.jsx(qe,{isOpen:!0,onClose:l,showCloseButton:!0,showOverlayBackground:!0,noPadding:!0,size:"custom",position:"center",className:B,testId:"modal-codex-code-review-onboarding",closeButtonClassName:"text-token-text-secondary hover:text-token-text-primary transition-colors",title:L,children:z}),e[40]=l,e[41]=L,e[42]=B,e[43]=z,e[44]=Z):Z=e[44],Z}function ha(t){"use forget";var y;const e=$.c(13),{onComplete:a}=t,{data:d,isLoading:x,isError:c}=ue();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={showToast:!0},e[0]=l):l=e[0];const{mutate:n,isPending:i}=Se(l),{data:r}=Yt();let o;e[1]!==(r==null?void 0:r.installations_without_events)?(o=(y=r==null?void 0:r.installations_without_events)!=null?y:[],e[1]=r==null?void 0:r.installations_without_events,e[2]=o):o=e[2];const h=o,m=x||c||!d;let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("div",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(it,{className:"icon h-8 w-8"})}),e[3]=p):p=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.configure.title",defaultMessage:"Configure code review"})}),e[4]=u):u=e[4];let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[p,s.jsxs("div",{className:"flex flex-col gap-1",children:[u,s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.configure.subtitle",defaultMessage:"Select which repositories and PRs will be reviewed by Codex"})})]})]}),e[5]=w):w=e[5];let g;return e[6]!==h||e[7]!==i||e[8]!==a||e[9]!==m||e[10]!==n||e[11]!==d?(g=s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[w,m?s.jsx("div",{className:"flex flex-1 items-center justify-center",children:s.jsx(oe,{className:"h-9 w-9"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-0 flex-1 pe-1",children:s.jsx(da,{autoReviewPreference:d.code_review_preference,isAutoReviewPreferenceSaving:i,onAutoReviewPreferenceChange:_=>{n({codeReviewPreference:_})},disabledInstallations:h.map(pa)})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-token-text-tertiary text-center text-xs leading-5",children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.configure.footer",defaultMessage:"You can always change it in the settings"})}),s.jsx(q,{color:"primary",fullWidth:!0,onClick:a,children:s.jsx(M,{id:"wham.codeReviewOnboardingModal.configure.done",defaultMessage:"Done"})})]})]})]}),e[6]=h,e[7]=i,e[8]=a,e[9]=m,e[10]=n,e[11]=d,e[12]=g):g=e[12],g}function pa(t){return t.account_login}function ga(t,{isCodeReviewOnboardingFlowEnabled:e,hasCompletedCodeReviewFlow:a,isHasCompletedCodeReviewLoading:d}){const x=I.useRef(null),c=I.useRef(!1),l=_e(),n=je(),i=os();I.useEffect(()=>{const o=new URLSearchParams(n.search).get(Re);if(!e||i||d||a){c.current&&(jt(t,Ve),c.current=!1);return}if(o!==ve){x.current=o;return}if(x.current===ve&&c.current===!0)return;x.current=o;let h=!1;const m=async()=>{if(h)return;h=!0;const p=Us(n.search);await l({pathname:n.pathname,search:p,hash:n.hash},{replace:!0})};c.current=!0,yt(t,Ve,{onModalDismissed:async()=>{await m()}})},[t,n.hash,n.pathname,n.search,l,e,a,d,i])}function mn(t){"use forget";const e=$.c(19),a=X(),d=kt(a),x=aa(a),c=Ct(a),l=rs();fs();let n,i;e[0]!==a?(n=()=>Nt(a).limitActionGroups([]),i=[a],e[0]=a,e[1]=n,e[2]=i):(n=e[1],i=e[2]),I.useEffect(n,i);const r=J(a,"547652119"),o=F(wa);if(!d){if(x){let C;return e[3]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Vt,{}),e[3]=C):C=e[3],C}let f;return e[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ie,{to:"/"}),e[4]=f):f=e[4],f}if(l==="DISABLED"&&(c==null?void 0:c.isWorkspacePlan())){let f;return e[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ie,{to:"/codex/access",replace:!0}),e[5]=f):f=e[5],f}if(r){let f;return e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ie,{to:"/codex/failwhale"}),e[6]=f):f=e[6],f}if(l==="DISABLED"){let f;return e[7]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(ie,{to:"/",replace:!0}),e[7]=f):f=e[7],f}const m=ht,p=c==null?void 0:c.getWorkspaceId();let u;e[8]!==m||e[9]!==p?(u=s.jsx(m,{page:"codex"},p),e[8]=m,e[9]=p,e[10]=u):u=e[10];let w;e[11]!==o?(w=!1,e[11]=o,e[12]=w):w=e[12];let g;e[13]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(Ht,{children:s.jsx(Gt,{hideNotificationBell:!0})}),e[13]=g):g=e[13];let y,_;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(Lt,{mobileHeaderRightContent:null,children:s.jsxs("div",{className:"flex h-full flex-col",children:[g,s.jsx(St,{children:s.jsx(ba,{})})]})}),_=s.jsx(Ut,{}),e[14]=y,e[15]=_):(y=e[14],_=e[15]);let b;return e[16]!==u||e[17]!==w?(b=s.jsxs(s.Fragment,{children:[u,w,y,_]}),e[16]=u,e[17]=w,e[18]=b):b=e[18],b}function wa(t){return t.showReactQueryDevtools}function ba(){"use forget";var D,O,P;const t=$.c(42),{homeTab:e}=Qe(),[a,d,x]=F(va),[c,l]=I.useState(!1),n=je(),i=X(),{composerController:r}=Es(),o=I.useRef(!1),h=Te();ga(i,h),$s(h);let m,p;t[0]!==i?(m=()=>{Et(i).prefetchInfiniteQuery(es("archived"))},p=[i],t[0]=i,t[1]=m,t[2]=p):(m=t[1],p=t[2]),I.useEffect(m,p);let u;t[3]!==r||t[4]!==i||t[5]!==((D=n.state)==null?void 0:D.focusComposer)?(u=()=>{var L;const W=J(i,"1406552515");(L=n.state)!=null&&L.focusComposer&&!o.current&&!W&&(Mt(se(r)),o.current=!0)},t[3]=r,t[4]=i,t[5]=(O=n.state)==null?void 0:O.focusComposer,t[6]=u):u=t[6];const w=(P=n.state)==null?void 0:P.focusComposer;let g;t[7]!==r||t[8]!==i||t[9]!==w?(g=[w,r,i],t[7]=r,t[8]=i,t[9]=w,t[10]=g):g=t[10],I.useEffect(u,g);let y,_;t[11]!==r||t[12]!==i?(y=()=>{const W=J(i,"1406552515");We(se(r),W?"":F.getState().promptDraft)},_=[r,i],t[11]=r,t[12]=i,t[13]=y,t[14]=_):(y=t[13],_=t[14]),I.useEffect(y,_);let b,f;t[15]!==r||t[16]!==a?(b=()=>{const W=Rt(L=>{a(Pt(L.doc)?"":Tt(L.doc).content)},1e3);return At(()=>It(r),W)},f=[r,a],t[15]=r,t[16]=a,t[17]=b,t[18]=f):(b=t[17],f=t[18]),I.useEffect(b,f);let C,E;t[19]!==r||t[20]!==n.search?(E=()=>{const L=new URLSearchParams(n.search).get("prompt");L&&We(se(r),L)},C=[n.search,r],t[19]=r,t[20]=n.search,t[21]=C,t[22]=E):(C=t[21],E=t[22]),I.useEffect(E,C);const{data:v}=Zt();let k,N;t[23]!==v||t[24]!==n.search||t[25]!==d?(k=()=>{const L=new URLSearchParams(n.search).get("environment");L&&(v!=null&&v.some(U=>U.id===L))&&d(L)},N=[n.search,v,d],t[23]=v,t[24]=n.search,t[25]=d,t[26]=k,t[27]=N):(k=t[26],N=t[27]),I.useEffect(k,N);let S,j;t[28]!==n.search||t[29]!==x?(S=()=>{const L=new URLSearchParams(n.search).get("branch");L&&x(L)},j=[n.search,x],t[28]=n.search,t[29]=x,t[30]=S,t[31]=j):(S=t[30],j=t[31]),I.useEffect(S,j);let R;t[32]!==r||t[33]!==e||t[34]!==a?(R=s.jsx(Bt,{children:s.jsx(_a,{setPromptDraft:a,setShowCreateEnvModal:l,composerController:r,homeTab:e})}),t[32]=r,t[33]=e,t[34]=a,t[35]=R):R=t[35];let T;t[36]!==c?(T=c&&s.jsx(ra,{isOpen:c,onClose:()=>l(!1)}),t[36]=c,t[37]=T):T=t[37];let A;return t[38]!==r||t[39]!==R||t[40]!==T?(A=s.jsxs(Ot,{value:r,children:[R,T]}),t[38]=r,t[39]=R,t[40]=T,t[41]=A):A=t[41],A}function va(t){return[t.setPromptDraft,t.setEnvironmentId,t.setBranch]}function _a(t){"use forget";const e=$.c(21),{state:a}=Dt(),[d,x]=I.useState(!0);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=o=>{const h=()=>{x(o.scrollTop===0)};return o.addEventListener("scroll",h),h(),()=>o.removeEventListener("scroll",h)},e[0]=c):c=e[0];const l=c,n=F(ja),[i]=I.useState(!!n),r=d&&n==null;switch(a){case te.Error:case te.Complete:{let o;return e[1]!==r||e[2]!==i||e[3]!==t?(o=s.jsx(He,ee(Y({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[1]=r,e[2]=i,e[3]=t,e[4]=o):o=e[4],o}case te.NoGithubConnection:{let o;return e[5]!==r||e[6]!==i||e[7]!==t?(o=s.jsx(Ca,ee(Y({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[5]=r,e[6]=i,e[7]=t,e[8]=o):o=e[8],o}case te.NoEnvironmentsCreated:{let o;return e[9]!==r||e[10]!==i||e[11]!==t?(o=s.jsx(Na,ee(Y({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[9]=r,e[10]=i,e[11]=t,e[12]=o):o=e[12],o}case te.NoTasksCreated:{let o;return e[13]!==r||e[14]!==i||e[15]!==t?(o=s.jsx(Ma,ee(Y({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[13]=r,e[14]=i,e[15]=t,e[16]=o):o=e[16],o}case te.Loading:{let o;return e[17]!==r||e[18]!==i||e[19]!==t?(o=s.jsx(He,ee(Y({},t),{scrollRef:l,defaultExpanded:r,hasLastViewTaskIdOnMount:i})),e[17]=r,e[18]=i,e[19]=t,e[20]=o):o=e[20],o}}}function ja(t){return t.lastViewedTaskId}function He(t){"use forget";const e=$.c(31),{scrollRef:a,hasLastViewTaskIdOnMount:d,defaultExpanded:x,setPromptDraft:c,setShowCreateEnvModal:l,composerController:n,homeTab:i}=t,r=X();let o;e[0]!==r?(o=J(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const h=o;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={scrollbarGutter:"stable"},e[2]=m):m=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(fe,{}),e[3]=p):p=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(M,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=u):u=e[4];const w=d||h,g=x?!0:void 0,y=!h;let _;e[5]!==n||e[6]!==c?(_=()=>{ke(se(n)),c("")},e[5]=n,e[6]=c,e[7]=_):_=e[7];let b;e[8]!==l?(b=()=>l(!0),e[8]=l,e[9]=b):b=e[9];let f;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==_||e[14]!==b?(f=s.jsx(Ce,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:_,onSuccess:ya,onCreateEnvironment:b}),e[10]=w,e[11]=g,e[12]=y,e[13]=_,e[14]=b,e[15]=f):f=e[15];let C;e[16]!==h||e[17]!==f?(C=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ot,{disabled:h,children:f})}),e[16]=h,e[17]=f,e[18]=C):C=e[18];let E,v;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(xe,{}),v=s.jsx(Ee,{}),e[19]=E,e[20]=v):(E=e[19],v=e[20]);let k;e[21]!==C?(k=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[u,C,E,v]}),e[21]=C,e[22]=k):k=e[22];let N;e[23]!==i?(N=s.jsx(Me,{homeTab:i}),e[23]=i,e[24]=N):N=e[24];let S;e[25]!==k||e[26]!==N?(S=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[p,k,N]}),e[25]=k,e[26]=N,e[27]=S):S=e[27];let j;return e[28]!==a||e[29]!==S?(j=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:m,children:S}),e[28]=a,e[29]=S,e[30]=j):j=e[30],j}function ya(){Ne.set(ka)}function ka(t){return t+1}function Ca(t){"use forget";const e=$.c(15),{scrollRef:a,setShowCreateEnvModal:d}=t;let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={scrollbarGutter:"stable"},e[0]=x):x=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(fe,{}),e[1]=c):c=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(M,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[2]=l):l=e[2];let n;e[3]!==d?(n=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ts,{isGitHubConnected:!1,onClickCreateEnvironment:()=>d(!0)})}),e[3]=d,e[4]=n):n=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(xe,{}),e[5]=i):i=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-4 text-sm font-medium",children:s.jsx(M,{id:"wham.samples.title",defaultMessage:"Examples of what Codex can do"})})}),e[6]=r):r=e[6];let o;e[7]!==n?(o=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[l,n,i,r]}),e[7]=n,e[8]=o):o=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx(Ps,{})}),e[9]=h):h=e[9];let m;e[10]!==o?(m=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[c,o,h]}),e[10]=o,e[11]=m):m=e[11];let p;return e[12]!==a||e[13]!==m?(p=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:x,children:m}),e[12]=a,e[13]=m,e[14]=p):p=e[14],p}function Na(t){"use forget";const e=$.c(28),{scrollRef:a,hasLastViewTaskIdOnMount:d,defaultExpanded:x,setPromptDraft:c,composerController:l,setShowCreateEnvModal:n,homeTab:i}=t,r=X();let o;e[0]!==r?(o=J(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const h=o;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={scrollbarGutter:"stable"},e[2]=m):m=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(fe,{}),e[3]=p):p=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(M,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=u):u=e[4];const w=d||h,g=x?!0:void 0,y=!h;let _;e[5]!==l||e[6]!==c?(_=()=>{ke(se(l)),c("")},e[5]=l,e[6]=c,e[7]=_):_=e[7];let b;e[8]!==n?(b=()=>n(!0),e[8]=n,e[9]=b):b=e[9];let f;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==_||e[14]!==b?(f=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ce,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:_,onSuccess:Sa,onCreateEnvironment:b})}),e[10]=w,e[11]=g,e[12]=y,e[13]=_,e[14]=b,e[15]=f):f=e[15];let C,E;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(xe,{}),E=s.jsx(Ee,{}),e[16]=C,e[17]=E):(C=e[16],E=e[17]);let v;e[18]!==f?(v=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[u,f,C,E]}),e[18]=f,e[19]=v):v=e[19];let k;e[20]!==i?(k=s.jsx(Me,{homeTab:i}),e[20]=i,e[21]=k):k=e[21];let N;e[22]!==v||e[23]!==k?(N=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[p,v,k]}),e[22]=v,e[23]=k,e[24]=N):N=e[24];let S;return e[25]!==a||e[26]!==N?(S=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:m,children:N}),e[25]=a,e[26]=N,e[27]=S):S=e[27],S}function Sa(){Ne.set(Ea)}function Ea(t){return t+1}function Ma(t){"use forget";const e=$.c(31),{scrollRef:a,hasLastViewTaskIdOnMount:d,defaultExpanded:x,setPromptDraft:c,setShowCreateEnvModal:l,composerController:n,homeTab:i}=t,r=X();let o;e[0]!==r?(o=J(r,"1406552515"),e[0]=r,e[1]=o):o=e[1];const h=o;let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m={scrollbarGutter:"stable"},e[2]=m):m=e[2];let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(fe,{}),e[3]=p):p=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(M,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=u):u=e[4];const w=d||h,g=x?!0:void 0,y=!h;let _;e[5]!==n||e[6]!==c?(_=()=>{ke(se(n)),c("")},e[5]=n,e[6]=c,e[7]=_):_=e[7];let b;e[8]!==l?(b=()=>l(!0),e[8]=l,e[9]=b):b=e[9];let f;e[10]!==w||e[11]!==g||e[12]!==y||e[13]!==_||e[14]!==b?(f=s.jsx(Ce,{disableAutoFocus:w,expanded:g,isBigBoxMode:y,onSubmit:_,onSuccess:Ra,onCreateEnvironment:b}),e[10]=w,e[11]=g,e[12]=y,e[13]=_,e[14]=b,e[15]=f):f=e[15];let C;e[16]!==h||e[17]!==f?(C=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ot,{disabled:h,children:f})}),e[16]=h,e[17]=f,e[18]=C):C=e[18];let E,v;e[19]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(xe,{}),v=s.jsx(Ee,{}),e[19]=E,e[20]=v):(E=e[19],v=e[20]);let k;e[21]!==C?(k=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[u,C,E,v]}),e[21]=C,e[22]=k):k=e[22];let N;e[23]!==i?(N=s.jsx("div",{className:"w-full",children:s.jsx(Me,{homeTab:i})}),e[23]=i,e[24]=N):N=e[24];let S;e[25]!==k||e[26]!==N?(S=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[p,k,N]}),e[25]=k,e[26]=N,e[27]=S):S=e[27];let j;return e[28]!==a||e[29]!==S?(j=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:a,style:m,children:S}),e[28]=a,e[29]=S,e[30]=j):j=e[30],j}function Ra(){Ne.set(Ta)}function Ta(t){return t+1}export{mn as W};
//# sourceMappingURL=ep48sp46dg8duma4.js.map
