const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ceivmd4pm4umbvdn.js","assets/i8clt0mfz495j7ii.js","assets/dlsdwidt0kaib39s.js","assets/c8sj5q0wb2w4qlno.js"])))=>i.map(i=>d[i]);
var D=Object.defineProperty;var m=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var p=(a,i,t)=>i in a?D(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,l=(a,i)=>{for(var t in i||(i={}))_.call(i,t)&&p(a,t,i[t]);if(m)for(var t of m(i))L.call(i,t)&&p(a,t,i[t]);return a};import{r as T,j as e,e as w,M as o,f as v,_ as f}from"./i8clt0mfz495j7ii.js";import{B as A}from"./j0yo6uv6652vva62.js";import{nA as I,R as h,nB as g,mY as j,C as y,q as C,bF as c,nC as E,o as x,d as B,L as u}from"./ghewn7l2ynbm32fm.js";import{H as W}from"./eys65c62g4tdkkh3.js";const O=x(()=>f(()=>import("./ceivmd4pm4umbvdn.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>u(a)}),R=x(()=>f(()=>import("./dlsdwidt0kaib39s.js").then(a=>a._),__vite__mapDeps([2,1])),{loading:a=>u(a)}),G=x(()=>f(()=>import("./c8sj5q0wb2w4qlno.js").then(a=>a._),__vite__mapDeps([3,1])),{loading:a=>u(a)}),b=({value:a,isSelected:i,onSelect:t,workspacePlanType:n})=>e.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-hidden lg:text-start",onClick:()=>t(a),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="transfer"?e.jsx(R,{className:"icon-sm"}):e.jsx(O,{className:"icon-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a==="transfer"?e.jsx(o,l({},s.initialModalTransferLabel)):e.jsx(o,l({},s.initialModalExportLabel))}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:a==="transfer"?E(n)?e.jsx(o,l({},s.initialModalTransferEduDetail)):e.jsx(o,l({},s.initialModalTransferEnterpriseDetail)):e.jsx(o,l({},s.initialModalExportDetail))})]})]}),e.jsx("div",{className:B({"flex h-4 w-4 shrink-0 rounded-full border align-middle":!0,"bg-black":i}),children:i&&e.jsx(G,{className:"m-auto h-3 w-3 scale-x-75 stroke-4 text-white"})})]}),S=({setCurrentStep:a,destinationWorkspaceName:i,destinationWorkspaceProfilePictureUrl:t,destinationWorkspacePlanType:n})=>{const[r,M]=T.useState(""),d=w(),N=async()=>{r==="transfer"?a(1):r==="export"&&a(2)},P=E(n)?d.formatMessage(s.initialModalEduTitle):d.formatMessage(s.initialModalEnterpriseTitle);return e.jsx(y,{testId:"modal-account-transfer",isOpen:!0,onClose:C,type:"warning",title:P,primaryButton:e.jsx(c,{title:d.formatMessage(s.initialModalConfirm),onClick:N,color:"primary",className:"ms-4"}),children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-4",children:[e.jsx(A,{src:t,size:"large"}),e.jsx("div",{className:"font-semibold",children:i})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:e.jsx(o,l({},s.initialModalExplanation))}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-sm",children:e.jsx(o,l({},s.initialModalMustChoose))}),e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-2",children:e.jsx(o,l({},s.initialModalDataDelete))}),e.jsx("li",{children:e.jsx(o,l({},s.initialModalBilling))})]})]}),e.jsx(b,{value:"transfer",isSelected:r==="transfer",onSelect:M,workspacePlanType:n}),e.jsx(W,{}),e.jsx(b,{value:"export",isSelected:r==="export",onSelect:M,workspacePlanType:n})]})})},k=({currentStep:a,setCurrentStep:i,performAction:t})=>{const n=w();return e.jsx(y,{testId:"modal-account-transfer-selected",isOpen:!0,onClose:C,type:"success",title:n.formatMessage(s.selectedModalTitle),primaryButton:e.jsx(c,{title:a===1?n.formatMessage(s.transferModalConfirm):n.formatMessage(s.exportModalConfirm),color:a===2?"danger":"primary",onClick:t}),secondaryButton:e.jsx(c,{title:n.formatMessage(s.selectedModalBack),color:"secondary",onClick:async()=>{i(0)}}),children:e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:a===1?e.jsx(o,l({},s.transferModalConfirmTitle)):e.jsx(o,l({},s.exportModalConfirmTitle))}),a===1?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(o,l({},s.transferModalConfirmLabel))}):e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalChatHistoryLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalDeleteLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},s.exportModalChatDownloadLabel))})]}),e.jsx("h4",{className:"text-token-text-primary pt-5 font-semibold",children:a==1?e.jsx(o,l({},s.transferModalProceed)):e.jsx(o,l({},s.exportModalProceed))})]})})};function F(){const[a,i]=T.useState(0),t=I();if(!t)return null;switch(a){case 0:return e.jsx(S,{setCurrentStep:i,destinationWorkspaceName:t.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:t.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:t.destinationWorkspacePlanType});case 1:return e.jsx(k,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await h.safePost("/accounts/transfer",{requestBody:{workspace_id:t.destinationWorkspaceId}})).success&&(g(t.destinationWorkspaceId),j())}});case 2:return e.jsx(k,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await h.safePost("/accounts/export_and_deactivate")).success&&(g(t.destinationWorkspaceId),j())}})}}const s=v({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});export{F as default};
//# sourceMappingURL=h9j7auau81n4iqw1.js.map
