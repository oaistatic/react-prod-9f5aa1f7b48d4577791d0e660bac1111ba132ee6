const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ooz2slmm8agf6bjp.js","assets/i8clt0mfz495j7ii.js","assets/rsi9kppw43ykrsgk.js","assets/mdgmhl7nsma70wnx.js"])))=>i.map(i=>d[i]);
var Ve=Object.defineProperty,He=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Oe=(a,e,n)=>e in a?Ve(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,y=(a,e)=>{for(var n in e||(e={}))Ye.call(e,n)&&Oe(a,n,e[n]);if(Me)for(var n of Me(e))Ke.call(e,n)&&Oe(a,n,e[n]);return a},Te=(a,e)=>He(a,Qe(e));import{c as ke,e as Ge,h as Ze,r as L,p as Je,j as s,f as Le,M as N,_ as ve}from"./i8clt0mfz495j7ii.js";import{u as Xe,a5 as et,f as tt,W as st,bN as ot,cH as at,a as nt,cI as lt,bF as it,el as rt,aW as Y,aV as he,mM as ct,S as mt,P as H,R as dt,bM as pt,dY as ft,l$ as ut,o as Ne,bH as xt,$ as Pe,L as Ce,bO as gt}from"./ghewn7l2ynbm32fm.js";import{d as ht}from"./kgnykbdth8mb50na.js";import{cQ as yt,cR as _t,cS as St,aP as je,cT as bt,cU as We,cV as we,cW as B}from"./j0yo6uv6652vva62.js";import{useOnboardingSteps as jt,ToolsOnboarding as wt,LoadingState as kt}from"./kfcoh0i7m25vjqw6.js";import{D as vt,R as Nt,O as Ae}from"./ddoygll5qa9ks6q8.js";import"./g8i6bixylsxyemsr.js";import"./gbb3ypbzzsv572sp.js";import"./n8tfpmgkqe98i7yl.js";import"./kplnfohfof8ely0n.js";import"./iej0cupg2dqkmejt.js";import"./o1s10g7vrpyumh3e.js";import"./mq11hu99eist2abq.js";import"./m33zu9g0u0zd5b6m.js";import"./fe1zgnccg3ea7jld.js";import"./ji1868fe7hk3rgcl.js";import"./izvx0vf35f3cqx26.js";import"./e2bky2k6amgws3b2.js";import"./mtmwfv9ttg0ed53k.js";import"./bc51ukj7a2qfpnc3.js";import"./ktw3b87sujui39wx.js";import"./nrrhfi0a0bbsg9w2.js";import"./hht3m8p9e0s4tqnx.js";import"./hhl3vz1yrrpnwu4u.js";import"./b6hyii2315xk7j19.js";import"./olrcssu7duieo6m7.js";import"./kj8h59p17s2tn6gp.js";import"./hlon4mihnqp86jji.js";import"./f6ek1vdaohim72xh.js";import"./mpzbsmypy64alaao.js";import"./fvjpw0lui4wq7vv3.js";import"./mh1u90j45tiq86ol.js";import"./g4tl5lt9yqf20m4s.js";const Ct=Ne(()=>ve(()=>import("./ooz2slmm8agf6bjp.js").then(a=>a._),__vite__mapDeps([0,1])),{loading:a=>Ce(a)}),It=Ne(()=>ve(()=>import("./rsi9kppw43ykrsgk.js").then(a=>a._),__vite__mapDeps([2,1])),{loading:a=>Ce(a)}),Et=Ne(()=>ve(()=>import("./mdgmhl7nsma70wnx.js").then(a=>a._),__vite__mapDeps([3,1])),{loading:a=>Ce(a)}),R={0:"WorkspaceIntro",1:"Role",2:"Department",3:"Loading",4:"Tour",5:"WrappingUp"};function gs(a){"use forget";var Ee;const e=ke.c(109),{clientThreadId:n}=a,f=Ge(),h=Ze(),i=Xe(),m=et(),x=m==null?void 0:m.id,E=tt(st.businessWorkspaceId),{workspaceName:C,isLoading:I}=ht(),{closeModal:_,markAsViewed:S}=yt(),[r,U]=L.useState(0),[b,z]=L.useState();let M;e[0]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[0]=M):M=e[0];const[j,q]=L.useState(M);let O;e[1]!==x||e[2]!==E?(O=(t,o)=>{if(!E||!x)return;const l={role:t!=null?t:"",departments:o||[]};o!==void 0&&(mt.logEvent("chatgpt_biz_onboarding_completed"),H.logEvent("Business Onboarding Completed")),dt.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:E,user_id:x}},requestBody:{onboarding_information:l}})},e[1]=x,e[2]=E,e[3]=O):O=e[3];const w=O;let k;e[4]===Symbol.for("react.memo_cache_sentinel")?(k=["work"],e[4]=k):k=e[4];const{steps:P,isLoading:g,isError:A}=jt(!1,k,"",0),[d,Be]=L.useState(0);let K;e[5]!==n||e[6]!==i?(K=ot(i,n),e[5]=n,e[6]=i,e[7]=K):K=e[7];const T=K,[Re,ye]=at(n,Tt);let G;e[8]!==T?(G=()=>{var t;return((t=St(T))==null?void 0:t.value)===pt.STREAMING},e[8]=T,e[9]=G):G=e[9];const Ue=nt(G),Z=lt(Re)||Ue;let J;e[10]!==n?(J={clientThreadId:n},e[10]=n,e[11]=J):J=e[11];const D=_t(J);let X;e[12]===Symbol.for("react.memo_cache_sentinel")?(X=new Set(["dalle","file_upload","canvas","voice","ask_any_question"]),e[12]=X):X=e[12];const ze=X;let ee;if(e[13]!==P){let t;e[15]===Symbol.for("react.memo_cache_sentinel")?(t=o=>ze.has(o.step_type),e[15]=t):t=e[15],ee=P.filter(t),e[13]=P,e[14]=ee}else ee=e[14];const c=ee;let te;e[16]===Symbol.for("react.memo_cache_sentinel")?(te=new Set,e[16]=te):te=e[16];const[se,qe]=L.useState(te),[W,Ie]=L.useState(null);let oe,ae;e[17]!==n||e[18]!==c||e[19]!==g||e[20]!==h||e[21]!==se||e[22]!==r||e[23]!==d?(oe=()=>{if(r!==4)return;const t=c[d];!t||g||se.has(d)||t.step_prompt&&(qe(o=>new Set([...o,d])),je.setOnboardingConvoState({onboardingConvoClientThreadId:n}),bt(h),setTimeout(()=>{Ie(t)},500))},ae=[r,d,c,g,se,n,h],e[17]=n,e[18]=c,e[19]=g,e[20]=h,e[21]=se,e[22]=r,e[23]=d,e[24]=oe,e[25]=ae):(oe=e[24],ae=e[25]),L.useEffect(oe,ae);let ne;e[26]!==D||e[27]!==W?(ne=()=>{if(!W)return;const t=y({},W.step_metadata);W.step_type!=="dalle"&&t!=null&&t.onboarding&&(delete t.onboarding.system_hints,delete t.onboarding.hardcoded_response),D({eventSource:"url",stepPrompt:W.step_prompt,messageMetadata:t,authorMetadata:{real_author:ft.Onboarding}}),Ie(null)},e[26]=D,e[27]=W,e[28]=ne):ne=e[28];let le;e[29]!==D||e[30]!==W||e[31]!==ye?(le=[W,ye,D],e[29]=D,e[30]=W,e[31]=ye,e[32]=le):le=e[32],L.useEffect(ne,le);const _e=Je("/c/:conversationId"),De=!!(_e!=null&&_e.params.conversationId);let ie;e[33]===Symbol.for("react.memo_cache_sentinel")?(ie=[],e[33]=ie):ie=e[33],L.useEffect(Ot,ie);let re;e[34]!==c||e[35]!==d?(re=t=>{var u;U(t);const o=t===4&&((u=c[0])==null?void 0:u.step_type)||R[t],l=t+d;H.logEvent("Full Screen Biz Onboarding Step Shown",{step_type:o,step_index:l})},e[34]=c,e[35]=d,e[36]=re):re=e[36];const p=re;let ce;e[37]!==c||e[38]!==r?(ce=t=>{var u;Be(t);const o=r===4&&((u=c[t])==null?void 0:u.step_type)||R[r],l=r+t;H.logEvent("Full Screen Biz Onboarding Step Shown",{step_type:o,step_index:l})},e[37]=c,e[38]=r,e[39]=ce):ce=e[39];const Se=ce;let me;e[40]!==_||e[41]!==i||e[42]!==S?(me=()=>{S(),H.logEvent("Full Screen Biz Onboarding Complete"),We.set(i,!0),je.setOnboardingConvoState(null),_()},e[40]=_,e[41]=i,e[42]=S,e[43]=me):me=e[43];const be=me;let de;e[44]!==_||e[45]!==i||e[46]!==c||e[47]!==S||e[48]!==r||e[49]!==d?(de=()=>{var o;S();const t=r===4&&((o=c[d])==null?void 0:o.step_type)||R[r];H.logEvent("Full Screen Biz Onboarding Skipped",{step:t}),We.set(i,!0),je.setOnboardingConvoState(null),_()},e[44]=_,e[45]=i,e[46]=c,e[47]=S,e[48]=r,e[49]=d,e[50]=de):de=e[50];const F=de;let v=null;e:switch(r){case 0:{let t;e[51]!==p?(t=()=>p(1),e[51]=p,e[52]=t):t=e[52];let o;e[53]!==I||e[54]!==t||e[55]!==C?(o=s.jsx(Ft,{workspaceName:C,isLoadingWorkspaceName:I,onContinue:t}),e[53]=I,e[54]=t,e[55]=C,e[56]=o):o=e[56],v=o;break e}case 1:{let t;e[57]!==p||e[58]!==w?(t=u=>{z(u),w(u,void 0),p(2)},e[57]=p,e[58]=w,e[59]=t):t=e[59];let o;e[60]!==F?(o=()=>F(),e[60]=F,e[61]=o):o=e[61];let l;e[62]!==b||e[63]!==t||e[64]!==o?(l=s.jsx(Nt,{value:b,onSelect:t,onSkip:o}),e[62]=b,e[63]=t,e[64]=o,e[65]=l):l=e[65],v=l;break e}case 2:{let t;e[66]===Symbol.for("react.memo_cache_sentinel")?(t=$e=>q($e),e[66]=t):t=e[66];let o;e[67]!==j||e[68]!==b||e[69]!==p||e[70]!==w?(o=()=>{w(b,j),p(3)},e[67]=j,e[68]=b,e[69]=p,e[70]=w,e[71]=o):o=e[71];let l;e[72]!==F?(l=()=>F(),e[72]=F,e[73]=l):l=e[73];let u;e[74]!==j||e[75]!==o||e[76]!==l?(u=s.jsx(vt,{values:j,onSelect:t,onContinue:o,onSkip:l}),e[74]=j,e[75]=o,e[76]=l,e[77]=u):u=e[77],v=u;break e}case 3:{let t;e[78]!==p?(t=()=>p(4),e[78]=p,e[79]=t):t=e[79];const o=(Ee=m==null?void 0:m.first_name)!=null?Ee:void 0;let l;e[80]!==t||e[81]!==o?(l=s.jsx(kt,{isUserInfoReady:!0,setShowLoadingScreen:t,userName:o}),e[80]=t,e[81]=o,e[82]=l):l=e[82],v=l;break e}case 4:{const t=c[d],o=Z&&!De;let l;e[83]!==T||e[84]!==t||e[85]!==c.length||e[86]!==F||e[87]!==f||e[88]!==Z||e[89]!==A||e[90]!==g||e[91]!==o||e[92]!==p||e[93]!==Se||e[94]!==d?(l=c.length?s.jsx(wt,{step:t,gotoStep:Se,stepIndex:d,totalSteps:c.length,wrapUp:u=>u?F():p(5),conversation:T,isCompletionInProgress:Z,isNextButtonDisabled:o}):s.jsxs("div",{className:"px-6 py-8 text-sm",children:[s.jsx("p",{className:"text-token-text-secondary mb-6",children:g?f.formatMessage(Q.loadingTools):A?f.formatMessage(Q.toolsError):f.formatMessage(Q.noTools)}),s.jsx("div",{className:"flex justify-end gap-3",children:s.jsx(it,{title:f.formatMessage(Q.finishButton),color:"primary",onClick:()=>p(5)})})]}),e[83]=T,e[84]=t,e[85]=c.length,e[86]=F,e[87]=f,e[88]=Z,e[89]=A,e[90]=g,e[91]=o,e[92]=p,e[93]=Se,e[94]=d,e[95]=l):l=e[95],v=l;break e}case 5:{let t;e[96]!==be?(t=s.jsx(Wt,{endOnboarding:be}),e[96]=be,e[97]=t):t=e[97],v=t}}let pe,fe,ue,xe;e[98]===Symbol.for("react.memo_cache_sentinel")?(pe={opacity:0},fe={opacity:1},ue={opacity:0},xe={duration:.35},e[98]=pe,e[99]=fe,e[100]=ue,e[101]=xe):(pe=e[98],fe=e[99],ue=e[100],xe=e[101]);let $;e[102]!==v?($=typeof v=="string"?s.jsx("div",{children:v}):v,e[102]=v,e[103]=$):$=e[103];let V;e[104]!==$?(V=s.jsx("div",{className:"flex h-full max-h-full flex-col",children:s.jsx("div",{className:"flex min-h-0 flex-1 flex-col items-center justify-center overflow-hidden",children:s.jsx(Y,{mode:"wait",children:$})})}),e[104]=$,e[105]=V):V=e[105];let ge;return e[106]!==T||e[107]!==V?(ge=s.jsx(rt,{name:"NewUserOnboardingFlowForWork",fallback:Mt,children:s.jsx(Y,{children:s.jsx(he.div,{initial:pe,animate:fe,exit:ue,transition:xe,className:"bg-token-bg-primary absolute inset-0 start-0 top-0 z-50 h-full w-full",children:s.jsx(ct,{conversation:T,children:V})})})}),e[106]=T,e[107]=V,e[108]=ge):ge=e[108],ge}function Mt(){return s.jsx(s.Fragment,{})}function Ot(){H.logEvent("Full Screen Biz Onboarding Step Shown",{step_type:R[0],step_index:0})}function Tt(a){return[gt.getRequestId(a),!!a&&!a.isLoading]}function Wt(a){"use forget";const e=ke.c(7),{endOnboarding:n}=a;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(It,{className:"text-token-text-primary h-9 w-9 text-4xl"}),e[0]=f):f=e[0];let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4 text-center max-sm:flex-1",children:[f,s.jsx("p",{className:"text-token-text-primary text-center text-3xl",children:s.jsx(N,y({},Fe.allDone))})]}),e[1]=h):h=e[1];let i;e[2]!==n?(i=()=>n(),e[2]=n,e[3]=i):i=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(N,y({},Fe.continue)),e[4]=m):m=e[4];let x;return e[5]!==i?(x=s.jsxs(Ae,{className:"flex flex-col items-center justify-between max-sm:h-full max-sm:w-full max-sm:py-4 sm:w-[600px] sm:justify-center sm:gap-y-12",children:[h,s.jsx("div",{className:"flex flex-col gap-y-4 max-sm:w-full max-sm:px-6",children:s.jsx(Pe,{size:"large",color:"primary",onClick:i,fullWidth:!0,children:m})})]}),e[5]=i,e[6]=x):x=e[6],x}function Ft(a){"use forget";const e=ke.c(28),{onContinue:n,workspaceName:f,isLoadingWorkspaceName:h}=a;let i,m,x,E;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={opacity:0,y:12},m={opacity:1,y:0},x={duration:.5,delay:.15},E={opacity:0,y:-12},e[0]=i,e[1]=m,e[2]=x,e[3]=E):(i=e[0],m=e[1],x=e[2],E=e[3]);let C;e[4]!==h||e[5]!==f?(C=h?s.jsx("span",{className:"inline-flex w-40",children:s.jsx(ut,{size:"lg",className:"my-0! h-5 w-full!"})}):f||s.jsx(N,y({},Q.workspaceWelcomeNoName)),e[4]=h,e[5]=f,e[6]=C):C=e[6];let I;e[7]!==C?(I=s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("h1",{className:"text-token-text-primary text-center text-3xl font-semibold",children:s.jsx(Y,{children:s.jsx(he.div,{initial:i,animate:m,transition:x,exit:E,children:s.jsx(N,Te(y({},Q.workspaceWelcome),{values:{workspaceName:C}}))})})})}),e[7]=C,e[8]=I):I=e[8];let _,S,r,U;e[9]===Symbol.for("react.memo_cache_sentinel")?(S={opacity:0,y:16},r={opacity:1,y:0},U={opacity:0,y:-16},_={duration:.6,delay:.6},e[9]=_,e[10]=S,e[11]=r,e[12]=U):(_=e[9],S=e[10],r=e[11],U=e[12]);let b;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(we,{icon:s.jsx(Ct,{className:"icon text-brand-purple"}),title:s.jsx(N,y({},B.workUse)),body:s.jsx(N,y({},B.workUseBody))}),e[13]=b):b=e[13];let z;e[14]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(we,{icon:s.jsx(Et,{className:"icon text-green-600"}),title:s.jsx(N,y({},B.askAway)),body:s.jsx(N,y({},B.askAwayBody))}),e[14]=z):z=e[14];let M;e[15]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("div",{className:"flex flex-col gap-6 md:flex-row",children:s.jsx(Y,{children:s.jsxs(he.div,{className:"flex w-full flex-col gap-6 md:flex-row",initial:S,animate:r,exit:U,transition:_,children:[b,z,s.jsx(we,{icon:s.jsx(xt,{className:"icon mt-0.5 text-orange-300"}),title:s.jsx(N,y({},B.accuracy)),body:s.jsx(N,y({},B.accuracyBody))})]})})}),e[15]=M):M=e[15];let j,q,O,w;e[16]===Symbol.for("react.memo_cache_sentinel")?(j={opacity:0,y:18},q={opacity:1,y:0},O={opacity:0,y:-18},w={duration:.5,delay:1.4},e[16]=j,e[17]=q,e[18]=O,e[19]=w):(j=e[16],q=e[17],O=e[18],w=e[19]);let k;e[20]!==n?(k=()=>n(),e[20]=n,e[21]=k):k=e[21];let P;e[22]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(N,y({},B.gettingStartedButton)),e[22]=P):P=e[22];let g;e[23]!==k?(g=s.jsx("div",{className:"flex justify-center",children:s.jsx(Y,{children:s.jsx(he.div,{initial:j,animate:q,exit:O,transition:w,children:s.jsx(Pe,{size:"large",color:"primary",onClick:k,children:P})})})}),e[23]=k,e[24]=g):g=e[24];let A;return e[25]!==g||e[26]!==I?(A=s.jsx(Ae,{className:"flex flex-col items-center justify-between max-sm:h-full max-sm:w-full max-sm:py-4 sm:w-[700px] sm:justify-center sm:gap-y-12",children:s.jsxs("div",{className:"flex w-full flex-col gap-y-10",children:[I,M,g]})}),e[25]=g,e[26]=I,e[27]=A):A=e[27],A}const Q=Le({workspaceWelcome:{id:"work.onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},workspaceWelcomeNoName:{id:"work.onboarding.workspaceWelcomeNoName",defaultMessage:"your"},tourPlaceholder:{id:"work.onboarding.tourPlaceholder",defaultMessage:"(This placeholder will be replaced by dynamic tool steps similar to consumer onboarding.)"},finishButton:{id:"work.onboarding.finish",defaultMessage:"Finish"},loadingTools:{id:"work.onboarding.loadingTools",defaultMessage:"Loading personalized tipsâ€¦"},toolsError:{id:"work.onboarding.toolsError",defaultMessage:"Couldn't load tips. You can finish now."},noTools:{id:"work.onboarding.noTools",defaultMessage:"No additional tips to show. You're all set!"}}),Fe=Le({allDone:{id:"2qKnZd",defaultMessage:"All done!"},continue:{id:"oHLRr0",defaultMessage:"Continue to Chat"}});export{gs as default};
//# sourceMappingURL=2300d3k4aqie7rnx.js.map
